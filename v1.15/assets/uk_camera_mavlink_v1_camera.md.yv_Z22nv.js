import{_ as e}from"./chunks/mavlink_camera_settings.CK1rx6V0.js";import{_ as a,c as r,o as l,ab as t}from"./chunks/framework.CUflZczI.js";const f=JSON.parse('{"title":"Прості камери MAVLink (Протокол камери v1)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/camera/mavlink_v1_camera.md","filePath":"uk/camera/mavlink_v1_camera.md"}'),_={name:"uk/camera/mavlink_v1_camera.md"},n=t('<h1 id="прості-камери-mavlink-протокол-камери-v1" tabindex="-1">Прості камери MAVLink (Протокол камери v1) <a class="header-anchor" href="#прості-камери-mavlink-протокол-камери-v1" aria-label="Permalink to &quot;Прості камери MAVLink (Протокол камери v1)&quot;">​</a></h1><p>Ця тема пояснює, як використовувати PX4 з MAVLink <a href="./../camera/">камерою</a>, що реалізує <a href="https://mavlink.io/en/services/camera_v1.html" target="_blank" rel="noreferrer">Протокол Камери v1 (Простий Протокол Тригера)</a> з PX4 та Наземною Станцією.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><a href="./../camera/mavlink_v2_camera.html">Камери MAVLink</a>, що використовують <a href="https://mavlink.io/en/services/camera.html" target="_blank" rel="noreferrer">Протокол Камери MAVLink v2</a> слід використовувати замість цього, коли це можливо! Цей підхід зберігається для використання зі старими камерами MAVLink.</p></div><h2 id="загальнии-огляд" tabindex="-1">Загальний огляд <a class="header-anchor" href="#загальнии-огляд" aria-label="Permalink to &quot;Загальний огляд&quot;">​</a></h2><p><a href="https://mavlink.io/en/services/camera_v1.html" target="_blank" rel="noreferrer">Протокол камери v1</a> визначає невеликий набір команд, які дозволяють викликати камеру для:</p><ul><li>знімок неперервне зйомка з частотою, залежно від часу або відстані</li><li>захоплення відео</li><li>обмежені налаштування камери</li></ul><p>PX4 підтримує цей набір команд для спрацьовування камер з вбудованою підтримкою протоколу (як описано в цій темі), а також для <a href="./../camera/fc_connected_camera.html">камер, підключених до виходів контролера польоту</a>.</p><p>Наземні станції та SDK MAVLink, як правило, надсилають команди камери автопілоту, який потім передає їх на підключений канал MAVLink типу <code>onboard</code>. PX4 також повторно відправляє будь-які елементи місії камери, з якими він зустрічається у місії як команди камери: команди, які не приймаються, реєструються. У всіх випадках команди надсилаються з системним ідентифікатором автопілота та ідентифікатором компоненту 0 (тобто адресовані всім компонентам, включаючи камери).</p><p>PX4 також буде випускати <a href="https://mavlink.io/en/messages/common.html#CAMERA_TRIGGER" target="_blank" rel="noreferrer">CAMERA_TRIGGER</a> кожного разу, коли спрацьовує захоплення зображення (сама камера також може випускати це повідомлення при спрацьовуванні).</p><h2 id="керування-камерою" tabindex="-1">Керування камерою <a class="header-anchor" href="#керування-камерою" aria-label="Permalink to &quot;Керування камерою&quot;">​</a></h2><h3 id="команди-та-повідомлення-mavlink" tabindex="-1">Команди та повідомлення MAVLink <a class="header-anchor" href="#команди-та-повідомлення-mavlink" aria-label="Permalink to &quot;Команди та повідомлення MAVLink&quot;">​</a></h3><p><a href="https://mavlink.io/en/services/camera_v1.html" target="_blank" rel="noreferrer">Протокол камери v1 (простий тригер протокол)</a> визначає наступні команди:</p><ul><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_TRIGGER_CONTROL" target="_blank" rel="noreferrer">MAV_CMD_DO_TRIGGER_CONTROL</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_NAV_CMD_DO_DIGICAM_CONTROL" target="_blank" rel="noreferrer">MAV_CMD_NAV_CMD_DO_DIGICAM_CONTROL</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_CAM_TRIGG_DIST" target="_blank" rel="noreferrer">MAV_CMD_DO_SET_CAM_TRIGG_DIST</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_CAM_TRIGG_INTERVAL" target="_blank" rel="noreferrer">MAV_CMD_DO_SET_CAM_TRIGG_INTERVAL</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_OBLIQUE_SURVEY" target="_blank" rel="noreferrer">MAV_CMD_OBLIQUE_SURVEY</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_CONTROL_VIDEO" target="_blank" rel="noreferrer">MAV_CMD_DO_CONTROL_VIDEO</a></li></ul><p>Камера MAVLink буде підтримувати певний піднабір цих команд. Оскільки протокол не має процесу виявлення функцій, єдиний спосіб дізнатися - це оглянути <a href="https://mavlink.io/en/messages/common.html#COMMAND_ACK" target="_blank" rel="noreferrer">COMMAND_ACK</a>, що повернено у відповіді.</p><p>Камери також повинні видавати <a href="https://mavlink.io/en/messages/common.html#CAMERA_TRIGGER" target="_blank" rel="noreferrer">CAMERA_TRIGGER</a> кожного разу, коли захоплюється зображення.</p><p><a href="https://mavlink.io/en/services/camera_v1.html" target="_blank" rel="noreferrer">Протокол камери v1</a> детальніше описує протокол.</p><h3 id="радіостанціі-наземноі-станціі" tabindex="-1">Радіостанції наземної станції <a class="header-anchor" href="#радіостанціі-наземноі-станціі" aria-label="Permalink to &quot;Радіостанції наземної станції&quot;">​</a></h3><p>Наземні станції можуть використовувати будь-які команди у <a href="https://mavlink.io/en/services/camera_v1.html" target="_blank" rel="noreferrer">Протоколі Камери v1 (Простий Протокол Тригера)</a> і повинні надсилати їх до ідентифікатора компонента автопілоту. Якщо команди не підтримуються камерою, вона поверне <a href="https://mavlink.io/en/messages/common.html#COMMAND_ACK" target="_blank" rel="noreferrer">COMMAND_ACK</a> з помилковим результатом.</p><p>Зазвичай команди адресовані автопілоту, оскільки це працює незалежно від того, чи підключено камеру через MAVLink, чи безпосередньо до керування польотом. Якщо звернення до автопілота PX4, він буде висилати <a href="https://mavlink.io/en/messages/common.html#CAMERA_TRIGGER" target="_blank" rel="noreferrer">CAMERA_TRIGGER</a> кожного разу, коли захоплюється зображення, і може реєструвати подію захоплення камери.</p><p>У теорії ви також можете надсилати команди безпосередньо до камери.</p><h3 id="команди-камери-у-місіях" tabindex="-1">Команди камери у місіях <a class="header-anchor" href="#команди-камери-у-місіях" aria-label="Permalink to &quot;Команди камери у місіях&quot;">​</a></h3><p>Можна використовувати наступні команди <a href="https://mavlink.io/en/services/camera_v1.html" target="_blank" rel="noreferrer">Протокол камери v1 (простий тригер протокол)</a> в місіях (це той самий список, що і вище).</p><ul><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_TRIGGER_CONTROL" target="_blank" rel="noreferrer">MAV_CMD_DO_DIGICAM_CONTROL</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_NAV_CMD_DO_DIGICAM_CONTROL" target="_blank" rel="noreferrer">MAV_CMD_NAV_CMD_DO_DIGICAM_CONTROL</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_CAM_TRIGG_DIST" target="_blank" rel="noreferrer">MAV_CMD_DO_SET_CAM_TRIGG_DIST</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_CAM_TRIGG_INTERVAL" target="_blank" rel="noreferrer">MAV_CMD_DO_SET_CAM_TRIGG_INTERVAL</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_OBLIQUE_SURVEY" target="_blank" rel="noreferrer">MAV_CMD_OBLIQUE_SURVEY</a></li><li><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_CONTROL_VIDEO" target="_blank" rel="noreferrer">MAV_CMD_DO_CONTROL_VIDEO</a></li></ul><p>PX4 переістовує їх з тим самим ідентифікатором системи, що й автопілот, та ідентифікатором компонента <a href="https://mavlink.io/en/messages/common.html#MAV_COMP_ID_ALL" target="_blank" rel="noreferrer">MAV_COMP_ID_ALL</a>:</p><h3 id="ручне-керування" tabindex="-1">Ручне керування <a class="header-anchor" href="#ручне-керування" aria-label="Permalink to &quot;Ручне керування&quot;">​</a></h3><p>Ручне спрацьовування за допомогою цих камер не підтримується (ні для джойстика, ні для дистанційного керування).</p><h2 id="конфігурація-px4" tabindex="-1">Конфігурація PX4 <a class="header-anchor" href="#конфігурація-px4" aria-label="Permalink to &quot;Конфігурація PX4&quot;">​</a></h2><h3 id="налаштування-порту-та-перенаправлення-mavlink" tabindex="-1">Налаштування порту та перенаправлення MAVLink <a class="header-anchor" href="#налаштування-порту-та-перенаправлення-mavlink" aria-label="Permalink to &quot;Налаштування порту та перенаправлення MAVLink&quot;">​</a></h3><p>Підключіть PX4 до камери MAVLink, приєднавши її до не використаного послідовного порту на вашому авіаційному контролері, наприклад, <code>TELEM2</code>. Потім ви можете налаштувати порт як <a href="./../peripherals/mavlink_peripherals.html">MAVLink Peripheral</a>. Документ пояснює, як, але в описі:</p><ol><li>Змініть невикористаний параметр <code>MAV_n_CONFIG</code>, такий як <a href="./../advanced_config/parameter_reference.html#MAV_2_CONFIG">MAV_2_CONFIG</a>, щоб він був присвоєний порту, до якого підключена ваша камера.</li><li>Встановіть відповідний <a href="./../advanced_config/parameter_reference.html#MAV_2_MODE">MAV_2_MODE</a> на <code>2</code> (На борту). Це забезпечує, що правильний набір повідомлень MAVLink випромінюється та пересилається.</li><li>Можливо, вам доведеться встановити деякі інші параметри, залежно від вашого з&#39;єднання - наприклад, швидкість передачі даних.</li></ol><p>Підключіться та налаштуйте камеру, як рекомендовано в її посібнику користувача.</p><h3 id="режим-камери-та-режим-запуску" tabindex="-1">Режим камери та режим запуску <a class="header-anchor" href="#режим-камери-та-режим-запуску" aria-label="Permalink to &quot;Режим камери та режим запуску&quot;">​</a></h3><p>Налаштуйте водій камери PX4 для включення фонового процесу камери MAVLink та встановіть режим спуску для захоплення по команді в місіях обстеження.</p><p>Використання Від <em>QGroundControl</em>:</p><ul><li><p>Відкрийте <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/setup_view/camera.html#px4-camera-setup" target="_blank" rel="noreferrer">Налаштування рухомого засобу &gt; Камера</a>.</p></li><li><p>Встановіть значення, як показано:</p><p><img src="'+e+'" alt="Екран налаштування камери - Режим тригера та інтерфейс для MAVLink"></p></li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You can also <a href="./../advanced_config/parameters.html">set the parameters directly</a>:</p><ul><li><a href="./../advanced_config/parameter_reference.html#TRIG_MODE">TRIG_MODE</a> — <code>4</code>: Основано на відстані, за командою (режим опитування)</li><li><a href="./../advanced_config/parameter_reference.html#TRIG_INTERFACE">TRIG_INTERFACE</a> — <code>3</code>: MAVLink</li></ul></div>',36),i=[n];function o(m,s,h,c,M,p){return l(),r("div",null,i)}const v=a(_,[["render",o]]);export{f as __pageData,v as default};
