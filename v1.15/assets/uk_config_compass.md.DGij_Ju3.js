import{_ as a,a as e}from"./chunks/sensor_compass_calibrate_px4.DmkGTxD8.js";import{_ as o,c as t,o as l,ab as r}from"./chunks/framework.CUflZczI.js";const b=JSON.parse('{"title":"Калібрування компасу","description":"","frontmatter":{},"headers":[],"relativePath":"uk/config/compass.md","filePath":"uk/config/compass.md"}'),i={name:"uk/config/compass.md"},s=r('<h1 id="калібрування-компасу" tabindex="-1">Калібрування компасу <a class="header-anchor" href="#калібрування-компасу" aria-label="Permalink to &quot;Калібрування компасу&quot;">​</a></h1><p>Процес калібрування компаса налаштовує всі підключені внутрішні та зовнішні <a href="./../gps_compass/">магнітометри</a>. <em>QGroundControl</em> допоможе вам розташувати транспортний засіб у кількох фіксованих орієнтаціях та обертати транспортний засіб навколо вказаної вісі.</p><div class="info custom-block"><p class="custom-block-title">Калібрування компасу також автоматично визначає орієнтацію компасу (<a href="./../advanced_config/parameter_reference.html#SENS_MAG_AUTOROT">за замовчуванням</a>). Якщо ви маєте <a href="./../assembly/mount_gps_compass.html#compass-orientation">встановлений компас</a> під нестандартним кутом, вам потрібно <a href="./../config/flight_controller_orientation.html#setting-the-compass-orientation">вручну встановити орієнтацію компаса</a> перед калібруванням.</p></div><h2 id="загальнии-огляд" tabindex="-1">Загальний огляд <a class="header-anchor" href="#загальнии-огляд" aria-label="Permalink to &quot;Загальний огляд&quot;">​</a></h2><p>Вам потрібно буде калібрувати ваш компас при першому використанні, і можливо, вам доведеться повторно калібрувати його, якщо транспортний засіб коли-небудь викладений на дуже сильне магнітне поле, або якщо він використовується в області з аномальними магнітними характеристиками.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Індикація поганого компасу включає в себе мультикоп кругообігу під час наведення, туалет (обхід при збільшенні радіуса/вітальні, завжди постійна висота, що веде до польоту) або прямує поза стежкою при спробі підійти прямо. <em>QGroundControl</em> також повинно повідомляти про помилку <code>сенсори магнітного поля неузгоджені</code>.</p></div><p>Доступні два типи калібрування компаса:</p><ol><li><a href="#complete-calibration">Завершити</a>: Ця калібрування потрібна після встановлення автопілота на повітряну раму вперше або коли конфігурація транспортного засобу змінилася значно. Воно компенсує впливи твердого та м&#39;якого заліза, оцінюючи зміщення та коефіцієнт масштабу для кожної вісі.</li><li><a href="#partial-quick-calibration">Часткова</a> (&quot;Швидка калібрування&quot;): Цю калібрування можна виконати як регулярну процедуру при підготовці транспортного засобу до польоту, після зміни корисного навантаження або просто коли компас здається неточним. Цей тип калібрування лише оцінює зміщення для компенсації ефекту твердого заліза.</li></ol><h2 id="виконання-калібрування" tabindex="-1">Виконання калібрування <a class="header-anchor" href="#виконання-калібрування" aria-label="Permalink to &quot;Виконання калібрування&quot;">​</a></h2><h3 id="передумови" tabindex="-1">Передумови <a class="header-anchor" href="#передумови" aria-label="Permalink to &quot;Передумови&quot;">​</a></h3><p>Перед початком калібрування:</p><ol><li>Виберіть місце подалеку від великих металевих об&#39;єктів або магнітних полів. :::tip Метал часом не завжди очевидний! Уникайте калібрування на верхній частині офісного столу (часто містять металеві пластины) або поруч з транспортним засобом. Калібрування може бути навіть уражено, якщо ви стоїте на бетонній плиті з нерівномірним розподілом арматури. :::</li><li>Підключайтесь за допомогою телеметричного радіо, а не через USB, якщо це взагалі можливо. USB потенційно може викликати значне магнітне втручання.</li><li>Якщо використовується зовнішній компас (або комбінований модуль GPS/компас), переконайтеся, що він <a href="./../assembly/mount_gps_compass.html">встановлений</a> якомога далі від інших електронних пристроїв для зменшення магнітних перешкод, і в <em>підтримуваному положенні</em>.</li></ol><h3 id="повне-калібрування" tabindex="-1">Повне калібрування <a class="header-anchor" href="#повне-калібрування" aria-label="Permalink to &quot;Повне калібрування&quot;">​</a></h3><p>Калібрування включає наступні кроки:</p><ol><li><p>Запустіть <em>QGroundControl</em> та підключіть транспортний засіб.</p></li><li><p>Виберіть <strong>іконку &quot;Q&quot; &gt; Налаштування транспортного засобу &gt; Датчики</strong> (бічна панель), щоб відкрити <em>Налаштування датчиків</em>.</p></li><li><p>Натисніть кнопку датчика <strong>Compass</strong>.</p><p><img src="'+a+'" alt="Виберіть Калібрування компасу PX4"></p><div class="info custom-block"><p class="custom-block-title">Ви вже повинні були встановити <a href="./../config/flight_controller_orientation.html">Орієнтацію автопілота</a>. Якщо ні, ви також можете встановити це тут.</p></div></li></ol><p>:::</p><ol><li><p>Клацніть <strong>Ok</strong>, щоб розпочати калібрування.</p></li><li><p>Розмістіть транспортний засіб у будь-якому з показаних червоних орієнтацій (неповний) та утримуйте його нерухомим. Після запиту (орієнтаційне зображення стає жовтим) обертайте транспортний засіб навколо вказаної вісі в одному або обох напрямках. Після завершення калібрування для поточного орієнтації пов&#39;язане зображення на екрані стане зеленим.</p><p><img src="'+e+'" alt="Калібрування компасу на PX4"></p></li><li><p>Повторіть процес калібрування для всіх орієнтацій автомобіля.</p></li></ol><p>Після калібрування автомобіля у всіх положеннях <em>QGroundControl</em> відобразить <em>Калібрування завершено</em> (всі зображення орієнтації будуть відображені зеленим кольором, а панель прогресу буде заповнена повністю). Ви можете потім перейти до наступного сенсора.</p><h3 id="часткова-швидка-калібрування" tabindex="-1">Часткова &quot;Швидка&quot; Калібрування <a class="header-anchor" href="#часткова-швидка-калібрування" aria-label="Permalink to &quot;Часткова &quot;Швидка&quot; Калібрування&quot;">​</a></h3><p>Ця калібровка схожа на відому калібровку компасу у вигляді восьмірки, виконану на смартфоні:</p><ol><li>Утримуйте транспортний засіб перед собою та випадковим чином виконуйте часткові обертання по всіх його осях. 2-3 коливань на кут близько 30 градусів у кожному напрямку зазвичай достатньо.</li><li>Зачекайте, поки оцінка заголовку стабілізується, і перевірте, що компас вказує в правильному напрямку (це може зайняти кілька секунд).</li></ol><p>Примітки:</p><ul><li>Немає можливості початку/зупинки для цього типу калібрування (алгоритм працює безперервно, коли транспортний засіб роззброєний).</li><li>Калібрування негайно застосовується до даних (перезавантаження не потрібно), але зберігається в параметрах калібрування лише після відброшення транспортного засобу (калібрування втрачається, якщо між калібруванням і вимкненням не виконана послідовність увімкнення/вимкнення).</li><li>Амплітуда та швидкість часткових обертань, виконаних на кроці 1, можуть впливати на якість калібрування. Найчастіше вище зазначені поради виявляються досить ефективними.</li></ul><h2 id="верифікація" tabindex="-1">Верифікація <a class="header-anchor" href="#верифікація" aria-label="Permalink to &quot;Верифікація&quot;">​</a></h2><p>Після завершення калібрування перевірте, щоб індикатор напрямку та напрямок стрілки на карті були стабільними і відповідали орієнтації транспортного засобу при його повороті, наприклад, на головні сторони.</p><h2 id="додаткова-калібрування-конфігурація" tabindex="-1">Додаткова калібрування/конфігурація <a class="header-anchor" href="#додаткова-калібрування-конфігурація" aria-label="Permalink to &quot;Додаткова калібрування/конфігурація&quot;">​</a></h2><p>Вищезазначений процес автоматично виявить, <a href="./../advanced_config/parameter_reference.html#SENS_MAG_AUTOROT">встановить обертання за замовчуванням</a>, калібрувати та встановлювати пріоритети для всіх підключених магнітометрів.</p><p>Додаткова конфігурація компаса, як правило, не повинна бути потрібною.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Усі зовнішні компаси за замовчуванням мають однаковий пріоритет, який вище, ніж пріоритет, який мають всі внутрішні компаси.</p></div><h3 id="вимкнути-компас" tabindex="-1">Вимкнути Компас <a class="header-anchor" href="#вимкнути-компас" aria-label="Permalink to &quot;Вимкнути Компас&quot;">​</a></h3><p>Як вже зазначено вище, як правило, додаткова конфігурація не потрібна.</p><p>Зазначимо, розробники можуть вимкнути внутрішні компаси за потреби, використовуючи параметри компасу. Ці мають префікс <a href="./../advanced_config/parameter_reference.html#CAL_MAG0_ID">CAL<em>MAGx</em></a> (де <code>x=0-3</code>).</p><p>Щоб вимкнути внутрішній компас:</p><ul><li>Використовуйте <a href="./../advanced_config/parameter_reference.html#CAL_MAG0_ROT">CAL_MAGn_ROT</a>, щоб визначити, які компаси є внутрішніми. Компас є внутрішнім, якщо <code>CAL_MAGn_ROT==1</code>.</li><li>Потім використовуйте <a href="./../advanced_config/parameter_reference.html#CAL_MAG0_PRIO">CAL_MAGx_PRIO</a> для вимкнення компасу. Це також може бути використано для зміни відносного пріоритету компаса.</li></ul><h2 id="відлагодження" tabindex="-1">Відлагодження <a class="header-anchor" href="#відлагодження" aria-label="Permalink to &quot;Відлагодження&quot;">​</a></h2><p>Сирові порівняльні дані для магнітометрів (фактично, для всіх сенсорів) можуть бути збережені, встановивши <a href="./../advanced_config/parameter_reference.html#SDLOG_MODE">SDLOG_MODE=1</a> та <a href="./../advanced_config/parameter_reference.html#SDLOG_PROFILE">SDLOG_PROFILE=64</a>. Див. <a href="./../dev_log/logging.html">Логування</a> для отримання додаткової інформації.</p><h2 id="детальна-інформація" tabindex="-1">Детальна інформація <a class="header-anchor" href="#детальна-інформація" aria-label="Permalink to &quot;Детальна інформація&quot;">​</a></h2><ul><li><a href="./../gps_compass/">Периферійні пристрої &gt; GPS &amp; Компас</a></li><li><a href="./../assembly/">Основна збірка</a> (інструкції з налаштування для кожного контролера польоту)</li><li><a href="./../advanced_config/compass_power_compensation.html">Компенсація енергії компасу</a> (Розширена конфігурація)</li><li><a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/setup_view/sensors_px4.html#compass" target="_blank" rel="noreferrer">QGroundControl Посібник користувача &gt; Датчики</a></li><li><a href="https://youtu.be/91VGmdSlbo4?t=2m38s" target="_blank" rel="noreferrer">Відео налаштування PX4 - @2m38s</a> (Youtube)</li></ul>',38),n=[s];function c(p,h,m,d,_,u){return l(),t("div",null,n)}const q=o(i,[["render",c]]);export{b as __pageData,q as default};
