import{_ as s,c as a,o as e,ab as p}from"./chunks/framework.CUflZczI.js";const v=JSON.parse('{"title":"DShot ESCs","description":"","frontmatter":{},"headers":[],"relativePath":"uk/peripherals/dshot.md","filePath":"uk/peripherals/dshot.md"}'),t={name:"uk/peripherals/dshot.md"},o=p(`<h1 id="dshot-escs" tabindex="-1">DShot ESCs <a class="header-anchor" href="#dshot-escs" aria-label="Permalink to &quot;DShot ESCs&quot;">​</a></h1><p>DShot - це альтернативний протокол ESC, який має кілька переваг над <a href="./../peripherals/pwm_escs_and_servo.html">PWM</a> або <a href="./../peripherals/oneshot.html">OneShot</a>:</p><ul><li>Зменшений час затримки.</li><li>Підвищена надійність за допомогою контрольної суми.</li><li>Не потрібна калібрування ESC, оскільки протокол використовує цифрове кодування.</li><li>Зворотний зв&#39;язок телеметрії доступний/підтримується на деяких ESC.</li><li>Може змінювати напрямок обертання двигуна за допомогою команд при потребі (замість фізичного переміщення проводів / перепайки).</li><li>Інші корисні команди підтримуються.</li></ul><p>Ця тема показує, як підключити та налаштувати DShot ESC.</p><p><a id="wiring"></a></p><h2 id="проводка-з-єднання" tabindex="-1">Проводка/З&#39;єднання <a class="header-anchor" href="#проводка-з-єднання" aria-label="Permalink to &quot;Проводка/З&#39;єднання&quot;">​</a></h2><p>DShot ESC підключені так само, як <a href="./pwm_escs_and_servo.html">PWM ESCs</a>. Єдина відмінність полягає в тому, що їх можна підключити лише до FMU, і зазвичай лише до певного підмножини контактів.</p><p>::: інформація Можливо, вам захочеться перевірити екран конфігурації приводу, щоб побачити, які контакти доступні для DShot на вашому контролері, перш ніж підключати їх! :::</p><p>Контролери Pixhawk з якими є як плата FMU, так і плата IO, зазвичай позначають їх як <code>AUX</code> (FMU) та <code>MAIN</code> (IO) відповідно. Ці відповідають виходам <code>PWM AUX</code> та <code>PWM MAIN</code> на вкладці конфігурації приводу. Для цих контролерів підключіть DShot ESC до порту <code>AUX</code>.</p><p>Контролери, які не мають плати введення-виведення (IO board), зазвичай позначають (один) вихідний порт як <code>MAIN</code>, і саме тут ви підключите свій DShot ESC. Якщо контролер без IO має власне програмне забезпечення, призначення приводу буде до відповідних виходів <code>PWM MAIN</code>. Однак, якщо для апаратного забезпечення з/без плати введення/виведення використовується та ж прошивка, наприклад, для Pixhawk 4 та Pixhawk 4 Mini, то вкладка призначення приводів в обох випадках однакова: <code>PWM AUX</code> (тобто не відповідає мітці порта <code>MAIN</code> у випадку &quot;міні&quot;).</p><h2 id="налаштування" tabindex="-1">Налаштування <a class="header-anchor" href="#налаштування" aria-label="Permalink to &quot;Налаштування&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Видаліть гвинти пропелерів перед зміною параметрів конфігурації ESC!</p></div><p>Увімкніть DShot для необхідних виходів у <a href="./../config/actuators.html">Конфігурації приводів</a>.</p><p>DShot має різні варіанти швидкості: <em>DShot150</em>, <em>DShot300</em>, <em>DShot600</em> та <em>DShot1200</em>, де число вказує на швидкість у кілобітах/секунду. Ви повинні встановити параметр на найвищу швидкість, підтримувану вашим ESC (згідно з його технічним описом).</p><p>Підключіть батарею та озбройте транспортний засіб. РЕГБ повинні ініціалізуватися, а мотори повинні обертатися в правильних напрямках.</p><ul><li>Якщо двигуни не обертаються в правильному напрямку (для <a href="./../airframes/airframe_reference.html">вибраної конструкції повітряного судна</a>), ви можете змінити їх напрямок у користувацькому інтерфейсі, використовуючи опцію <strong>Встановити напрямок обертання</strong> (ця опція з&#39;являється після вибору DShot та призначення двигунів). Ви також можете реверсувати двигуни, відправивши <a href="#commands">команду ESC</a>.</li></ul><p><a id="commands"></a></p><h2 id="команди-esc" tabindex="-1">Команди ESC <a class="header-anchor" href="#команди-esc" aria-label="Permalink to &quot;Команди ESC&quot;">​</a></h2><p>Команди можна надсилати на ESC через <a href="./../debug/mavlink_shell.html">MAVLink shell</a>. Дивіться <a href="./../modules/modules_driver.html#dshot">тут</a> для повного посилання на підтримувані команди.</p><p>Найважливіші з них:</p><ul><li><p>Зробіть перший сигнал двигуна (допомагає ідентифікувати мотори):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>dshot beep1 -m 1</span></span></code></pre></div></li><li><p>Отримати інформацію ESC (потрібно телеметрію, див. нижче):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>nsh&gt; dshot esc_info -m 2</span></span>
<span class="line"><span>INFO  [dshot] ESC Type: #TEKKO32_4in1#</span></span>
<span class="line"><span>INFO  [dshot] MCU Serial Number: xxxxxx-xxxxxx-xxxxxx-xxxxxx</span></span>
<span class="line"><span>INFO  [dshot] Firmware version: 32.60</span></span>
<span class="line"><span>INFO  [dshot] Rotation Direction: normal</span></span>
<span class="line"><span>INFO  [dshot] 3D Mode: off</span></span>
<span class="line"><span>INFO  [dshot] Low voltage Limit: off</span></span>
<span class="line"><span>INFO  [dshot] Current Limit: off</span></span>
<span class="line"><span>INFO  [dshot] LED 0: unsupported</span></span>
<span class="line"><span>INFO  [dshot] LED 1: unsupported</span></span>
<span class="line"><span>INFO  [dshot] LED 2: unsupported</span></span>
<span class="line"><span>INFO  [dshot] LED 3: unsupported</span></span></code></pre></div><ul><li>Назавжди змініть напрямок обертання першого двигуна:</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>dshot reverse -m 1</span></span>
<span class="line"><span>dshot save -m 1</span></span></code></pre></div><p>Отримання інформації ESC після команди <code>dshot reverse -m 1</code> без команди <code>dshot save -m 1</code> покаже:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Rotation Direction: reversed</span></span></code></pre></div><p>після збереження його за допомогою команди <code>dshot save -m 1</code>, зворотній напрямок стане новим звичайним напрямком:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>Rotation Direction: normal</span></span></code></pre></div><p>Щоб змінити напрямок знову, потрібно відправити нову команду <code>dshot reverse -m 1</code>.</p></li></ul><h2 id="телеметрія" tabindex="-1">Телеметрія <a class="header-anchor" href="#телеметрія" aria-label="Permalink to &quot;Телеметрія&quot;">​</a></h2><p>Деякі ESC можуть надсилати телеметрію до контролера польоту, включаючи:</p><ul><li>температура</li><li>напруга</li><li>струм</li><li>накопичене поточне споживання</li><li>Значення RPM</li></ul><p>Ці DShot ESCs матимуть додатковий телеметрійний дріт.</p><p>Щоб увімкнути цю функцію (на ESC, які її підтримують):</p><ol><li>Об&#39;єднайте всі дроти телеметрії з усіх ESC разом, а потім підключіть їх до одного з контактів RX на не використаному порту послідовного зв&#39;язку контролера польоту.</li><li>Увімкніть телеметрію на цьому послідовному порту за допомогою <a href="./../advanced_config/parameter_reference.html#DSHOT_TEL_CFG">DSHOT_TEL_CFG</a>.</li></ol><p>Після перезавантаження ви можете перевірити, чи працює телеметрія (переконайтеся, що акумулятор підключений), використовуючи:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>dshot esc_info -m 1</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Можливо, вам доведеться налаштувати <a href="./../advanced_config/parameter_reference.html#MOT_POLE_COUNT">MOT_POLE_COUNT</a>, щоб отримати правильні значення обертів на хвилину (RPM).</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Не всі ESC, які підтримують DSHOT, підтримують <code>[esc_info]</code> (наприклад, APD 80F3x), навіть коли підтримується телеметрія та ввімкнено. Отримана помилка:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>ERROR [dshot] No data received. Якщо телеметрія налаштована правильно, спробуйте ще раз.</span></span></code></pre></div><p>Перевірте документацію виробника для підтвердження/подробиць.</p></div>`,31),n=[o];function i(l,c,d,h,r,u){return e(),a("div",null,n)}const g=s(t,[["render",i]]);export{v as __pageData,g as default};
