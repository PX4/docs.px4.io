import{_ as a,a as i,b as e,c as r,d as t,e as s,f as o,g as l,h as p,i as n}from"./chunks/esp8266_flashing_ftdi.Dp2hfL8u.js";import{_ as h,c,o as d,ab as m}from"./chunks/framework.CUflZczI.js";const E=JSON.parse('{"title":"Модуль WiFi ESP8266","description":"","frontmatter":{},"headers":[],"relativePath":"uk/telemetry/esp8266_wifi_module.md","filePath":"uk/telemetry/esp8266_wifi_module.md"}'),u={name:"uk/telemetry/esp8266_wifi_module.md"},g=m('<h1 id="модуль-wifi-esp8266" tabindex="-1">Модуль WiFi ESP8266 <a class="header-anchor" href="#модуль-wifi-esp8266" aria-label="Permalink to &quot;Модуль WiFi ESP8266&quot;">​</a></h1><p>ESP8266 та його клони - це недорогі та легко доступні модулі Wi-Fi з повним стеком TCP/IP та можливістю мікроконтролера. Вони можуть використовуватись з будь-яким контролером Pixhawk.</p><div class="tip custom-block"><p class="custom-block-title">ESP8266 - це <em>defacto</em> за замовчуванням WiFi модуль для використання з <a href="./../flight_controller/pixracer.html">Pixracer</a> (і, як правило, має вбудований з ним).</p></div><h2 id="де-купити" tabindex="-1">Де купити <a class="header-anchor" href="#де-купити" aria-label="Permalink to &quot;Де купити&quot;">​</a></h2><p>Модуль ESP8266 легко доступний від ряду постачальників. Нижче наведено перелік кількох виконавців.</p><p>Більшість модулів підтримують тільки 3.3 V у той час як деякі контролери польоту (наприклад, Pixhawk 4) вивід на 5V (вам потрібно перевірити сумісність і виконати зниження напруги при необхідності).</p><p>Модулі, що приймають постачання 3.3V:</p><ul><li><a href="https://www.sparkfun.com/products/13678" target="_blank" rel="noreferrer">WRL-17146</a> (Sparkfun)</li><li><a href="https://us.gearbest.com/boards-shields/pp_009604906563.html" target="_blank" rel="noreferrer">AI Cloud</a> - discontinued (GearBeast)</li></ul><p>Модулі, що приймають постачання 5.3V:</p><ul><li><a href="https://www.banggood.com/Wireless-Wifi-to-Uart-Telemetry-Module-With-Antenna-for-Mini-APM-Flight-Controller-p-1065339.html" target="_blank" rel="noreferrer">AI Thinker</a> (Banggood)</li><li><a href="https://www.banggood.com/MAVLink-Wifi-Bridge-2_4G-Wireless-Wifi-Telemetry-Module-with-Antenna-for-Pixhawk-APM-Flight-Controller-p-1428590.html" target="_blank" rel="noreferrer">AlphaUAVLink</a> (Banggood)</li></ul><p><a id="px4_config"></a></p><h2 id="встановлення-pixhawk-px4-конфігураціі" tabindex="-1">Встановлення Pixhawk/PX4 &amp; конфігурації <a class="header-anchor" href="#встановлення-pixhawk-px4-конфігураціі" aria-label="Permalink to &quot;Встановлення Pixhawk/PX4 &amp; конфігурації&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Спершу вам <em>може</em> знадобитися оновити радіо з прошивкою ESP8266, сумісною з PX4 (<a href="#esp8266-flashing-firmware-advanced">див. нижче</a>). Інструкції по виготовленню повинні пояснити, чи це потрібно.</p></div><p>Підключіть свій ESP8266 до вашого польотного контролера серії Pixhawk (наприклад, Pixracer) на будь-якому вільному UART.</p><p>Підключіть контролер польоту до вашої наземної станції через USB (так як WiFi ще не повністю налаштований).</p><p>Використання <em>QGroundControl</em>:</p><ul><li><a href="./../config/firmware.html">Завантажити останню прошивку PX4 на контролер польоту</a>.</li><li><a href="./../peripherals/serial_configuration.html">Налаштувати послідовний порт</a>, який використовується для підключення ESP8266. Не забудьте встановити швидкість передачі даних на 921600, щоб відповідати значенню, встановленому для ESP8266.</li><li><a href="./../peripherals/mavlink_peripherals.html">Налаштуйте MAVLink</a> на відповідному послідовному порту для отримання телеметрії та передачі команд через ESP8266.</li></ul><p>Після того, як ви налаштували послідовний порт керування польотом для підключення до радіо, ви можете від&#39;єднати фізичне USB-підключення між наземною станцією та транспортним засобом.</p><h2 id="підключення-через-esp8266-до-qgc" tabindex="-1">Підключення через ESP8266 до QGC <a class="header-anchor" href="#підключення-через-esp8266-до-qgc" aria-label="Permalink to &quot;Підключення через ESP8266 до QGC&quot;">​</a></h2><p>Модуль надає точку доступу WiFi, яку ваш комп&#39;ютер земної станції може використовувати для підключення до літального апарату.</p><div class="info custom-block"><p class="custom-block-title">Налаштування точки доступу ESP8266 повинні бути надані разом з платою (наприклад, зазвичай надруковані на зворотному боці плати або на упаковці).</p><p>Типові налаштування заводської мережі:</p><ul><li><strong>SSID:</strong> PixRacer</li><li><strong>Password:</strong> pixracer</li><li><strong>WiFi Channel:</strong> 11</li><li><strong>UART speed:</strong> 921600</li></ul><p>Інші модулі можуть використовувати налаштування, подібні до цього:</p><ul><li><strong>SSID:</strong> IFFRC_xxxxxxxx</li><li><strong>Password:</strong> 12345678</li><li><strong>IP:</strong> 192.168.4.1</li><li><strong>Port:</strong> 6789 (TCP)</li></ul><p>Приклади дошок від AlphaUILink та DOITING показані нижче:</p><p><img src="'+a+'" width="250px" alt="AlphaUAVLink - Back"> <img src="'+i+'" width="250px" alt="AlphaUAVLink - Front"> <img src="'+e+'" width="250px" alt="DOITING EPS 12F - Back"> <img src="'+r+'" width="250px" alt="DOITING EPS 12F - Front"></p></div><p>У Wi-Fi увімкнена <em>QGroundControl</em> основний комп&#39;ютер станцій/планшет, знайдіть і підключіться до відкритої бездротової мережі для ESP8266. На комп&#39;ютері з Windows налаштування підключення до мережі з назвою <strong>Pixracer</strong> та типовим паролем <strong>pixracer</strong> будуть виглядати так:</p><p><img src="'+t+'" alt="Windows Network Setup: Connection"> <img src="'+s+'" alt="Windows Network Setup: Security"></p><p><em>QGroundControl</em> автоматично підключиться до літального апарату, коли комп&#39;ютер наземної станції підключений до точки доступу WiFi з назвою &quot;Pixracer&quot;.</p><p>Якщо ви використовуєте модуль з будь-яким іншим ім&#39;ям WiFi, вам потрібно вручну налаштувати підключення WiFi QGroundControl, як показано в наступному розділі.</p><h2 id="налаштувати-qgc-з-нестандартними-wifi-підключеннями" tabindex="-1">Налаштувати QGC з нестандартними WiFi підключеннями <a class="header-anchor" href="#налаштувати-qgc-з-нестандартними-wifi-підключеннями" aria-label="Permalink to &quot;Налаштувати QGC з нестандартними WiFi підключеннями&quot;">​</a></h2><p><em>QGroundControl</em> автоматично підключиться до транспортного засобу, коли комп&#39;ютер наземної станції буде підключений до точки доступу WiFi &quot;Pixracer&quot;. Для будь-якого іншого імені точки доступу вам потрібно буде вручну створити спеціальне комунікаційне посилання:</p><ol><li>Перейдіть у <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/settings_view/settings_view.html" target="_blank" rel="noreferrer">Налаштування додатку &gt; Канали зв&#39;язку</a></li><li>Додайте нове підключення з відповідними налаштуваннями.</li><li>Виберіть нове підключення та натисніть <strong>Підключитися</strong>.</li><li>Автомобіль тепер повинен підключатися</li></ol><h2 id="перевірити" tabindex="-1">Перевірити <a class="header-anchor" href="#перевірити" aria-label="Permalink to &quot;Перевірити&quot;">​</a></h2><p>Тепер ви повинні бачити рух HUD на вашому комп&#39;ютері QGC через бездротове з&#39;єднання і мати можливість переглядати панель підсумків для моста WiFi ESP8266 (як показано нижче).</p><p><img src="'+o+'" alt="QGC Summary showing Wifi Bridge"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Якщо у вас виникли проблеми з підключенням, див. <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/troubleshooting/qgc_usage.html" target="_blank" rel="noreferrer">Проблеми використання QGC</a>.</p></div><h2 id="прошивка-прошивка-esp8266-розширении" tabindex="-1">Прошивка/прошивка ESP8266 (розширений) <a class="header-anchor" href="#прошивка-прошивка-esp8266-розширении" aria-label="Permalink to &quot;Прошивка/прошивка ESP8266 (розширений)&quot;">​</a></h2><p>Модулі ESP8266 від різних виробників можуть не мати встановленого відповідного прошивкового забезпечення ESP8266 наперед. Інструкції нижче пояснюють, як налаштувати та запустити тести локально.</p><h3 id="готові-бінарні-фаили" tabindex="-1">Готові бінарні файли <a class="header-anchor" href="#готові-бінарні-фаили" aria-label="Permalink to &quot;Готові бінарні файли&quot;">​</a></h3><p><a href="http://www.grubba.com/mavesp8266/firmware-1.2.2.bin" target="_blank" rel="noreferrer">MavLink ESP8266 Firmware V 1.2.2</a></p><h3 id="побудувати-з-джерел" tabindex="-1">Побудувати з Джерел <a class="header-anchor" href="#побудувати-з-джерел" aria-label="Permalink to &quot;Побудувати з Джерел&quot;">​</a></h3><p>У сховищі <a href="https://github.com/dogmaphobic/mavesp8266" target="_blank" rel="noreferrer">прошивки</a> містяться інструкції та всі необхідні інструменти для збирання та прошивки прошивки ESP8266.</p><h3 id="оновлення-прошивки-ota" tabindex="-1">Оновлення прошивки OTA <a class="header-anchor" href="#оновлення-прошивки-ota" aria-label="Permalink to &quot;Оновлення прошивки OTA&quot;">​</a></h3><p>Якщо у вас встановлено мікропрограму 1.0.4 або новішої версії, ви можете виконати оновлення за допомогою функції <em>Over The Air Update</em> ESP. Просто підключіться до його AP WiFi мережі та перейдіть за посиланням: <code>http://192.168.4.1/update</code>. Потім ви можете вибрати файл прошивки, який ви завантажили вище, та завантажити його на модуль WiFi.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Це найпростіший спосіб оновити прошивку!</p></div><h3 id="прошивка-прошивки-esp8266" tabindex="-1">Прошивка прошивки ESP8266 <a class="header-anchor" href="#прошивка-прошивки-esp8266" aria-label="Permalink to &quot;Прошивка прошивки ESP8266&quot;">​</a></h3><p>Перед прошивкою переконайтеся, що ви завантажили ESP8266 в <em>Режим прошивання</em>, як описано нижче. Якщо ви клонували репозиторій <a href="https://github.com/dogmaphobic/mavesp8266" target="_blank" rel="noreferrer">MavESP8266</a>, ви можете зібрати та прошити прошивку, використовуючи надані інструменти та середовище <a href="http://platformio.org" target="_blank" rel="noreferrer">PlatformIO</a>. Якщо ви завантажили заздалегідь побудоване вбудоване програмне забезпечення вище, завантажте утиліту <a href="https://github.com/espressif/esptool" target="_blank" rel="noreferrer">esptool</a> та скористайтеся наведеною нижче командною стрічкою:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">esptool.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --baud</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 921600</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/your_serial_port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> write_flash</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x00000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> firmware_xxxxx.bin</span></span></code></pre></div><p>Де:</p><ul><li><strong>firmware_xxxxx.bin</strong> це прошивка, яку ви завантажили вище</li><li><strong>your_serial_port</strong> - це назва серійного порту в якому ESP8266 підключений до (<code>/dev/cu.usbmodem</code>)</li></ul><h3 id="проводка-для-прошивання-програмного-забезпечення" tabindex="-1">Проводка для Прошивання Програмного Забезпечення <a class="header-anchor" href="#проводка-для-прошивання-програмного-забезпечення" aria-label="Permalink to &quot;Проводка для Прошивання Програмного Забезпечення&quot;">​</a></h3><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Більшість модулів ESP8266 підтримують напругу 3,3 вольти (лише), тоді як деякі контролери польоту (наприклад, Pixhawk 4) видають напругу на рівні 5 В. Перевірте сумісність та знизьте напругу, якщо це потрібно.</p></div><p>Існують різні методи для встановлення ESP8266 у <em>Режим Прошивки</em>, але не всі USB/UART адаптери надають всі необхідні контакти для автоматичного перемикання режиму. Для того щоб завантажити ESP8266 у <em>режимі Flash</em>, пін GPIO-0 повинен бути встановлений у низьке положення (GND), а пін CH_PD повинен бути встановлений у високе положення (VCC). Ось як виглядає моя власна налаштування:</p><p><img src="'+l+'" alt="esp8266 flashing rig"></p><p>Я побудував кабель, де RX, TX, VCC та GND правильно підключені безпосередньо від адаптера FTDI до ESP8266. З ESP8266 я залишив дві проводи, підключені до GPIO-0 та CH_PD вільними, щоб я міг завантажити його або зазвичай, або в режимі флеш, підключивши їх до GND та VCC відповідно.</p><h4 id="esp8266-esp-01-pinout" tabindex="-1">ESP8266 (ESP-01) Pinout <a class="header-anchor" href="#esp8266-esp-01-pinout" aria-label="Permalink to &quot;ESP8266 (ESP-01) Pinout&quot;">​</a></h4><p><img src="'+p+'" alt="esp8266 wifi module pinout"></p><h4 id="діаграма-миготіння-за-допомогою-адаптера-usb-uart-ftdi" tabindex="-1">Діаграма миготіння за допомогою адаптера USB/UART FTDI <a class="header-anchor" href="#діаграма-миготіння-за-допомогою-адаптера-usb-uart-ftdi" aria-label="Permalink to &quot;Діаграма миготіння за допомогою адаптера USB/UART FTDI&quot;">​</a></h4><p><img src="'+n+'" alt="esp8266 flashing"></p>',55),P=[g];function k(f,_,b,x,S,w){return d(),c("div",null,P)}const q=h(u,[["render",k]]);export{E as __pageData,q as default};
