import{_ as t,a as e,b as a,c as r,d as l}from"./chunks/cuav_v5_debug_cable.Bzl7voCU.js";import{_ as i,c as o,o as n,ab as d}from"./chunks/framework.CUflZczI.js";const w=JSON.parse('{"title":"SWD Debug Port","description":"","frontmatter":{},"headers":[],"relativePath":"ko/debug/swd_debug.md","filePath":"ko/debug/swd_debug.md"}'),s={name:"ko/debug/swd_debug.md"},h=d('<h1 id="swd-debug-port" tabindex="-1">SWD Debug Port <a class="header-anchor" href="#swd-debug-port" aria-label="Permalink to &quot;SWD Debug Port&quot;">​</a></h1><p>PX4 runs on ARM Cortex-M microcontrollers, which contain dedicated hardware for interactive debugging via the <a href="https://developer.arm.com/documentation/ihi0031/a/The-Serial-Wire-Debug-Port--SW-DP-" target="_blank" rel="noreferrer"><em>Serial Wire Debug (SWD)</em></a> interface and non-invasive profiling and high-bandwidth tracing via the <a href="https://developer.arm.com/documentation/ddi0403/d/Appendices/Debug-ITM-and-DWT-Packet-Protocol?lang=en" target="_blank" rel="noreferrer"><em>Serial Wire Ouput (SWO)</em></a> and <a href="https://developer.arm.com/documentation/ihi0064/latest/" target="_blank" rel="noreferrer"><em>TRACE</em> pins</a>.</p><p>The SWD debug interface allows direct, low-level, hardware access to the microcontroller&#39;s processor and peripherals, so it does not depend on any software on the device. Therefore it can be used to debug bootloaders and operating systems such as NuttX.</p><h2 id="debug-signals" tabindex="-1">Debug Signals <a class="header-anchor" href="#debug-signals" aria-label="Permalink to &quot;Debug Signals&quot;">​</a></h2><p>Four signals are required for debugging (in bold) while the rest is recommended.</p><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">설명</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>GND</strong></td><td style="text-align:left;">Power</td><td style="text-align:left;">Shared potential, common ground.</td></tr><tr><td style="text-align:left;"><strong>VREF</strong></td><td style="text-align:left;">Power</td><td style="text-align:left;">The target reference voltage allows the debug probe to use level shifters on the signals.</td></tr><tr><td style="text-align:left;"><strong>SWDIO</strong></td><td style="text-align:left;">입출력</td><td style="text-align:left;">Serial Wire Debug data pin.</td></tr><tr><td style="text-align:left;"><strong>SWCLK</strong></td><td style="text-align:left;">Input</td><td style="text-align:left;">Serial Wire Debug clock pin.</td></tr><tr><td style="text-align:left;">nRST</td><td style="text-align:left;">Input</td><td style="text-align:left;">The reset pin is optional (n = active low).</td></tr><tr><td style="text-align:left;">SWO</td><td style="text-align:left;">출력</td><td style="text-align:left;">Single wire trace asynchronous data out can output ITM and DWT data.</td></tr><tr><td style="text-align:left;">TRACECK</td><td style="text-align:left;">출력</td><td style="text-align:left;">Trace clock for parallel bus.</td></tr><tr><td style="text-align:left;">TRACED[0-3]</td><td style="text-align:left;">출력</td><td style="text-align:left;">Trace synchronous data bus with 1, 2, or 4 bits.</td></tr></tbody></table><p>The hardware reset pin is optional, as most devices can also be reset via the SWD lines. However, quickly resetting the device via a button can be great for development.</p><p>The SWO pin can emit low-overhead, real-time profiling data with nanosecond timestamping and is therefore strongly recommended to have accessible for debugging.</p><p>The TRACE pins require specialized debug probes to deal with the high bandwidth and subsequent datastream decoding. They are usually not accessible and are typically only used to debug very specific timing issues.</p><p><a id="debug-ports"></a></p><h2 id="자동비행장치-디버그-포트" tabindex="-1">자동비행장치 디버그 포트 <a class="header-anchor" href="#자동비행장치-디버그-포트" aria-label="Permalink to &quot;자동비행장치 디버그 포트&quot;">​</a></h2><p>Flight controllers commonly provide a single debug port that exposes both the <a href="#debug-signals">SWD Interface</a> and <a href="./system_console.html">System Console</a>.</p><p>The <a href="#pixhawk-standard-debug-ports">Pixhawk Connector Standards</a> formalize the port that must be used in each FMU version. However there are still many boards that use different pinouts or connectors, so we recommend you check the <a href="./../flight_controller/">documentation for your autopilot</a> to confirm port location and pinout.</p><p>The debug port location and pinouts for a subset of autopilots are linked below:</p><p><a id="port-information"></a></p><table><thead><tr><th style="text-align:left;">오토파일럿</th><th style="text-align:left;">디버그 포트</th></tr></thead><tbody><tr><td style="text-align:left;">Holybro Pixhawk 6X-RT (FMUv6X-RT)</td><td style="text-align:left;"><a href="#pixhawk-debug-full">Pixhawk Debug Full</a></td></tr><tr><td style="text-align:left;">Holybro Pixhawk 6X (FMUv6x)</td><td style="text-align:left;"><a href="#pixhawk-debug-full">Pixhawk Debug Full</a></td></tr><tr><td style="text-align:left;">Holybro Pixhawk 5X (FMUv5x)</td><td style="text-align:left;"><a href="#pixhawk-debug-full">Pixhawk Debug Full</a></td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/durandal.html#debug-port">Holybro Durandal</a></td><td style="text-align:left;"><a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a></td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/kakutef7.html#debug-port">Holybro Kakute F7</a></td><td style="text-align:left;">Solder pads</td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/pixhawk4_mini.html#debug-port">Holybro Pixhawk 4 Mini</a> (FMUv5)</td><td style="text-align:left;"><a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a></td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/pixhawk4.html#debug_port">Holybro Pixhawk 4</a> (FMUv5)</td><td style="text-align:left;"><a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a></td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/pixhawk3_pro.html#debug-port">Drotek Pixhawk 3 Pro</a> (FMU-v4pro)</td><td style="text-align:left;"><a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a></td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/cuav_v5_plus.html#debug-port">CUAV V5+</a></td><td style="text-align:left;">6-pin JST GH<br>Digikey: <a href="https://www.digikey.com/products/en?keywords=455-1582-1-ND" target="_blank" rel="noreferrer">BM06B-GHS-TBT(LF)(SN)(N)</a> (vertical mount), <a href="https://www.digikey.com/products/en?keywords=455-1568-1-ND" target="_blank" rel="noreferrer">SM06B-GHS-TBT(LF)(SN)(N)</a> (side mount)</td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/cuav_v5_nano.html#debug_port">CUAV V5nano</a></td><td style="text-align:left;">6-pin JST GH<br>Digikey: <a href="https://www.digikey.com/products/en?keywords=455-1582-1-ND" target="_blank" rel="noreferrer">BM06B-GHS-TBT(LF)(SN)(N)</a> (vertical mount), <a href="https://www.digikey.com/products/en?keywords=455-1568-1-ND" target="_blank" rel="noreferrer">SM06B-GHS-TBT(LF)(SN)(N)</a> (side mount)</td></tr><tr><td style="text-align:left;"><a href="./../flight_controller/pixhawk.html#swd-port">3DR Pixhawk</a></td><td style="text-align:left;">ARM 10-pin JTAG Connector (also used for FMUv2 boards including: <em>mRo Pixhawk</em>, <em>HobbyKing HKPilot32</em>).</td></tr></tbody></table><p><a id="pixhawk-standard-debug-ports"></a></p><h2 id="pixhawk-connector-standard-debug-ports" tabindex="-1">Pixhawk Connector Standard Debug Ports <a class="header-anchor" href="#pixhawk-connector-standard-debug-ports" aria-label="Permalink to &quot;Pixhawk Connector Standard Debug Ports&quot;">​</a></h2><p>The Pixhawk project has defines a standard pinout and connector type for different Pixhawk FMU releases:</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Check your <a href="#port-information">specific board</a> to confirm the port used.</p></div><table><thead><tr><th style="text-align:left;">FMU 버전</th><th style="text-align:left;">Pixhawk Version</th><th style="text-align:left;">디버그 포트</th></tr></thead><tbody><tr><td style="text-align:left;">FMUv2</td><td style="text-align:left;"><a href="./../flight_controller/pixhawk.html#swd-port">Pixhawk / Pixhawk 1</a></td><td style="text-align:left;">10핀 ARM 디버그</td></tr><tr><td style="text-align:left;">FMUv3</td><td style="text-align:left;">Pixhawk 2</td><td style="text-align:left;">6핀 SUR 디버그</td></tr><tr><td style="text-align:left;">FMUv4</td><td style="text-align:left;">Pixhawk 3</td><td style="text-align:left;"><a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a></td></tr><tr><td style="text-align:left;">FMUv5</td><td style="text-align:left;">Pixhawk 4 FMUv5</td><td style="text-align:left;"><a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a></td></tr><tr><td style="text-align:left;">FMUv5X</td><td style="text-align:left;">Pixhawk 5X</td><td style="text-align:left;"><a href="#pixhawk-debug-full">Pixhawk Debug Full</a></td></tr><tr><td style="text-align:left;">FMUv6</td><td style="text-align:left;">Pixhawk 6</td><td style="text-align:left;"><a href="#pixhawk-debug-full">Pixhawk Debug Full</a></td></tr><tr><td style="text-align:left;">FMUv6X</td><td style="text-align:left;">Pixhawk 6X</td><td style="text-align:left;"><a href="#pixhawk-debug-full">Pixhawk Debug Full</a></td></tr><tr><td style="text-align:left;">FMUv6X-RT</td><td style="text-align:left;">Pixhawk 6X-RT</td><td style="text-align:left;"><a href="#pixhawk-debug-full">Pixhawk Debug Full</a></td></tr></tbody></table><div class="info custom-block"><p class="custom-block-title">INFO</p><p>There FMU and Pixhawk versions are (only) consistent after FMUv5X.</p></div><h3 id="pixhawk-debug-mini" tabindex="-1">Pixhawk Debug Mini <a class="header-anchor" href="#pixhawk-debug-mini" aria-label="Permalink to &quot;Pixhawk Debug Mini&quot;">​</a></h3><p>The <a href="https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-009%20Pixhawk%20Connector%20Standard.pdf" target="_blank" rel="noreferrer">Pixhawk Connector Standard</a> defines the <em>Pixhawk Debug Mini</em>, a <em>6-Pin SH Debug Port</em> that provides access to both SWD pins and the <a href="./system_console.html">System Console</a>.</p><p>This is used in FMUv4 and FMUv5.</p><p>The pinout is as shown below (pins required for debugging are bold):</p><table><thead><tr><th style="text-align:right;">핀</th><th style="text-align:left;">신호</th></tr></thead><tbody><tr><td style="text-align:right;">1</td><td style="text-align:left;"><strong>VREF</strong></td></tr><tr><td style="text-align:right;">2</td><td style="text-align:left;">콘솔 TX</td></tr><tr><td style="text-align:right;">3</td><td style="text-align:left;">콘솔 RX</td></tr><tr><td style="text-align:right;">4</td><td style="text-align:left;"><strong>SWDIO</strong></td></tr><tr><td style="text-align:right;">5</td><td style="text-align:left;"><strong>SWDCLK</strong></td></tr><tr><td style="text-align:right;">6</td><td style="text-align:left;"><strong>GND</strong></td></tr></tbody></table><p>The debug port definition includes the following solder pads (on board next to connector):</p><table><thead><tr><th style="text-align:right;">패드</th><th style="text-align:left;">신호</th><th style="text-align:left;">전압</th></tr></thead><tbody><tr><td style="text-align:right;">1</td><td style="text-align:left;">nRST</td><td style="text-align:left;">+3.3V</td></tr><tr><td style="text-align:right;">2</td><td style="text-align:left;">GPIO1</td><td style="text-align:left;">+3.3V</td></tr><tr><td style="text-align:right;">3</td><td style="text-align:left;">GPIO2</td><td style="text-align:left;">+3.3V</td></tr></tbody></table><p>The socket is a <em>6-pin JST SH</em> - Digikey number: <a href="https://www.digikey.com/products/en?keywords=455-2875-1-ND" target="_blank" rel="noreferrer">BM06B-SRSS-TBT(LF)(SN)</a> (vertical mount), <a href="https://www.digikey.com/products/en?keywords=455-1806-1-ND" target="_blank" rel="noreferrer">SM06B-SRSS-TBT(LF)(SN)</a>(side mount).</p><p>You can connect to the debug port using a <a href="https://www.digikey.com/products/en?keywords=A06SR06SR30K152A" target="_blank" rel="noreferrer">cable like this one</a>.</p><p><img src="'+t+'" alt="6-pin JST SH Cable"></p><h3 id="pixhawk-debug-full" tabindex="-1">Pixhawk Debug Full <a class="header-anchor" href="#pixhawk-debug-full" aria-label="Permalink to &quot;Pixhawk Debug Full&quot;">​</a></h3><p>The <a href="https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-009%20Pixhawk%20Connector%20Standard.pdf" target="_blank" rel="noreferrer">Pixhawk Connector Standard</a> defines <em>Pixhawk Debug Full</em>, a <em>10-Pin SH Debug Port</em> that provides access to both SWD pins and the <a href="./system_console.html">System Console</a>. This essentially moves the solder pads from beside the <a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a> into the connector, and also adds an SWO pin.</p><p>This port is specified for use in FMUv5x, FMUv6, FMUv6x.</p><p>The pinout is as shown below (pins required for debugging are bold):</p><table><thead><tr><th style="text-align:right;">핀</th><th style="text-align:left;">신호</th></tr></thead><tbody><tr><td style="text-align:right;">1</td><td style="text-align:left;"><strong>VREF</strong></td></tr><tr><td style="text-align:right;">2</td><td style="text-align:left;">콘솔 TX</td></tr><tr><td style="text-align:right;">3</td><td style="text-align:left;">콘솔 RX</td></tr><tr><td style="text-align:right;">4</td><td style="text-align:left;"><strong>SWDIO</strong></td></tr><tr><td style="text-align:right;">5</td><td style="text-align:left;"><strong>SWDCLK</strong></td></tr><tr><td style="text-align:right;">6</td><td style="text-align:left;">SWO</td></tr><tr><td style="text-align:right;">7</td><td style="text-align:left;">GPIO1</td></tr><tr><td style="text-align:right;">8</td><td style="text-align:left;">GPIO2</td></tr><tr><td style="text-align:right;">9</td><td style="text-align:left;">nRST</td></tr><tr><td style="text-align:right;">10</td><td style="text-align:left;"><strong>GND</strong></td></tr></tbody></table><p>The GPIO1/2 pins are free pins that can be used to generate signals in software for timing analysis with a logic analyzer.</p><p>The socket is a <em>10-pin JST SH</em> - Digikey number: <a href="https://www.digikey.com/products/en?keywords=455-1796-2-ND" target="_blank" rel="noreferrer">BM10B-SRSS-TB(LF)(SN)</a> (vertical mount) or <a href="https://www.digikey.com/products/en?keywords=455-1810-2-ND" target="_blank" rel="noreferrer">SM10B-SRSS-TB(LF)(SN)</a> (side mount).</p><p>You can connect to the debug port using a <a href="https://www.digikey.com/products/en?keywords=A10SR10SR30K203A" target="_blank" rel="noreferrer">cable like this one</a>.</p><p><img src="'+e+'" alt="10-pin JST SH Cable"></p><p><a id="debug-probes"></a></p><h2 id="debug-probes-for-px4-hardware" tabindex="-1">Debug Probes for PX4 Hardware <a class="header-anchor" href="#debug-probes-for-px4-hardware" aria-label="Permalink to &quot;Debug Probes for PX4 Hardware&quot;">​</a></h2><p>Flight controllers commonly provide a <a href="#autopilot-debug-ports">single debug port</a> that exposes both the <a href="#debug-signals">SWD Interface</a> and <a href="./system_console.html">System Console</a>.</p><p>There are several debug probes that are tested and supported for connecting to one or both of these interfaces:</p><ul><li><a href="./../debug/probe_jlink.html">SEGGER J-Link</a>: commercial probe, no built-in serial console, requires adapter.</li><li><a href="./../debug/probe_bmp.html">Black Magic Probe</a>: integrated GDB server and serial console, requires adapter.</li><li><a href="./../debug/probe_stlink.html">STLink</a>: best value, integrated serial console, adapter must be soldered.</li><li><a href="./../debug/probe_mculink.html">MCU-Link</a>: best value, integrated serial console, requires adapter.</li></ul><p>An adapter to connect to the debug port may come with your flight controller or debug probe. Other options are given below.</p><h2 id="debug-adapters" tabindex="-1">Debug Adapters <a class="header-anchor" href="#debug-adapters" aria-label="Permalink to &quot;Debug Adapters&quot;">​</a></h2><h3 id="holybro-pixhawk-debug-adapter" tabindex="-1">Holybro Pixhawk Debug Adapter <a class="header-anchor" href="#holybro-pixhawk-debug-adapter" aria-label="Permalink to &quot;Holybro Pixhawk Debug Adapter&quot;">​</a></h3><p>The <a href="https://holybro.com/products/pixhawk-debug-adapter" target="_blank" rel="noreferrer">Holybro Pixhawk Debug Adapter</a> is <em>highly recommended</em> when debugging controllers that use one of the Pixhawk-standard debug connectors.</p><p>It is the easiest way to connect:</p><ul><li>Flight controllers that use either the <a href="#pixhawk-debug-full">Pixhawk Debug Full</a> (10-pin SH) or <a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a> (6-pin SH) debug port.</li><li>SWD debug probes that support the 10-pin ARM compatible interface standard used by the <a href="./../debug/probe_jlink.html">Segger JLink EDU mini</a> or 20-pin compatible with the Segger JLink or STLink.</li></ul><p><img src="'+a+'" alt="Holybro Pixhawk Debug Adapter"></p><h3 id="cuav-c-adb-pixhawk-debug-adapter" tabindex="-1">CUAV C-ADB Pixhawk Debug Adapter <a class="header-anchor" href="#cuav-c-adb-pixhawk-debug-adapter" aria-label="Permalink to &quot;CUAV C-ADB Pixhawk Debug Adapter&quot;">​</a></h3><p>The <a href="https://store.cuav.net/shop/cuav-c-adb/" target="_blank" rel="noreferrer">CUAV C-ADB Secondary Development Pixhawk Flight Controller Debug Adapter</a> comes with an <a href="./../debug/probe_stlink.html">STLinkv3-MINIE Debug Probe</a>.</p><p>This has a ports for connecting to the <a href="#pixhawk-debug-full">Pixhawk Debug Full</a> (10-pin SH) and CUAV-standard DSU interface (but not the <a href="./../debug/swd_debug.html#pixhawk-debug-mini">Pixhawk Debug Mini</a> (6-pin SH)).</p><p>The M2 connector on the adaptor is 14-pin CN4 STDC14 (see the <a href="https://www.st.com/resource/en/user_manual/um2910-stlinkv3minie-debuggerprogrammer-tiny-probe-for-stm32-microcontrollers-stmicroelectronics.pdf" target="_blank" rel="noreferrer">STLinkv3-MINIE User Manual</a> for more information). The cable used to connect the M2 and the STLinkv3-MINIE comes with the adaptor.</p><p><img src="'+r+'" alt="CUAV C-ADB adaptor connected to the STLinkv3-MINIE"></p><h3 id="debug-probe-adapters" tabindex="-1">Debug Probe Adapters <a class="header-anchor" href="#debug-probe-adapters" aria-label="Permalink to &quot;Debug Probe Adapters&quot;">​</a></h3><p>Some SWD <a href="#debug-probes">debug probes</a> come with adapters/cables for connecting to common Pixhawk <a href="#debug-ports">debug ports</a>. Probes that are known to come with connectors are listed below:</p><ul><li><a href="./../debug/probe_bmp.html#dronecode-probe">DroneCode Probe</a>: comes with a connector for attaching to the <a href="#pixhawk-debug-mini">Pixhawk Debug Mini</a></li></ul><h3 id="board-specific-adapters" tabindex="-1">Board-specific Adapters <a class="header-anchor" href="#board-specific-adapters" aria-label="Permalink to &quot;Board-specific Adapters&quot;">​</a></h3><p>Some manufacturers provide cables to make it easy to connect the SWD interface and <a href="./../debug/system_console.html">System Console</a>.</p><ul><li><a href="./../flight_controller/cuav_v5_nano.html#debug_port">CUAV V5nano</a> and <a href="./../flight_controller/cuav_v5_plus.html#debug-port">CUAV V5+</a> include this debug cable:</li></ul><p><img src="'+l+'" alt="6-pin JST SH Cable"></p><h3 id="custom-cables" tabindex="-1">Custom Cables <a class="header-anchor" href="#custom-cables" aria-label="Permalink to &quot;Custom Cables&quot;">​</a></h3><p>You can also create custom cables for connecting to different boards or probes:</p><ul><li>Connect <code>SWDIO</code>, <code>SWCLK</code> and <code>GND</code> pins on the debug probe to the corresponding pins on the debug port.</li><li>Connect the VREF pin, if supported by the debug probe.</li><li>Connect the remaining pins, if present.</li></ul><p>See the <a href="./probe_stlink.html">STLinkv3-MINIE</a> for a guide on how to solder a custom cable.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Where possible, we highly recommend that you create or obtain an adapter board rather than custom cables for connecting to SWD/JTAG debuggers and computers. This reduces the risk or poor wiring contributing to debugging problems, and has the benefit that adapters usually provide a common interface for connecting to multiple popular flight controller boards.</p></div>',70),g=[h];function p(b,u,c,f,x,m){return n(),o("div",null,g)}const S=i(s,[["render",p]]);export{w as __pageData,S as default};
