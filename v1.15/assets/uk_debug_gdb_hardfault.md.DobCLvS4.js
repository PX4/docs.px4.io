import{_ as a,c as h,o as k,m as s,a as i,ab as n}from"./chunks/framework.CUflZczI.js";const u=JSON.parse('{"title":"Жорстке відлагодження помилок","description":"","frontmatter":{},"headers":[],"relativePath":"uk/debug/gdb_hardfault.md","filePath":"uk/debug/gdb_hardfault.md"}'),l={name:"uk/debug/gdb_hardfault.md"},F=s("h1",{id:"жорстке-відлагодження-помилок",tabindex:"-1"},[i("Жорстке відлагодження помилок "),s("a",{class:"header-anchor",href:"#жорстке-відлагодження-помилок","aria-label":'Permalink to "Жорстке відлагодження помилок"'},"​")],-1),p=s("p",null,"Помилка апаратної частини - це стан, коли ЦП виконує недійсну інструкцію або звертається до недійсної адреси пам'яті. Це може статися, коли ключові області в RAM були пошкоджені.",-1),t=s("h2",{id:"відео",tabindex:"-1"},[i("Відео "),s("a",{class:"header-anchor",href:"#відео","aria-label":'Permalink to "Відео"'},"​")],-1),e=s("p",null,"Наступне відео демонструє відлагодження hardfault на PX4 за допомогою Eclipse та JTAG-відлагоджувача. Це було представлено на конференції розробників PX4 2019 року.",-1),d=s("p",null,[s("div",{class:"embed-responsive embed-responsive-16by9"},[s("iframe",{class:"embed-responsive-item youtube-player",type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/KZkAM_PVOi0",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""})])],-1),C=n(`<h2 id="відлагодження-важких-відмов-в-nuttx" tabindex="-1">Відлагодження важких відмов в NuttX <a class="header-anchor" href="#відлагодження-важких-відмов-в-nuttx" aria-label="Permalink to &quot;Відлагодження важких відмов в NuttX&quot;">​</a></h2><p>Типовий сценарій, який може спричинити важку помилку, - це коли процесор перезаписує стек, а потім процесор повертається до недійсної адреси зі стеку. Це може бути спричинено помилкою в коді, де дикий вказівник порушує стек, або інша задача перезаписує стек цієї задачі.</p><ul><li>NuttX підтримує два стеки: стек IRQ для обробки переривань та стек користувача</li><li>Стек зростає вниз. Таким чином, найвища адреса в наведеному нижче прикладі - 0x20021060, розмір - 0x11f4 (4596 байтів), і, відповідно, найнижча адреса - 0x2001fe6c.</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Assertion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file:armv7-m/up_hardfault.c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> line:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 184</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> task:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ekf_att_pos_estimator</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sp:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     20003f90</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRQ</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stack:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  base:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20003fdc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  size:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000002e8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20003f80:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080d27c6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20003f90</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20021060</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0809b8d5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080d288c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000000b8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 08097155</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000010</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20003fa0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20003ce0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000003</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0809bb61</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0809bb4d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080a6857</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> e000ed24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080a3879</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20003fc0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f578</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca038</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000182b8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20017cc0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0809bad1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020c14</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sp:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     20020ce8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stack:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  base:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20021060</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  size:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000011f4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020ce0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60000010</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f578</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f578</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca038</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000182b8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0808439f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001fb88</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020d4c</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020d00:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020d44</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080a1073</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 666b655b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65686320</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 205d6b63</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 6f6c6576</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 79746963</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 76696420</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020d20:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 65747265</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 63202c64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 6b636568</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 63636120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 63206c65</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 69666e6f</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 08020067</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0805c4eb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020d40:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca9d4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0805c21b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca1cc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca9d4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 385833fb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 38217db9</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca964</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020d60:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca980</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca9a0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca9bc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca9d4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca9fc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080caa14</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20022824</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000002</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020d80:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2002218c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0806a30f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 08069ab2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 81000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3f7fffec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3b4ae00c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3b12eaa6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020da0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca010</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4281fb70</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020f78</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20017cc0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020f98</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20017cdc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020dc0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001ee0c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0808d7ff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca010</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3f800000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca020</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3aa35c4e</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020de0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3834d331</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01010101</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 01010001</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000d4f89</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000d4f89</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000f9fda</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020e00:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3f7d8df4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3bac67ea</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3ca594e6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be0b9299</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 40b643aa</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 41ebe4ed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bcc04e1b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 43e89c96</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020e20:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 448f3bc9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c3c50317</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> b4c8d827</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 362d3366</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> b49d74cf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ba966159</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020e40:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3eb4da7b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3b96b9b7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3eead66a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020e60:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020e80:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000016</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00010000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3c23d70a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020ea0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020f78</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001ed20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020fa4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f498</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f1a8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f500</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020ec0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f520</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000003</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f170</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ffffffe9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3b831ad2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3c23d70a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020ee0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020f00:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f4f0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f4a0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3d093964</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000001</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020f20:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0808ae91</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20012d10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001da40</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0000260b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f577</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001da40</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0000260b</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020f40:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f1a8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 08087fd7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 08087f9d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080cf448</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0000260b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080afab1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080afa9d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000003</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020f60:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f577</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0809c577</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001ed20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f4d8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f498</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0805e077</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f568</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20024540</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020f80:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0000260b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3d093a57</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f540</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f4f0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020fa0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0000260b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3ea5b000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3ddbf5fa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3c23d70a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000f423f</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020fc0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000182b8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20017cc0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001ed20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f4e8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0805ea0d</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20020fe0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f090</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001eda8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ffffffff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000182b8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20021000:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000009</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 08090001</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f93c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0000000c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20021020:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000101</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f96c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">20021040:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0809866d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20000f48</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0a91ae0c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020d00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020d00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f578</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 080ca038</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 000182b8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20017cc0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R8:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001ed20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001f4e8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2001ed20</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000005</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020d20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20020ce8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0808439f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 08087c4e</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xPSR:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 61000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BASEPRI:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CONTROL:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 00000000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EXC_RETURN:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ffffffe9</span></span></code></pre></div><p>Для декодування важкої помилки завантажте точний двійковий файл у відлагоджувач:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/px4_fmu-v2_default/px4_fmu-v2_default.elf</span></span></code></pre></div><p>Потім у командному рядку GDB почніть з останніх інструкцій у R8, з першої адреси у флеші (впізнається тим, що вона починається з <code>0x080</code>, перша - <code>0x0808439f</code>). Виконання здійснюється зліва направо. Так от одного з останніх кроків перед важким збоєм було те, коли <code>mavlink_log.c</code> спробував опублікувати щось,</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) info line </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">0x0808439f</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Line</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 77</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../src/modules/systemlib/mavlink_log.c&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> starts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x8084398</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mavlink_vasprintf+3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">6&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ends</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x80843a0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mavlink_vasprintf+4</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">4&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) info line </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">0x08087c4e</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Line</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 311</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../src/modules/uORB/uORBDevices_nuttx.cpp&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   starts</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x8087c4e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">uORB::DeviceNode::publish</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orb_metadata</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> void</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> void</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">+</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">2&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ends</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x8087c52</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">uORB::DeviceNode::publish</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orb_metadata</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> void</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> void</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">+</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">6&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span></span></code></pre></div>`,9),r=[F,p,t,e,d,C];function g(y,B,E,c,f,o){return k(),h("div",null,r)}const _=a(l,[["render",g]]);export{u as __pageData,_ as default};
