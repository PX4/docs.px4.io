import{_ as e}from"./chunks/jerk_limited_trajectory_1d.5k404LYe.js";import{_ as a,c as _,o as r,ab as t}from"./chunks/framework.CUflZczI.js";const C=JSON.parse('{"title":"多旋翼的加加速度限制型轨迹","description":"","frontmatter":{},"headers":[],"relativePath":"zh/config_mc/mc_jerk_limited_type_trajectory.md","filePath":"zh/config_mc/mc_jerk_limited_type_trajectory.md"}'),c={name:"zh/config_mc/mc_jerk_limited_type_trajectory.md"},i=t('<h1 id="多旋翼的加加速度限制型轨迹" tabindex="-1">多旋翼的加加速度限制型轨迹 <a class="header-anchor" href="#多旋翼的加加速度限制型轨迹" aria-label="Permalink to &quot;多旋翼的加加速度限制型轨迹&quot;">​</a></h1><p>加加速度有限的轨迹类型能响应用户摇杆输入或任务的变化（例如：航拍，测绘，货运）并为机体提供平滑的运动。 它能产生对称的平滑 S-曲线使加加速度和加速度的极限始终得到保证。</p><p>此轨迹类型始终在<a href="./../flight_modes/mission.html">任务模式</a>下启用。 To enable it in <a href="./../flight_modes_mc/position.html">Position mode</a> set the parameter: <a href="./../advanced_config/parameter_reference.html#MPC_POS_MODE">MPC_POS_MODE=3</a>.</p><div class="info custom-block"><p class="custom-block-title">The jerk-limited type is not used <em>by default</em> in position mode. 但它可能不适合于那些需要较快响应的机体/使用案例——例如穿越机。</p></div><h2 id="轨迹生成器" tabindex="-1">轨迹生成器 <a class="header-anchor" href="#轨迹生成器" aria-label="Permalink to &quot;轨迹生成器&quot;">​</a></h2><p>下图显示了具有如下约束的典型加加速度限制剖面：</p><ul><li><code>jMax</code>：最大抖动</li><li><code>a0</code>：初始加速度</li><li><code>aMax</code>：最大加速度</li><li><code>a3</code>：最终加速度（始终为 0）</li><li><code>v0</code>：初始速度</li><li><code>vRef</code>：期望速度</li></ul><p>其中，约束 <code>jMax</code>、<code>aMax</code> 由用户通过参数页配置，在手动定点控制和自动模式下可能有所不同。</p><p>所得的速度剖面通常称为“S-曲线”。</p><p><img src="'+e+'" alt="加加速度限制型轨迹"></p><h2 id="手动模式" tabindex="-1">手动模式 <a class="header-anchor" href="#手动模式" aria-label="Permalink to &quot;手动模式&quot;">​</a></h2><p>In manual position mode, the sticks are mapped to velocity where a full XY-stick deflection corresponds to <a href="./../advanced_config/parameter_reference.html#MPC_VEL_MANUAL">MPC_VEL_MANUAL</a> and a full Z-stick deflection corresponds to <a href="./../advanced_config/parameter_reference.html#MPC_Z_VEL_MAX_UP">MPC_Z_VEL_MAX_UP</a> (upward motion) or <a href="./../advanced_config/parameter_reference.html#MPC_Z_VEL_MAX_DN">MPC_Z_VEL_MAX_DN</a> (downward motion).</p><h3 id="约束" tabindex="-1">约束 <a class="header-anchor" href="#约束" aria-label="Permalink to &quot;约束&quot;">​</a></h3><p>XY平面：</p><ul><li><code>jMax</code>：<a href="./../advanced_config/parameter_reference.html#MPC_JERK_MAX">MPC_JERK_MAX</a></li><li><code>aMax</code>: <a href="./../advanced_config/parameter_reference.html#MPC_ACC_HOR_MAX">MPC_ACC_HOR_MAX</a></li></ul><p>Z轴：</p><ul><li><code>jMax</code>：<a href="./../advanced_config/parameter_reference.html#MPC_JERK_MAX">MPC_JERK_MAX</a></li><li><code>aMax</code>（上升动作）：<a href="./../advanced_config/parameter_reference.html#MPC_ACC_UP_MAX">MPC_ACC_UP_MAX</a></li><li><code>aMax</code>（下降动作）：<a href="./../advanced_config/parameter_reference.html#MPC_ACC_DOWN_MAX">MPC_ACC_DOWN_MAX</a></li></ul><h2 id="自动模式" tabindex="-1">自动模式 <a class="header-anchor" href="#自动模式" aria-label="Permalink to &quot;自动模式&quot;">​</a></h2><p>In auto mode, the desired velocity is <a href="./../advanced_config/parameter_reference.html#MPC_XY_CRUISE">MPC_XY_CRUISE</a> but this value is automatically adjusted depending on the distance to the next waypoint, the maximum possible velocity in the waypoint and the maximum desired acceleration and jerk. The vertical speed is defined by <a href="./../advanced_config/parameter_reference.html#MPC_Z_V_AUTO_UP">MPC_Z_V_AUTO_UP</a> (upward motion) and <a href="./../advanced_config/parameter_reference.html#MPC_Z_V_AUTO_DN">MPC_Z_V_AUTO_DN</a> (downward motion).</p><h3 id="约束-1" tabindex="-1">约束 <a class="header-anchor" href="#约束-1" aria-label="Permalink to &quot;约束&quot;">​</a></h3><p>XY平面：</p><ul><li><code>jMax</code>：<a href="./../advanced_config/parameter_reference.html#MPC_JERK_AUTO">MPC_JERK_AUTO</a></li><li><code>aMax</code>：<a href="./../advanced_config/parameter_reference.html#MPC_ACC_HOR">MPC_ACC_HOR</a></li></ul><p>Z轴：</p><ul><li><code>jMax</code>：<a href="./../advanced_config/parameter_reference.html#MPC_JERK_AUTO">MPC_JERK_AUTO</a></li><li><code>aMax</code>（上升动作）：<a href="./../advanced_config/parameter_reference.html#MPC_ACC_UP_MAX">MPC_ACC_UP_MAX</a></li><li><code>aMax</code>（下降动作）：<a href="./../advanced_config/parameter_reference.html#MPC_ACC_DOWN_MAX">MPC_ACC_DOWN_MAX</a></li></ul><p>渐进某个航点时的距离-速度增益：</p><ul><li><a href="./../advanced_config/parameter_reference.html#MPC_XY_TRAJ_P">MPC_XY_TRAJ_P</a></li></ul><h3 id="相关参数" tabindex="-1">相关参数 <a class="header-anchor" href="#相关参数" aria-label="Permalink to &quot;相关参数&quot;">​</a></h3><ul><li><a href="./../advanced_config/parameter_reference.html#MPC_XY_VEL_MAX">MPC_XY_VEL_MAX</a></li><li><a href="./../advanced_config/parameter_reference.html#MPC_Z_VEL_MAX_UP">MPC_Z_VEL_MAX_UP</a></li><li><a href="./../advanced_config/parameter_reference.html#MPC_Z_VEL_MAX_DN">MPC_Z_VEL_MAX_DN</a></li><li><a href="./../advanced_config/parameter_reference.html#MPC_TKO_SPEED">MPC_TKO_SPEED</a></li><li><a href="./../advanced_config/parameter_reference.html#MPC_LAND_SPEED">MPC_LAND_SPEED</a></li><li><a href="./../advanced_config/parameter_reference.html#MPC_LAND_ALT1">MPC_LAND_ALT1</a></li><li><a href="./../advanced_config/parameter_reference.html#MPC_LAND_ALT2">MPC_LAND_ALT2</a></li></ul>',28),o=[i];function d(l,n,h,m,f,M){return r(),_("div",null,o)}const s=a(c,[["render",d]]);export{C as __pageData,s as default};
