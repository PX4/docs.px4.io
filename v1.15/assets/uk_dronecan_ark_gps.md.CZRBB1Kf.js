import{_ as a}from"./chunks/ark_gps.BZpKphjf.js";import{_ as e,c as r,o as l,ab as i}from"./chunks/framework.CUflZczI.js";const P=JSON.parse('{"title":"ARK GPS (DroneCAN)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/dronecan/ark_gps.md","filePath":"uk/dronecan/ark_gps.md"}'),n={name:"uk/dronecan/ark_gps.md"},o=i('<h1 id="ark-gps-dronecan" tabindex="-1">ARK GPS (DroneCAN) <a class="header-anchor" href="#ark-gps-dronecan" aria-label="Permalink to &quot;ARK GPS (DroneCAN)&quot;">​</a></h1><p>ARK GPS проєкт із відкритим кодом <a href="./">DroneCAN</a> <a href="./../gps_compass/">GNSS/GPS</a>, магнітометром, ІВП, барометром, сигналом звукового оповіщення та модулем безпеки.</p><p><img src="'+a+'" alt="ARK GPS"></p><h2 id="де-придбати" tabindex="-1">Де придбати <a class="header-anchor" href="#де-придбати" aria-label="Permalink to &quot;Де придбати&quot;">​</a></h2><p>Замовте цей модуль з:</p><ul><li><a href="https://arkelectron.com/product/ark-gps/" target="_blank" rel="noreferrer">ARK Electronics</a> (US)</li></ul><h2 id="характеристики-апаратного-забезпечення" tabindex="-1">Характеристики апаратного забезпечення <a class="header-anchor" href="#характеристики-апаратного-забезпечення" aria-label="Permalink to &quot;Характеристики апаратного забезпечення&quot;">​</a></h2><ul><li><a href="https://github.com/ARK-Electronics/ARK_GPS" target="_blank" rel="noreferrer">Схема з відкритим кодом та BOM</a></li><li>Сенсори <ul><li>Ublox M9N GPS <ul><li>Надзвичайно надійна геоприв&#39;язка на рівні метра за допомогою супутникової навігації</li><li>Максимальна доступність позиції з одночасним прийомом 4 супутників</li><li>Просунуте виявлення підробки сигналу та перешкод</li><li>Відмінне запобігання RF-перешкодам</li></ul></li><li>Bosch BMM150 Magnetometer</li><li>Bosch BMP388 Barometer</li><li>Dual Invensense ICM-42688-P IMUs 6-вісний IMU</li></ul></li><li>STM32F412CEU6 MCU</li><li>Кнопка безпеки</li><li>Динамік</li><li>Два роз&#39;єми стандарту CAN для Pixhawk (4 контакти JST GH)</li><li>Роз&#39;єм для відлагодження стандарту Pixhawk (6 контактів JST SH)</li><li>Малий форм-фактор <ul><li>5см x 5см x 1см</li></ul></li><li>LED індикатори <ul><li>Індикатор безпеки</li><li>GPS Fix</li><li>RGB Статус системи</li></ul></li><li>USA Built</li><li>Вимоги до живлення <ul><li>5В</li><li>Середній струм 110мA</li><li>117мА Макс.</li></ul></li></ul><h2 id="встановлення-обладнання" tabindex="-1">Встановлення обладнання <a class="header-anchor" href="#встановлення-обладнання" aria-label="Permalink to &quot;Встановлення обладнання&quot;">​</a></h2><h3 id="підключення" tabindex="-1">Підключення <a class="header-anchor" href="#підключення" aria-label="Permalink to &quot;Підключення&quot;">​</a></h3><p>ARK GPS підключений до шини CAN за допомогою стандартного кабелю Pixhawk 4 pin JST GH. Для отримання додаткової інформації, зверніться до інструкцій з <a href="./../can/#wiring">проводки CAN</a>.</p><h3 id="монтаж" tabindex="-1">Монтаж <a class="header-anchor" href="#монтаж" aria-label="Permalink to &quot;Монтаж&quot;">​</a></h3><p>Рекомендоване положення монтажу є таким, щоб конектори на платі вказували у напрямку <strong>задньої частини дрону</strong>.</p><p>Датчик може бути встановлений де завгодно на каркасі, але ви повинні вказати його позицію, відносно центру мас транспортного засобу, під час <a href="#px4-configuration">налаштування PX4</a>.</p><h2 id="встановлення-прошивки" tabindex="-1">Встановлення прошивки <a class="header-anchor" href="#встановлення-прошивки" aria-label="Permalink to &quot;Встановлення прошивки&quot;">​</a></h2><p>ARK GPS працює з <a href="./px4_cannode_fw.html">Прошивкою PX4 DroneCAN</a>. Таким чином, він підтримує оновлення прошивки через шину CAN та <a href="./../dronecan/#node-id-allocation">dynamic node allocation</a>.</p><p>Плати ARK GPS поставляються з останнім вбудованим програмним забезпеченням, але якщо ви хочете побудувати й прошити останнє програмне забезпечення самостійно, див. <a href="./px4_cannode_fw.html#building-the-firmware">PX4 DroneCAN Firmware &gt; Building the Firmware</a>.</p><ul><li>Ціль прошивки: <code>ark_can-gps_default</code></li><li>Ціль завантажувача: <code>ark_can-gps_canbootloader</code></li></ul><h2 id="налаштування-px4" tabindex="-1">Налаштування PX4 <a class="header-anchor" href="#налаштування-px4" aria-label="Permalink to &quot;Налаштування PX4&quot;">​</a></h2><p>Вам потрібно встановити необхідні <a href="./">параметри DroneCAN</a> та визначити зсуви, якщо датчик не знаходиться у центрі транспортного засобу. Необхідні налаштування наведено нижче.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>GPS ARK не буде завантажуватися, якщо SD-карти немає у контролері польоту під час запуску.</p></div><h3 id="увімкнення-dronecan" tabindex="-1">Увімкнення DroneCAN <a class="header-anchor" href="#увімкнення-dronecan" aria-label="Permalink to &quot;Увімкнення DroneCAN&quot;">​</a></h3><p>Для використання плати ARK GPS підключіть її до шини CAN Pixhawk та увімкніть драйвер DroneCAN, встановивши параметр <a href="./../advanced_config/parameter_reference.html#UAVCAN_ENABLE">UAVCAN_ENABLE</a> на <code>2</code> для динамічного розподілу вузла (або <code>3</code>, якщо Ви використовуєте <a href="./../dronecan/escs.html">DroneCAN ESCs</a>).</p><p>Кроки наступні:</p><ul><li>У <em>QGroundControl</em> встановіть параметр <a href="./../advanced_config/parameter_reference.html#UAVCAN_ENABLE">UAVCAN_ENABLE</a> на <code>2</code> або <code>3</code> та перезавантажте (див. <a href="./../advanced_config/parameters.html">Finding/Updating Parameters</a>).</li><li>Підключіть ARK GPS CAN до Pixhawk CAN.</li></ul><p>Після активації модуль буде виявлено при завантаженні. Дані GPS повинні надходити з частотою 10 Гц.</p><p>Конфігурацію DroneCAN в PX4 пояснено більш детально в <a href="./../dronecan/#enabling-dronecan">DroneCAN &gt; Enabling DroneCAN</a>.</p><h3 id="конфігурація-позиціі-датчика" tabindex="-1">Конфігурація позиції датчика <a class="header-anchor" href="#конфігурація-позиціі-датчика" aria-label="Permalink to &quot;Конфігурація позиції датчика&quot;">​</a></h3><p>Якщо датчик не знаходиться у центрі автомобіля, вам також потрібно буде визначити зміщення датчика:</p><ul><li>Увімкніть GPS сигнал, встановивши біт 3 <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_CTRL">EKF2_GPS_CTRL</a> на true.</li><li>Увімкніть <a href="./../advanced_config/parameter_reference.html#UAVCAN_SUB_GPS">UAVCAN_SUB_GPS</a>, <a href="./../advanced_config/parameter_reference.html#UAVCAN_SUB_MAG">UAVCAN_SUB_MAG</a> та <a href="./../advanced_config/parameter_reference.html#UAVCAN_SUB_BARO">UAVCAN_SUB_BARO</a>.</li><li>Встановіть <a href="./../advanced_config/parameter_reference.html#CANNODE_TERM">CANNODE_TERM</a> на <code>1</code> якщо це останній вузол на шині CAN.</li><li>Параметри <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_POS_X">EKF2_GPS_POS_X</a>, <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_POS_Y">EKF2_GPS_POS_Y</a> та <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_POS_Z">EKF2_GPS_POS_Z</a> можуть бути встановлені для врахування зміщення ARK GPS від центру мас транспортного засобу.</li></ul><h2 id="значення-led-індикаторів" tabindex="-1">Значення LED індикаторів <a class="header-anchor" href="#значення-led-індикаторів" aria-label="Permalink to &quot;Значення LED індикаторів&quot;">​</a></h2><p>Ви побачите зелені, сині та червоні світлодіоди на ARK GPS під час прошивки, а також мигаючий зелений світлодіод, якщо все працює належним чином.</p><p>Якщо ви бачите червоний світлодіод, це означає, що виникла помилка, і вам слід перевірити наступне:</p><ul><li>Переконайтеся, що у польотному контролері встановлено SD-картку.</li><li>Перевірте, що ARK GPS має встановлене <code>ark_can-gps_canbootloader</code> перед тим, як прошивати <code>ark_can-gps_default</code>.</li><li>Видаліть бінарні файли з кореневих та ufw директорій SD-карти та спробуйте зібрати та знову прошити.</li></ul>',34),t=[o];function c(d,_,h,p,s,f){return l(),r("div",null,t)}const m=e(n,[["render",c]]);export{P as __pageData,m as default};
