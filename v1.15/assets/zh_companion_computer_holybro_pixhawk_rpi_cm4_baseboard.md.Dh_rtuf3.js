import{_ as i,a as s,b as a,c as t,d as e,e as n,f as h,g as l,h as p,i as r,j as k}from"./chunks/baseboard_ethernet_cable.5nqGf4tl.js";import{_ as o,c as d,o as F,ab as c}from"./chunks/framework.CUflZczI.js";const w=JSON.parse('{"title":"Holybro Pixhawk RPi CM4 Baseboard","description":"","frontmatter":{},"headers":[],"relativePath":"zh/companion_computer/holybro_pixhawk_rpi_cm4_baseboard.md","filePath":"zh/companion_computer/holybro_pixhawk_rpi_cm4_baseboard.md"}'),g={name:"zh/companion_computer/holybro_pixhawk_rpi_cm4_baseboard.md"},C=c('<h1 id="holybro-pixhawk-rpi-cm4-baseboard" tabindex="-1">Holybro Pixhawk RPi CM4 Baseboard <a class="header-anchor" href="#holybro-pixhawk-rpi-cm4-baseboard" aria-label="Permalink to &quot;Holybro Pixhawk RPi CM4 Baseboard&quot;">​</a></h1><p>The <a href="https://holybro.com/products/pixhawk-rpi-cm4-baseboard" target="_blank" rel="noreferrer">Holybro Pixhawk RPi CM4 Baseboard</a> is a single-board solution that pre-integrates a (swappable) Pixhawk flight controller with the Raspberry Pi CM4 companion computer (&quot;RPi&quot;). The baseboard has a compact form factor with all the connections needed for development.</p><p><img src="'+i+'" alt="RPi CM4 with Pixhawk"></p><p>The flight controller module is internally connected to RPi CM4 through <code>TELEM2</code>, but may alternatively be connected using Ethernet with the provided external cable.</p><p>This baseboard is plug-in compatible with <a href="./../flight_controller/pixhawk5x.html">Holybro Pixhawk 5X</a>, <a href="./../flight_controller/pixhawk6x.html">Holybro Pixhawk 6X</a>, and any other Pixhawk controller that follows the <a href="https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-010%20Pixhawk%20Autopilot%20Bus%20Standard.pdf" target="_blank" rel="noreferrer">Pixhawk Autopilot Bus Standard</a> guidelines for mechanical compatibility across vendors.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The board follows the <a href="https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-009%20Pixhawk%20Connector%20Standard.pdf" target="_blank" rel="noreferrer">Pixhawk Connector Standard</a> and <a href="https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-010%20Pixhawk%20Autopilot%20Bus%20Standard.pdf" target="_blank" rel="noreferrer">Pixhawk Autopilot Bus Standard</a> (including the guidelines for &quot;mechanical compatibility across vendors&quot;).</p></div><h2 id="purchase" tabindex="-1">Purchase <a class="header-anchor" href="#purchase" aria-label="Permalink to &quot;Purchase&quot;">​</a></h2><ul><li><p><a href="https://holybro.com/products/pixhawk-rpi-cm4-baseboard" target="_blank" rel="noreferrer">Holybro Pixhawk RPi CM4 Baseboard</a> (www.holybro.com)</p><p>The baseboard can be purchased with or without an RPi CM4 and/or flight controller:</p><ul><li>The Raspberry Pi CM4 (CM4008032) supplied by Holybro has the following specification: <ul><li>RAM: 8GB</li><li>eMMC: 32GB</li><li>Wireless: No</li></ul></li><li>The recommended minimum specification for the RPi CM4 is: <ul><li>RAM: 4GB (or 8GB)</li><li>eMMC: 16GB</li><li>Wireless: Yes</li></ul></li></ul></li></ul><h2 id="connections-ports" tabindex="-1">Connections &amp; Ports <a class="header-anchor" href="#connections-ports" aria-label="Permalink to &quot;Connections &amp; Ports&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The <a href="https://docs.holybro.com/autopilot/pixhawk-baseboards/pixhawk-rpi-cm4-baseboard/connections-and-ports" target="_blank" rel="noreferrer">Holybro Documentation</a> has more detailed (and possibly more &quot;up to date&quot;) port and connection information.</p></div><p>The diagram below shows all the connectors and ports on the baseboard.</p><p><img src="'+s+'" alt="Schematic diagram"></p><h3 id="rpi-cm4-fc-serial-connection" tabindex="-1">RPi CM4 &amp; FC Serial Connection <a class="header-anchor" href="#rpi-cm4-fc-serial-connection" aria-label="Permalink to &quot;RPi CM4 &amp; FC Serial Connection&quot;">​</a></h3><p>The flight controller <code>TELEM2</code> port is internally connected to RPi CM4 as shown:</p><table><thead><tr><th>RPi CM4</th><th>FC TELEM2 (FMU)</th></tr></thead><tbody><tr><td>GPIO14</td><td>TXD</td></tr><tr><td>GPIO15</td><td>RXD</td></tr><tr><td>GPIO16</td><td>CTS</td></tr><tr><td>GPIO17</td><td>RTS</td></tr></tbody></table><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The connection must be also be <a href="#configure-px4-to-cm4-mavlink-serial-connection">configured in both RPi and PX4</a> (unless <a href="#ethernet-connection-optional">Ethernet</a> is used instead).</p></div><h2 id="installing-the-flight-controller" tabindex="-1">Installing the Flight Controller <a class="header-anchor" href="#installing-the-flight-controller" aria-label="Permalink to &quot;Installing the Flight Controller&quot;">​</a></h2><p>A plug-compatible flight controller such as <a href="./../flight_controller/pixhawk5x.html">Holybro Pixhawk 5X</a> and <a href="./../flight_controller/pixhawk6x.html">Holybro Pixhawk 6X</a> can simply be pushed into the module slot.</p><p>Flight controllers that have a different form factor will need additional wiring.</p><h2 id="installing-the-rpi-cm4-companion" tabindex="-1">Installing the RPi CM4 Companion <a class="header-anchor" href="#installing-the-rpi-cm4-companion" aria-label="Permalink to &quot;Installing the RPi CM4 Companion&quot;">​</a></h2><p>This section shows how to install/attach a Raspberry Pi CM4 to the baseboard.</p><p><img src="'+a+'" alt="Image showing separate baseboard, baseboard cover, RPi, Flight controller, screws"></p><p>To install the Raspberry Pi CM4 companion computer:</p><ol><li><p>Disconnect the <code>FAN</code> wiring.</p><p><img src="'+t+'" alt="HB_Pixhawk_CM4_Fan"></p></li><li><p>Remove these 4 screws on the back side of the baseboard.</p><p><img src="'+e+'" alt="Bottom of the board showing screws in corners holding the cover"></p></li><li><p>Remove the baseboard case, install the CM4, and use the 4 screws to attach it (as shown):</p><p><img src="'+n+'" alt="HB_Pixhawk_CM4_Screws"></p></li><li><p>Reattach the cover.</p></li></ol><h2 id="power-module-wiring" tabindex="-1">Power Module Wiring <a class="header-anchor" href="#power-module-wiring" aria-label="Permalink to &quot;Power Module Wiring&quot;">​</a></h2><p>The PM03D power module is supplied with the board.</p><p>The RPi CM4 and flight controller must be powered separately:</p><ul><li>The flight controller is powered via the CLIK-Mate cable to <code>POWER1</code> or <code>POWER2</code> port</li><li>The RPi CM4 is powered by the <code>USB C</code> (CM4 Slave) connection. You can also use your own power supply to power the RPi CM4 baseboard.</li></ul><p>The image below shows the wiring in greater detail.</p><p><img src="'+h+'" alt="Image showing writing from the PM03D power module to the baseboard"></p><h2 id="flashing-the-rpi-cm4" tabindex="-1">Flashing the RPi CM4 <a class="header-anchor" href="#flashing-the-rpi-cm4" aria-label="Permalink to &quot;Flashing the RPi CM4&quot;">​</a></h2><p>This section explains how you install your preferred Linux distro, such as &quot;Raspberry Pi OS 64bit&quot; onto the RPi EMCC.</p><p>Notes:</p><ul><li>If you are using PX4, you will need to use PX4 version 1.13.1 or newer for PX4 to recognize this baseboard.</li><li>The fan does not indicate if the RPi CM4 is powered/running or not.</li><li>The power module plugged into Power1/2 does not power the RPi part. You can use the additional USB-C Cable from the PM03D power module to the CM4 Slave USB-C port.</li><li>The Micro-HDMI port is an output port.</li><li>RPi CM4 boards that do not have Wifi device will not connect automatically. In this case you will need to plug it into a router or plug a compatible Wifi dongle into the CM4 Host ports.</li></ul><h3 id="flash-emmc" tabindex="-1">Flash EMMC <a class="header-anchor" href="#flash-emmc" aria-label="Permalink to &quot;Flash EMMC&quot;">​</a></h3><p>To flash a RPi image onto EMMC.</p><ol><li><p>Switch Dip-Switch to <code>RPI</code>.</p><p><img src="'+l+'" alt=""></p></li><li><p>Connect computer to USB-C <em>CM4 Slave</em> port used to power &amp; flash the RPi.</p><p><img src="'+p+`" alt=""></p></li><li><p>Get <code>usbboot</code>, build it and run it.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libusb-1.0-0-dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth=1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/raspberrypi/usbboot,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usbboot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./rpiboot</span></span></code></pre></div></li><li><p>You can now install your preferred Linux distro using The <code>rpi-imager</code>. Make sure you add WiFi and SSH settings (hidden behind the gear/advanced symbol).</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rpi-imager</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpi-imager</span></span></code></pre></div></li><li><p>Once done, unplugging USB-C CM4 Slave (this will unmount the volumes, and power off the CM4).</p></li><li><p>Switch Dip-Switch back to <code>EMMC</code>.</p></li><li><p>Power on CM4 by providing power to USB-C CM4 Slave port.</p></li><li><p>To check if it&#39;s booting/working you can either:</p><ul><li>Check there is HDMI output</li><li>Connect via SSH (if set up in rpi-imager, and WiFi is available).</li></ul></li></ol><h2 id="configure-px4-to-cm4-mavlink-serial-connection" tabindex="-1">Configure PX4 to CM4 MAVLink Serial Connection <a class="header-anchor" href="#configure-px4-to-cm4-mavlink-serial-connection" aria-label="Permalink to &quot;Configure PX4 to CM4 MAVLink Serial Connection&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If you are using <a href="#ethernet-connection-optional">Ethernet</a> to connect the FC and RPi, this setup is not needed.</p></div><p>The Pixhawk FC module is <a href="#rpi-cm4-fc-serial-connection">internally connected to the RPi CM4</a> using <code>TELEM2</code> (<code>/dev/ttyS4</code>). The FC and RPi CM4 must both be configured to communicate over this port.</p><h3 id="fc-serial-port-setup" tabindex="-1">FC Serial Port Setup <a class="header-anchor" href="#fc-serial-port-setup" aria-label="Permalink to &quot;FC Serial Port Setup&quot;">​</a></h3><p>The FC should be set up to connect to the <code>TELEM2</code> port correctly by default. If not, you can configure the port using the parameters as shown.</p><p>To enable this MAVLink instance on the FC:</p><ol><li><p>Connect a computer running QGroundControl via USB Type C port on the baseboard labeled <code>FC</code></p><p><img src="`+r+'" alt="Image of baseboard showing FC USB-C connector"></p></li><li><p><a href="./../advanced_config/parameters.html">Set the parameters</a>:</p><ul><li><code>MAV_1_CONFIG</code> = <code>102</code></li><li><code>MAV_1_MODE = 2</code></li><li><code>SER_TEL2_BAUD</code> = <code>921600</code></li></ul></li><li><p>Reboot the FC.</p></li></ol><h3 id="rpi-serial-port-setup" tabindex="-1">RPi Serial Port Setup <a class="header-anchor" href="#rpi-serial-port-setup" aria-label="Permalink to &quot;RPi Serial Port Setup&quot;">​</a></h3><p>On the RPi side:</p><ol><li><p>Connect to the RPi (using WiFi, a router, or a Wifi Dongle).</p></li><li><p>Enable the RPi serial port by running <code>RPi-config</code></p><ul><li>Go to <code>3 Interface Options</code>, then <code>I6 Serial Port</code>. Then choose: <ul><li><code>login shell accessible over serial → No</code></li><li><code>serial port hardware enabled</code> → <code>Yes</code></li></ul></li></ul></li><li><p>Finish, and reboot. (This will add <code>enable_uart=1</code> to <code>/boot/config.txt</code>, and remove <code>console=serial0,115200</code> from <code>/boot/cmdline.txt</code></p></li><li><p>Now MAVLink traffic should be available on <code>/dev/serial0</code> at a baudrate of 921600.</p></li></ol><h2 id="try-out-mavsdk-python" tabindex="-1">Try out MAVSDK-Python <a class="header-anchor" href="#try-out-mavsdk-python" aria-label="Permalink to &quot;Try out MAVSDK-Python&quot;">​</a></h2><ol><li><p>Make sure the CM4 is connected to the internet, e.g. using a wifi, or ethernet.</p></li><li><p>Install MAVSDK Python:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mavsdk</span></span></code></pre></div></li><li><p>Copy an example from the <a href="https://github.com/mavlink/MAVSDK-Python/tree/main/examples" target="_blank" rel="noreferrer">MAVSDK-Python examples</a>.</p></li><li><p>Change the <code>system_address=&quot;udp://:14540&quot;</code> to <code>system_address=&quot;serial:///dev/serial0:921600&quot;</code></p></li><li><p>Try out the example. Permission for the serial port should already be available through the <code>dialout</code> group.</p></li></ol><h2 id="ethernet-connection-optional" tabindex="-1">Ethernet Connection (Optional) <a class="header-anchor" href="#ethernet-connection-optional" aria-label="Permalink to &quot;Ethernet Connection (Optional)&quot;">​</a></h2><p>The flight controller module is <a href="#rpi-cm4-fc-serial-connection">internally connected to RPi CM4</a> from <code>TELEM2</code> (Serial).</p><p>You can also set up a local Ethernet connection between them using the supplied cable. Ethernet connectivity provides a fast, reliable, and flexible communication alternative to using USB or other serial connections.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>For more general information see: <a href="./../advanced_config/ethernet_setup.html">PX4 Ethernet Setup</a>.</p></div><h3 id="connect-the-cable" tabindex="-1">Connect the Cable <a class="header-anchor" href="#connect-the-cable" aria-label="Permalink to &quot;Connect the Cable&quot;">​</a></h3><p>To set up a local ethernet connection between CM4 and the flight computer, the two ethernet ports need to be connected using the provided 8 pin to 4 pin connector.</p><p><img src="'+k+`" alt="HB_Pixhawk_CM4_Ethernet_Cable"></p><p>The pinout of the cable is:</p><table><thead><tr><th>CM4 Eth 8 Pin</th><th>FC ETH 4 Pin</th></tr></thead><tbody><tr><td>A</td><td>B</td></tr><tr><td>B</td><td>A</td></tr><tr><td>C</td><td>D</td></tr><tr><td>D</td><td>C</td></tr><tr><td>-</td><td>N/A</td></tr><tr><td>-</td><td>N/A</td></tr><tr><td>-</td><td>N/A</td></tr><tr><td>-</td><td>N/A</td></tr></tbody></table><h3 id="ip-setup-on-cm4" tabindex="-1">IP Setup on CM4 <a class="header-anchor" href="#ip-setup-on-cm4" aria-label="Permalink to &quot;IP Setup on CM4&quot;">​</a></h3><p>Since there is no DHCP server active in this configuration, the IP addresses have to be set manually:</p><p>First, connect to the CM4 via SSH by connecting to the CM4’s WiFi (or use a Wifi dongle). Once the ethernet cables are plugged in, the <code>eth0</code> network interface seems to switch from DOWN to UP.</p><p>You can check the status using:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span></code></pre></div><p>You can also try to enable it manually:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span></code></pre></div><p>It then seems to automatically set a link-local address, for this example it looks like this:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> address</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BROADCAST,MULTICAST,UP,LOWER_U</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mtu</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1500</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> qdisc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mq</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> state</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> UP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> qlen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    link/ether</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xx:xx:xx:xx:xx:xx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ff:ff:ff:ff:ff:ff</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    inet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183/16</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.255.255</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> noprefixroute</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       valid_lft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> forever</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> preferred_lft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> forever</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    inet6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fe80::yyyy:yyyy:yyyy:yyyy/64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> scope</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> link</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">       valid_lft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> forever</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> preferred_lft</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> forever</span></span></code></pre></div><p>This means the CM4&#39;s ethernet IP is 169.254.21.183.</p><h4 id="ip-setup-on-fc" tabindex="-1">IP Setup on FC <a class="header-anchor" href="#ip-setup-on-fc" aria-label="Permalink to &quot;IP Setup on FC&quot;">​</a></h4><p>Now connect to the NuttX shell (using a console, or the MAVLink shell), and check the status of the link:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifconfig</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eth0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> encap:Ethernet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HWaddr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xx:xx:xx:xx:xx:xx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOWN</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        inet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addr:0.0.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DRaddr:192.168.0.254</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mask:255.255.255.0</span></span></code></pre></div><p>For this example, it is DOWN at first.</p><p>To set it to UP:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifup</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifup</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0...OK</span></span></code></pre></div><p>Now check the config again:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifconfig</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eth0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> encap:Ethernet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HWaddr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xx:xx:xx:xx:xx:xx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> UP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        inet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addr:0.0.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DRaddr:192.168.0.254</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mask:255.255.255.0</span></span></code></pre></div><p>However, it doesn’t have an IP yet. Set one that is similar to the one on the RPi CM4:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifconfig</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eth0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.21.184</span></span></code></pre></div><p>Then check it:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifconfig</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eth0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Link</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> encap:Ethernet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HWaddr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xx:xx:xx:xx:xx:xx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> UP</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        inet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> addr:169.254.21.184</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DRaddr:169.254.21.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mask:255.255.255.0</span></span></code></pre></div><p>Now the devices should be able to ping each other.</p><p>Note that this configuration is ephemeral and will be lost after a reboot, so we’ll need to find a way to configure it statically.</p><h4 id="ping-test" tabindex="-1">Ping Test <a class="header-anchor" href="#ping-test" aria-label="Permalink to &quot;Ping Test&quot;">​</a></h4><p>First from the CM4:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.21.184</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PING</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.21.184</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (169.254.21.184) 56(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">84</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) bytes of data.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.184:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.188</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.184:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.131</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.184:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.190</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.184:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ttl=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.112</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">^C</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.21.184</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> statistics</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ---</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packets</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transmitted,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> received,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> loss,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3077ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rtt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> min/avg/max/mdev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0.112/0.155/0.190/0.034</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span></code></pre></div><p>Then from the flight controller in NuttShell:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.21.183</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PING</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.21.183</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">56</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bytes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 169.254.21.183:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> icmp_seq=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packets</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transmitted,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> received,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0%</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> loss,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> time</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10010</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ms</span></span></code></pre></div><h4 id="mavlink-mavsdk-test" tabindex="-1">MAVLink/MAVSDK Test <a class="header-anchor" href="#mavlink-mavsdk-test" aria-label="Permalink to &quot;MAVLink/MAVSDK Test&quot;">​</a></h4><p>For this, we need to set the MAVLink instance to send traffic to the CM4&#39;s IP address:</p><p>For an initial test we can do:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mavlink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 14540</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 169.254.21.183</span></span></code></pre></div><p>This will send MAVLink traffic on UDP to port 14540 (the MAVSDK/MAVROS port) to that IP which means MAVSDK can just listen to any UDP arriving at that default port.</p><p>To run a MAVSDK example, install mavsdk via pip, and try out an example from <a href="https://github.com/mavlink/MAVSDK-Python/tree/main/examples" target="_blank" rel="noreferrer">MAVSDK-Python/examples</a>.</p><p>For instance:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mavsdk</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/mavlink/MAVSDK-Python/main/examples/tune.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tune.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./tune.py</span></span></code></pre></div><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="https://px4.io/get-the-pixhawk-raspberry-pi-cm4-baseboard-by-holybro-talking-with-px4/" target="_blank" rel="noreferrer">Get The Pixhawk Raspberry Pi CM4 Baseboard By Holybro Talking With PX4</a> (px4.io blog): <ul><li>Tutorial showing how to connect Pixhawk 6X + Raspberry Pi on CM4 baseboard via wired Ethernet.</li></ul></li></ul>`,97),y=[C];function u(m,B,b,E,f,v){return F(),d("div",null,y)}const _=o(g,[["render",u]]);export{w as __pageData,_ as default};
