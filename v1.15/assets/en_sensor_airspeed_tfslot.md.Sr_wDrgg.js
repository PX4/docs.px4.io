import{_ as e,a as t}from"./chunks/tfslot_integration.2zeY-sYi.js";import{_ as a,c as r,o as s,ab as i}from"./chunks/framework.CUflZczI.js";const k=JSON.parse('{"title":"TFSLOT - Venturi effect airspeed sensor","description":"","frontmatter":{},"headers":[],"relativePath":"en/sensor/airspeed_tfslot.md","filePath":"en/sensor/airspeed_tfslot.md"}'),n={name:"en/sensor/airspeed_tfslot.md"},o=i('<h1 id="tfslot-venturi-effect-airspeed-sensor" tabindex="-1">TFSLOT - Venturi effect airspeed sensor <a class="header-anchor" href="#tfslot-venturi-effect-airspeed-sensor" aria-label="Permalink to &quot;TFSLOT - Venturi effect airspeed sensor&quot;">​</a></h1><p><a href="https://github.com/ThunderFly-aerospace/TFSLOT01" target="_blank" rel="noreferrer">TFSLOT</a> is an open-source airspeed sensor based on the <a href="https://en.wikipedia.org/wiki/Venturi_effect" target="_blank" rel="noreferrer">Venturi effect</a> that also has an IMU.</p><p><img src="'+e+'" alt="TFSLOT and TFSLOT WITH TFASPDIMU02 board"></p><p><a href="https://github.com/ThunderFly-aerospace/TFSLOT01" target="_blank" rel="noreferrer">TFSLOT</a> is an airspeed sensor based on venturi effects. In the basic configuration, the TFSLOT is equipped with the <a href="https://github.com/ThunderFly-aerospace/TFASPDIMU02" target="_blank" rel="noreferrer">TFASPDIMU02</a> sensor board, which contains a differential pressure sensor (<a href="https://sensirion.com/products/catalog/?filter_series=d1816d53-f5c8-47e3-ab47-818c3fd54259" target="_blank" rel="noreferrer">Sensirion SDP3x series</a>) and a 9-axis motion tracking sensor (<a href="https://invensense.tdk.com/products/motion-tracking/9-axis/icm-20948/" target="_blank" rel="noreferrer">ICM-20948</a>). The IMU unit can be used as an external compass.</p><ul><li>This design brings several advantages when used on small-scale and slow-flying UAVs.</li><li>Better resolution at low airspeeds (below 10 m/s).</li><li>Configurable sensitivity brought by changing the profile.</li><li>Less tendency to clogging (For example, by clay after landing)</li><li>Weatherproof (rain, snow, etc.)</li><li>Direct differential pressure sensor integration without any additional tubing. Less chance of sensor malfunction.</li><li>Possibility of direct integration into the construction of the drone. Design is fully open source.</li><li>Integrated external IMU unit.</li></ul><p>Thanks to the printed tube, it is very easy to change the measuring profile and thus to change the sensitivity in certain speed ranges. In the basic form, it is optimized so that the measured differential pressure corresponds to the pressure from the pitot tube.</p><p><img src="'+t+`" alt="TFSLOT integrated in TF-G2"><em>First integration of TFSLOT into <a href="https://github.com/ThunderFly-aerospace/TF-G2/" target="_blank" rel="noreferrer">TF-G2</a> autogyro</em></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Full documentation and source files can be found on <a href="https://github.com/ThunderFly-aerospace/TFSLOT01" target="_blank" rel="noreferrer">GitHub</a>.</p></div><h2 id="where-to-buy" tabindex="-1">Where to buy <a class="header-anchor" href="#where-to-buy" aria-label="Permalink to &quot;Where to buy&quot;">​</a></h2><p>TFSLOT is possible to buy at <a href="https://www.tindie.com/products/thunderfly/tfslot01a-inovative-drone-airspeed-sensor/" target="_blank" rel="noreferrer">Tindie store</a> or by sending us an inquiry via email at <a href="mailto:info@thunderfly.cz" target="_blank" rel="noreferrer">info@thunderfly.cz</a></p><h2 id="connection" tabindex="-1">Connection <a class="header-anchor" href="#connection" aria-label="Permalink to &quot;Connection&quot;">​</a></h2><p><a href="https://github.com/ThunderFly-aerospace/TFASPDIMU02" target="_blank" rel="noreferrer">TFASPDIMU02</a> is equipped with I2C JST-GH connector, which conforms to the pinout of the <a href="https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-009%20Pixhawk%20Connector%20Standard.pdf" target="_blank" rel="noreferrer">dronecode standard</a>. Therefore the sensor can be connected directly to an I2C port of autopilot using an I2C 4pin JST-GH cable.</p><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>Because there is an <a href="https://invensense.tdk.com/products/motion-tracking/9-axis/icm-20948/" target="_blank" rel="noreferrer">IMU IC</a> connected in front of the sensor, the IMU IC needs to be set into a bridge mode. Following this the airspeed sensor driver can be run. This can be done using the following command sequences. The commands assume a connection to I2C2 port.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">icm20948_i2c_passthrough</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x68</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sdp3x_airspeed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span></code></pre></div><p>This sequence can be stored on the SD card in the <code>/etc/config.txt file</code>. You can read more about the configuration on the SD card on a <a href="./../concept/system_startup.html#replacing-the-system-startup">separate page</a>.</p><p>Because the conversion of differential pressure to airspeed differs from the Pitot tube, this profile needs to be changed. This is done by setting parameter <a href="./../advanced_config/parameter_reference.html#CAL_AIR_CMODEL"><code>CAL_AIR_CMODEL</code></a> to 3 (Venturi effect based airspeed sensor)</p><h2 id="calibration" tabindex="-1">Calibration <a class="header-anchor" href="#calibration" aria-label="Permalink to &quot;Calibration&quot;">​</a></h2><p>Calibration is a bit difficult because the current firmware version does not support calibration with negative values. Because the used sensor measures both airflow directions symmetrically and has zero offset, there is no need to calibrate repeatedly before every takeoff. But you have to ensure that there is no airflow during the calibration process.</p><p>The easiest way to do the calibration is to take the adhesive tape and tape it between the pressure inlets to the sensor. Then start the calibration process and blow from the back when prompted. If the pressure of at least 50 Pa is created, the calibration will be successful.</p>`,20),h=[o];function l(c,d,p,f,u,b){return s(),r("div",null,h)}const T=a(n,[["render",l]]);export{k as __pageData,T as default};
