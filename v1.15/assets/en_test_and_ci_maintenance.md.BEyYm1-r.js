import{_ as s,c as i,o as a,ab as n}from"./chunks/framework.CUflZczI.js";const o=JSON.parse('{"title":"Maintenance Notes","description":"","frontmatter":{},"headers":[],"relativePath":"en/test_and_ci/maintenance.md","filePath":"en/test_and_ci/maintenance.md"}'),h={name:"en/test_and_ci/maintenance.md"},p=n(`<h1 id="maintenance-notes" tabindex="-1">Maintenance Notes <a class="header-anchor" href="#maintenance-notes" aria-label="Permalink to &quot;Maintenance Notes&quot;">​</a></h1><p>This picks and describes some tools to help analyze the state of the codebase and support its maintenance.</p><h2 id="analyze-churn" tabindex="-1">Analyze churn <a class="header-anchor" href="#analyze-churn" aria-label="Permalink to &quot;Analyze churn&quot;">​</a></h2><p>The amount of churn, so the number of changes done to a file can be an indicator which files/parts might need refactoring.</p><p>To find churn metrics a tool such as <a href="https://github.com/danmayer/churn" target="_blank" rel="noreferrer">Churn</a> can be used:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> churn</span></span></code></pre></div><p>An example output as of <code>v1.6.0-rc2</code> would be:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src/PX4-Autopilot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">churn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --start_date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;6 months ago&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**********************************************************************</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Revision Changes</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**********************************************************************</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Files</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                     |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+------------------------------------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/modules/navigator/mission.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/modules/navigator/navigator_main.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/modules/navigator/rtl.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+------------------------------------------+</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**********************************************************************</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Project Churn</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">**********************************************************************</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Files</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+---------------------------------------------------------------------------+---------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> file_path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                                                 |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> times_changed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">+---------------------------------------------------------------------------+---------------+</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/modules/mc_pos_control/mc_pos_control_main.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 107</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/modules/commander/commander.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                       |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 67</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ROMFS/px4fmu_common/init.d/rcS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                            |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 52</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Makefile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                                                  |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 49</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/drivers/px4fmu/fmu.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                                |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 47</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ROMFS/px4fmu_common/init.d/rc.sensors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                     |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 40</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/drivers/boards/aerofc-v1/board_config.h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                               |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 31</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/modules/logger/logger.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                             |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 29</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src/modules/navigator/navigator_main.cpp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                  |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 28</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |</span></span></code></pre></div>`,8),l=[p];function t(e,k,r,d,c,F){return a(),i("div",null,l)}const y=s(h,[["render",t]]);export{o as __pageData,y as default};
