import{_ as e}from"./chunks/flight_termination_logic_diagram.DQmNxc_g.js";import{_ as a,c as t,o as i,ab as o}from"./chunks/framework.CUflZczI.js";const u=JSON.parse('{"title":"飞行终止配置","description":"","frontmatter":{},"headers":[],"relativePath":"zh/advanced_config/flight_termination.md","filePath":"zh/advanced_config/flight_termination.md"}'),r={name:"zh/advanced_config/flight_termination.md"},l=o('<h1 id="飞行终止配置" tabindex="-1">飞行终止配置 <a class="header-anchor" href="#飞行终止配置" aria-label="Permalink to &quot;飞行终止配置&quot;">​</a></h1><p>The <em>Flight termination</em> <a href="./../config/safety.html#failsafe-actions">failsafe action</a> may be triggered by a <a href="./../config/safety.html">safety check</a> (e.g. RC Loss, geofence violation, etc. on any vehicle type or in any flight mode), or by the <a href="./../config/safety.html#failure-detector">Failure Detector</a>.</p><div class="info custom-block"><p class="custom-block-title">Flight termination may also be triggered from a ground station or companion computer using the MAVLink <a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_FLIGHTTERMINATION" target="_blank" rel="noreferrer">MAV_CMD_DO_FLIGHTTERMINATION</a> command. This is sent, for example, when you call the <a href="https://mavsdk.mavlink.io/main/en/cpp/api_reference/classmavsdk_1_1_action.html#classmavsdk_1_1_action_1a47536c4a4bc8367ccd30a92eb09781c5" target="_blank" rel="noreferrer">MAVSDK Action plugin</a> <code>terminate()</code> or <code>terminate_async()</code> methods.</p></div><p>When <em>Flight termination</em> is activated, PX4 simultaneously turns off all controllers and sets all PWM outputs to their failsafe values.</p><p>Depending on what devices are connected, the PWM failsafe outputs can be used to:</p><ul><li>展开<a href="./../peripherals/parachute.html">降落伞</a>。</li><li>伸展可伸缩起落架。</li><li>将连接了 PWM 的云台移动到安全的方向（或将它回收）以保护摄像机。</li><li>触发一个重启装置，比如安全气囊。</li><li>触发警报。</li></ul><div class="tip custom-block"><p class="custom-block-title">PX4 不能感知接了那些安全设备 - 它只是将一组预先定义的 PWM 值用于其输出。 After triggering you should unplug the battery as soon as possible. You will need to reboot/power cycle the vehicle before it can be used again.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>失效保护值被应用到终止时的所有输出。 无法配置时基触发的电机或者特定的安全设备。</p><p>:::note 这<em>不是</em>一个独立的 <em>飞行终止系统</em>。 如果断电或者自驾仪完全失控，则不会出发失效保护设备。</p></div></div><div class="info custom-block"><p class="custom-block-title">This is <em>not</em> an independent <em>Flight Termination System</em>. If power is lost or if the autopilot crashes completely, the failsafe devices will not be triggered.</p></div><h2 id="硬件配置" tabindex="-1">硬件配置 <a class="header-anchor" href="#硬件配置" aria-label="Permalink to &quot;硬件配置&quot;">​</a></h2><p>Any <em>safety device(s)</em> (e.g. a <a href="./../peripherals/parachute.html">parachute</a>) that can be triggered by changing a PWM value can be used, and may be connected to any free PWM port (both MAIN and AUX).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If you&#39;re using Pixhawk-series board you will have to separately power the servo rail (i.e. from a 5V BEC, which is often also available from your ESC).</p></div><h2 id="软件配置" tabindex="-1">软件配置 <a class="header-anchor" href="#软件配置" aria-label="Permalink to &quot;软件配置&quot;">​</a></h2><p>The <a href="./../config/safety.html">Safety</a> topic explains how to set the <em>flight termination</em> as the <a href="./../config/safety.html#failsafe-actions">failsafe action</a> to be performed for particular failsafe check.</p><p>最后，设置任意电机的 <code>PWM_AUX_FAILn</code> and <code>PWM_MAIN_FAILn</code> PWM值。</p><ul><li>通过设置 <a href="./../advanced_config/parameter_reference.html#CBRK_FLIGHTTERM">CBRK_FLIGHTTERM=0</a> 来启用故障检测器。</li><li><a href="./../config/safety.html#attitude-trigger">Safety &gt; Failure Detector &gt; Attitude Trigger</a> explains how to configure the attitude limits that trigger <em>Flight termination</em>. ::: info During <em>takeoff</em> excessive attitutes will trigger <em>lockdown</em> (kill motors, but not launch parachute) rather than flight termination. 无论 <code>CBRK_FLIGHTTERM</code> 为何值，此选项始终启用。 无法配置时基触发的电机或者特定的安全设备。</li><li><a href="./../config/safety.html#external-automatic-trigger-system-ats">Safety &gt; External Automatic Trigger System (ATS)</a> explains how to configure an external trigger system.</li></ul><p>下图显示了飞行终止的逻辑流程。</p><ul><li>将 <a href="./../advanced_config/parameter_reference.html#PWM_MAIN_DIS1">PWM_MAIN_DISn</a> 设置为设备的“OFF”PWM值。</li><li>将 <a href="./../advanced_config/parameter_reference.html#PWM_MAIN_FAIL1">PWM_MAIN_FAILn</a> 设置为设备的“ON”PWM值。</li></ul><p>最后，设置任意电机的 <code>PWM_AUX_FAILn</code> 和 <code>PWM_MAIN_FAILn</code> PWM 值。</p><ul><li>将 <a href="./../advanced_config/parameter_reference.html#PWM_AUX_DIS1">PWM_AUX_DISn</a> 设置为设备的“OFF”PWM值。</li><li>将 <a href="./../advanced_config/parameter_reference.html#PWM_AUX_FAIL1">PWM_AUX_FAILn</a> 设置为设备的“ON”PWM值。</li></ul><p>下图显示了飞行终止的逻辑流程。</p><h2 id="逻辑图解" tabindex="-1">逻辑图解 <a class="header-anchor" href="#逻辑图解" aria-label="Permalink to &quot;逻辑图解&quot;">​</a></h2><p>The diagram below shows the logical flow around flight termination.</p><p><img src="'+e+'" alt="Logic diagram"></p>',23),n=[l];function c(s,h,m,f,d,p){return i(),t("div",null,n)}const b=a(r,[["render",c]]);export{u as __pageData,b as default};
