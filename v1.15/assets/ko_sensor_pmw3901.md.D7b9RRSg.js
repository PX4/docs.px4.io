import{_ as e,a as t,b as a,c as r,d as o,e as n,f as i,g as d,h as s,i as l,j as h,k as p,l as c,m,n as f}from"./chunks/thoneflow_3901u_hero.BouBdDIo.js";import{_ as w,c as u,o as _,ab as P}from"./chunks/framework.CUflZczI.js";const y=JSON.parse('{"title":"PMW3901 기반 유량 센서","description":"","frontmatter":{},"headers":[],"relativePath":"ko/sensor/pmw3901.md","filePath":"ko/sensor/pmw3901.md"}'),b={name:"ko/sensor/pmw3901.md"},g=P('<h1 id="pmw3901-기반-유량-센서" tabindex="-1">PMW3901 기반 유량 센서 <a class="header-anchor" href="#pmw3901-기반-유량-센서" aria-label="Permalink to &quot;PMW3901 기반 유량 센서&quot;">​</a></h1><p>PMW3901은 내부적으로 흐름을 계산하고, 각 프레임 간의 픽셀 차이를 제공하는 <a href="./../sensor/optical_flow.html">광류</a> ASIC입니다. 컴퓨터 마우스와 유사한 추적 센서를 사용하지만 80mm에서 무한대 사이에서 작동하도록 조정되었습니다. PMW3901은 Bitcraze, Tindie, Hex, Thone 및 Alientek의 일부 제품을 포함하여 여러 제품에 사용됩니다.</p><p><img src="'+e+'" alt="Bitcraze Flow Deck"></p><p>장착 방법, PX4 설정 방법과 테스트 센서에 대한 링크를 제공합니다 (이 유형의 모든 센서에 공통임).</p><h2 id="pmw3901을-사용하는-보드" tabindex="-1">PMW3901을 사용하는 보드 <a class="header-anchor" href="#pmw3901을-사용하는-보드" aria-label="Permalink to &quot;PMW3901을 사용하는 보드&quot;">​</a></h2><p>다음 표는이 센서를 사용하는 일부 보드를 보여 주며, 인터페이스 수, 센서 수, 입력 전압 및 크기를 나열합니다. 보드 이름은 배선 및 구매 정보가 포함된 보드 별 섹션으로 연결됩니다.</p><table><thead><tr><th>제조사</th><th>보드</th><th>인터페이스</th><th>흐름</th><th>거리 측정기</th><th>자이로</th><th>전압 (V)</th><th>크기 (mm)</th><th>최대 높이 (m)</th></tr></thead><tbody><tr><td>Bitcraze</td><td><a href="#bitcraze-flow-breakout">Flow breakout</a></td><td>SPI</td><td>Y</td><td>Y</td><td>-</td><td>3 - 5</td><td>21x20</td><td>1</td></tr><tr><td>Tindie</td><td><a href="#tindie-pmw3901-optical-flow-sensor">PMW3901 광류 센서</a></td><td>SPI</td><td>Y</td><td>-</td><td>-</td><td>3 - 5</td><td>AxB</td><td>-</td></tr><tr><td>Hex</td><td><a href="#hex-hereflow-pmw3901-optical-flow-sensor">HereFlow PMW3901 광류 센서</a></td><td>CAN</td><td>Y</td><td>Y</td><td>Y</td><td>3 - 5</td><td>AxB</td><td>4</td></tr><tr><td>Holybro</td><td><a href="#holybro-pmw3901-optical-flow-sensor">Holybro PMW3901 Optical Flow Sensor</a></td><td>UART</td><td>Y</td><td>-</td><td>-</td><td>3 - 5</td><td>AxB</td><td>-</td></tr><tr><td>Thone</td><td><a href="#thone-thoneflow-3901u">ThoneFlow-3901U</a></td><td>UART</td><td>Y</td><td>-</td><td>-</td><td>3 - 5</td><td>AxB</td><td>-</td></tr><tr><td>Alientek</td><td><a href="#alientek-atk-pmw3901">ATK-PMW3901</a></td><td>SPI</td><td>Y</td><td>-</td><td>-</td><td>3.3 - 4.2</td><td>27.5x16.5</td><td>1</td></tr></tbody></table><h2 id="외부-거리계" tabindex="-1">외부 거리계 <a class="header-anchor" href="#외부-거리계" aria-label="Permalink to &quot;외부 거리계&quot;">​</a></h2><p>An external rangefinder/distance sensor is <em>required</em> for the sensors that don&#39;t have a rangefinder (e.g. <em>Tindie</em> or <em>Thone</em>) and <em>recommended</em> for the other boards (as their range is quite limited).</p><p>필요한 범위는 애플리케이션에 따라 다릅니다.</p><ul><li>실내 비행 : ≈4m</li><li>실외 비행 : ≥10 미터 (예 : GPS에 문제가 있을 수 있는 환경에서 위치 제어를 지원)</li></ul><p>PX4에서 지원하는 <a href="./../sensor/rangefinders.html">거리계/거리 센서</a>를 사용할 수 있습니다. 센서는 어디나 장착할 수 있지만, 아래를 향해야하며 평소와 같이 연결/설정하여야 합니다.</p><div class="tip custom-block"><p class="custom-block-title">PX4 팀은 주로 대형 기체에 <a href="./../sensor/lidar_lite.html">Lidar Lite V3</a>를 사용하고 소형 기체에 <a href="./../sensor/cm8jl65_ir_distance_sensor.html">Lanbao CM8JL65</a>를 사용하여 테스트 하였습니다.</p></div><h2 id="장착-및-방향" tabindex="-1">장착 및 방향 <a class="header-anchor" href="#장착-및-방향" aria-label="Permalink to &quot;장착 및 방향&quot;">​</a></h2><p>흐름 모듈은 일반적으로 차량 중앙 근처에 장착됩니다. 중심을 벗어난 곳에 장착하는 경우 오프셋을 설정하여야 합니다. <a href="./../sensor/optical_flow.html#ekf2">Optical Flow &gt; EKF2</a>.</p><p>흐름 모듈은 차체 프레임과 관련된 모든 요 방향으로 장착 할 수 있지만 <a href="./../advanced_config/parameter_reference.html#SENS_FLOW_ROT">SENS_FLOW_ROT</a>에 사용 된 값을 설정하여야 합니다.</p><p>&quot;제로&quot;회전은 센서 보드와 <a href="./../getting_started/px4_basic_concepts.html#heading-and-directions">기체</a> X 축이 정렬되어 (즉, 기체 &quot;전면&quot;과 보드가 같은 방향에 있음) 회전이 시계 방향으로 증가하는 경우입니다.</p><p>PMW3901 모듈에는 보드 <strong>후방</strong>을 나타내는 작은 노치가 있습니다. 다이어그램은 <code>SENS_FLOW_ROT=0</code>에 해당하는 상대적인 보드 및 기체 방향을 나타냅니다 (뒷면의 노치 참조).</p><p><img src="'+t+'" alt="PMW3901 PH4 회전"></p><p>위의 다이어그램은 Bitcraze 보드입니다. 노치를 사용하여 같은 방법으로 다른 보드의 방향을 찾을 수 있습니다.</p><table><thead><tr><th> </th><th> </th></tr></thead><tbody><tr><td>Tindie<br><img src="'+a+'" alt="PMW3901 Tindie Notch"></td><td>Hex Hereflow<br><img src="'+r+'" alt="PMW3901 Hereflow Notch"></td></tr><tr><td>Thone<br><img src="'+o+'" alt="PMW3901 Thoneflow Notch"></td><td>Alientek (앞면을 나타내는 화살표도 있습니다!)<br><img src="'+n+'" alt="PMW3901 Alientek Notch"></td></tr></tbody></table><h2 id="px4-설정" tabindex="-1">PX4 설정 <a class="header-anchor" href="#px4-설정" aria-label="Permalink to &quot;PX4 설정&quot;">​</a></h2><p>모든 PMW3901 기반 보드에 공통적인 PX4 설정:</p><ul><li><a href="./../sensor/optical_flow.html#ekf2"> 광류 &gt; EKF2</a>는 EKF2 추정기에서 광류 데이터를 융합하고 흐름 센서의 장착 위치에 대한 위치 오프셋을 설정 방법을 설명합니다.</li><li><a href="./../advanced_config/parameter_reference.html#SENS_FLOW_ROT">SENS_FLOW_ROT</a>는 기체 방향을 기준으로 유량 센서의 방향을 설정합니다.</li></ul><p>추가:</p><ul><li>SPI 연결 센서 드라이버를 활성화하려면 <a href="./../advanced_config/parameter_reference.html#SENS_EN_PMW3901">SENS_EN_PMW3901</a>을 <code>1</code>로 설정하여야합니다.</li><li>UART 연결 센서 (예 : ThoneFlow-3901UY)는 매개변수 <a href="./../advanced_config/parameter_reference.html#SENS_TFLOW_CFG">SENS_TFLOW_CFG</a>를 연결된 UART 포트의 값으로 설정하여 <a href="./../peripherals/serial_configuration.html">관련 직렬 포트를 설정</a>하여야합니다 (예 : 이 센서를 <code>TELEM 2</code>에 연결 한 경우 <code>SENS_TFLOW_CFG</code>를 <code>102</code>로 설정하여야합니다).</li><li>DroneCAN sensors you must set <code>UAVCAN_ENABLE</code> appropriately. For more information see <a href="./../dronecan/">DroneCAN Peripherals</a> (and the <a href="#dronecan_wiring">HereFlow PMW3901 docs below</a>).</li></ul><p>개별 유량 센서는 아래 섹션에 설명대로 추가로 설정됩니다.</p><h2 id="bitcraze-flow-breakout" tabindex="-1">Bitcraze Flow Breakout <a class="header-anchor" href="#bitcraze-flow-breakout" aria-label="Permalink to &quot;Bitcraze Flow Breakout&quot;">​</a></h2><p>The <a href="https://www.bitcraze.io/products/flow-breakout/" target="_blank" rel="noreferrer">Bitcraze Flow breakout</a> directly exposes the <a href="#spi-wiring">SPI interface</a> from the PMW3901 module.</p><p>The board also incorporates a distance sensor <a href="#i2c-wiring">wired to the Pixhawk I2C port</a>. 이 거리 센서는 STMicroelectronics의 VL53L0x ToF 센서입니다. 센서 범위는 최소 (2m)이며 햇빛 아래에서 비행시 줄어듭니다. We therefore highly recommend that you use an <a href="#external-rangefinders">external distance sensor</a>.</p><p><img src="'+e+'" alt="Bitcraze Flow Deck"></p><p><a href="#px4-configuration">PX4 configuration</a> and <a href="#mounting-orientation">mounting/orientation</a> instructions are provided above.</p><h3 id="spi-배선" tabindex="-1">SPI 배선 <a class="header-anchor" href="#spi-배선" aria-label="Permalink to &quot;SPI 배선&quot;">​</a></h3><p>PMW3901은 Pixhawk 4의 SPI 포트에 연결된 경우 Bitcraze 흐름 모듈을 자동으로 감지합니다. 이 장치의 드라이버는 칩 선택 1을 사용하여 SPI 포트에 연결되도록 명시적으로 작성되었습니다. No parameters will have to be configured other than the <a href="#mounting-orientation">orientation and position of the sensor</a>.</p><p>Pixhawk SPI 포트와 Bitcraze Flow Board의 핀아웃 매핑은 아래에 나와 있습니다 (포트 매핑은 모든 Pixhawk FMU 버전과 동일합니다).</p><table><thead><tr><th>Pixhawk SPI 포트 (왼쪽에서 오른쪽으로)</th><th>Bitcraze 플로우 보드</th></tr></thead><tbody><tr><td>1 (VCC)</td><td>VCC</td></tr><tr><td>2 (SCK)</td><td>CLK</td></tr><tr><td>3 (MISO)</td><td>MISO</td></tr><tr><td>4 (MOSI)</td><td>MOSI</td></tr><tr><td>5 (CS1)</td><td>CS</td></tr><tr><td>6 (CS2)</td><td>연결하지 마십시오</td></tr><tr><td>7 (GND)</td><td>GND</td></tr></tbody></table><p>Bitcraze 플로우 보드를 Pixhawk에 연결하려면 Pixhawk SPI 케이블의 와이어를 플로우 보드에 납땜하여야 합니다. SPI 케이블에는 7개의 와이어가 있으며, 6개를 플로우 보드에 연결하여야합니다.</p><p>아래의 다이어그램은 센서를 Pixhawk 4에 연결하는 방법을 보여줍니다.</p><p><img src="'+i+'" alt="Bitcraze PH4 핀 배열"></p><h3 id="i2c-배선" tabindex="-1">I2C 배선 <a class="header-anchor" href="#i2c-배선" aria-label="Permalink to &quot;I2C 배선&quot;">​</a></h3><p>I2C 배선은 다른 거리 센서에 대해서도 동일합니다. SLA, SLC, GND 및 VCC를 Pixhawk 콘트롤러와 센서의 해당 (동일한) 핀에 연결하면 됩니다.</p><h2 id="tindie-pmw3901-광류-센서" tabindex="-1">Tindie PMW3901 광류 센서 <a class="header-anchor" href="#tindie-pmw3901-광류-센서" aria-label="Permalink to &quot;Tindie PMW3901 광류 센서&quot;">​</a></h2><p>The Tindie <a href="https://www.tindie.com/products/onehorse/pmw3901-optical-flow-sensor/" target="_blank" rel="noreferrer">PMW3901 Optical Flow Sensor</a> exposes the SPI interface from the PMW3901 module exactly as on the Bitcraze module (see <a href="#spi-wiring">SPI Wiring</a>).</p><p><img src="'+d+'" alt="Tindie PH4 핀 배열"></p><p>The sensor doesn&#39;t have a distance sensor onboard, so you will need to use an <a href="#external-rangefinders">external distance sensor</a>.</p><p><a href="#px4-configuration">PX4 configuration</a> and <a href="#mounting-orientation">mounting/orientation</a> instructions are provided above.</p><h2 id="alientek-atk-pmw3901" tabindex="-1">AlienTek ATK-PMW3901 <a class="header-anchor" href="#alientek-atk-pmw3901" aria-label="Permalink to &quot;AlienTek ATK-PMW3901&quot;">​</a></h2><p>The AlienTek <a href="https://www.aliexpress.com/i/32979605707.html" target="_blank" rel="noreferrer">ATK-PMW3901</a> exposes the SPI interface from the PMW3901 module in the same way as the Bitcraze module (see <a href="#spi-wiring">SPI Wiring</a>).</p><p><img src="'+s+'" alt="Alientek Pixhawk4 연결"></p><p>The board also incorporates a distance sensor (we recommend that you use an <a href="#external-rangefinders">external distance sensor</a>). You can wire the internal sensor to the Pixhawk I2C port <a href="#i2c-wiring">in the same way as any other I2C peripheral.</a> A screenshot showing the I2C pins (SLA, SLC, GND, and VCC) is provided below.</p><p><img src="'+l+'" alt="Alientek 핀 배열"></p><p><a href="#px4-configuration">PX4 configuration</a> and <a href="#mounting-orientation">mounting/orientation</a> instructions are provided above.</p><h2 id="hex-hereflow-pmw3901-광류-센서" tabindex="-1">Hex HereFlow PMW3901 광류 센서 <a class="header-anchor" href="#hex-hereflow-pmw3901-광류-센서" aria-label="Permalink to &quot;Hex HereFlow PMW3901 광류 센서&quot;">​</a></h2><p>Hex <a href="http://www.proficnc.com/all-products/185-pixhawk2-suite.html" target="_blank" rel="noreferrer">HereFlow PMW3901 광류 센서</a>는 PMW3901 흐름 모듈, VL53L1X 거리 센서 및 IMU (흐름 데이터를 자이로 데이터와 동기화에 사용됨)가 포함된 작은 보드입니다.</p><p>An onboard microcontroller samples the three sensors and publishes two DroneCAN messages containing all the information needed for the flow and distance sensor calculations.</p><p>The board can be connected to any CAN port on any Pixhawk board (see <a href="#dronecan_wiring">DroneCAN wiring</a>).</p><p>As for the other optical flow boards, we recommend that you use an <a href="#external-rangefinders">external distance sensor</a>.</p><p><a href="#px4-configuration">PX4 configuration</a> and <a href="#mounting-orientation">mounting/orientation</a> instructions are provided above.</p><p><a id="dronecan_wiring"></a></p><h3 id="dronecan-wiring-setup" tabindex="-1">DroneCAN Wiring/Setup <a class="header-anchor" href="#dronecan-wiring-setup" aria-label="Permalink to &quot;DroneCAN Wiring/Setup&quot;">​</a></h3><p>아래의 다이어그램은 센서를 Pixhawk 4 CAN 버스에 연결하는 방법을 보여줍니다.</p><p><img src="'+h+'" alt="Hex PH4 핀 배열"></p><p>다른 설정 외에도 시스템에 따라 <a href="./../advanced_config/parameter_reference.html#UAVCAN_ENABLE">UAVCAN_ENABLE</a> 매개변수를 2 또는 3으로 설정하여야 합니다.</p><ul><li><code>UAVCAN_ENABLE=2</code>: DroneCAN sensors but no motor controllers.</li><li><code>UAVCAN_ENABLE=3</code>: DroneCAN sensors and motor controllers.</li></ul><p>For general information about DroneCAN wiring and configuration see: <a href="./../dronecan/">DroneCAN Peripherals</a>.</p><h2 id="holybro-pmw3901-optical-flow-sensor" tabindex="-1">Holybro PMW3901 Optical Flow Sensor <a class="header-anchor" href="#holybro-pmw3901-optical-flow-sensor" aria-label="Permalink to &quot;Holybro PMW3901 Optical Flow Sensor&quot;">​</a></h2><p>The <a href="https://holybro.com/products/pmw3901-optical-flow-sensor" target="_blank" rel="noreferrer">Holybro PMW3901 Optical Flow Sensor</a> exposes a PMW3901 optical flow module via a UART interface.</p><p>The board doesn&#39;t include a distance sensor onboard, so you will need to use an <a href="#external-rangefinders">external distance sensor</a>.</p><img src="'+p+'" width="350px" title="HB-pmw3901-1"><img src="'+c+'" width="350px" title="HB-pmw3901-2"><p>It comes with a 3D printed case and has a pre-soldered TX, Voltage, and GND 4 pin connector that can be plugged into the telemetry port of your flight controller, as shown below (for the Pixhawk 6C).</p><p><img src="'+m+'" alt="HB-pmw3901-3"></p><h2 id="thone-thoneflow-3901u" tabindex="-1">Thone ThoneFlow-3901U <a class="header-anchor" href="#thone-thoneflow-3901u" aria-label="Permalink to &quot;Thone ThoneFlow-3901U&quot;">​</a></h2><p>Thone <a href="https://www.seeedstudio.com/ThoneFlow-3901U-UART-Serial-Version-PMW3901-Optical-Flow-Sensor-p-4040.html" target="_blank" rel="noreferrer">ThoneFlow-3901U</a>는 UART 인터페이스를 통해 PMW3901 광류 모듈을 노출합니다.</p><p>The board doesn&#39;t include a distance sensor onboard, so you will need to use an <a href="#external-rangefinders">external distance sensor</a>.</p><p><img src="'+f+'" alt="PMW3901 Thoneflow Hero"></p><p><a href="#px4-configuration">PX4 configuration</a> and <a href="#mounting-orientation">mounting/orientation</a> instructions are provided above.</p><p>In addition, you must also set the parameter <a href="./../advanced_config/parameter_reference.html#SENS_TFLOW_CFG">SENS_TFLOW_CFG</a> to the value of the UART port you connected (e.g. if the sensor is connected to <code>TELEM 2</code> then set <code>SENS_TFLOW_CFG=102</code>. 자세한 내용은 <a href="./../peripherals/serial_configuration.html">직렬 포트 설정</a>을 참고하십시오.</p>',78),x=[g];function S(T,k,A,W,M,C){return _(),u("div",null,x)}const q=w(b,[["render",S]]);export{y as __pageData,q as default};
