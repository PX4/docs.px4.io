import{_ as a,a as e}from"./chunks/px4flow_offset.HQ2vTBh8.js";import{_ as t,c as r,o,ab as i}from"./chunks/framework.CUflZczI.js";const F=JSON.parse('{"title":"광류","description":"","frontmatter":{},"headers":[],"relativePath":"ko/sensor/optical_flow.md","filePath":"ko/sensor/optical_flow.md"}'),n={name:"ko/sensor/optical_flow.md"},d=i('<h1 id="광류" tabindex="-1">광류 <a class="header-anchor" href="#광류" aria-label="Permalink to &quot;광류&quot;">​</a></h1><p><em>Optical Flow</em> uses a downward facing camera and a downward facing distance sensor for velocity estimation.</p><p>@<a href="https://youtu.be/aPQKgUof3Pc" target="_blank" rel="noreferrer">youtube</a> <em>Video: PX4 holding position using the ARK Flow sensor for velocity estimation (in <a href="./../flight_modes_mc/position.html">Position Mode</a>).</em></p><h2 id="설정" tabindex="-1">설정 <a class="header-anchor" href="#설정" aria-label="Permalink to &quot;설정&quot;">​</a></h2><p>광류에는 하향 카메라와 <a href="./../sensor/rangefinders.html">거리 센서</a>(LiDAR가 더 좋음)가 필요합니다. 이들은 MAVLink, I2C 또는 다른 버스로 연결 가능합니다.</p><div class="info custom-block"><p class="custom-block-title">If connected to PX4 via MAVLink the Optical Flow device must publish to the <a href="https://mavlink.io/en/messages/common.html#OPTICAL_FLOW_RAD" target="_blank" rel="noreferrer">OPTICAL_FLOW_RAD</a> topic, and the distance sensor must publish to the <a href="https://mavlink.io/en/messages/common.html#DISTANCE_SENSOR" target="_blank" rel="noreferrer">DISTANCE_SENSOR</a> topic.</p></div><p>다른 방향으로 이동할 때의 흐름 출력은 다음과 같아야합니다.</p><table><thead><tr><th>기체 이동</th><th>통합 흐름</th></tr></thead><tbody><tr><td>전방</td><td>+ Y</td></tr><tr><td>후방</td><td>- Y</td></tr><tr><td>우측</td><td>- X</td></tr><tr><td>좌측</td><td>+ X</td></tr></tbody></table><p>순수 회전의 경우 <code>integrated_xgyro</code>와 <code>integrated_x</code> (각각 <code>integrated_ygyro</code>와 <code>integrated_y</code>)는 동일하여야 합니다.</p><p>보편적인 설정은 아래와 같은 <a href="./../sensor/px4flow.html">PX4Flow</a>와 <a href="./../sensor/lidar_lite.html">Lidar-Lite</a>입니다.</p><p><img src="'+a+'" alt="광류 라이더 부착"></p><p>광류 데이터는 다른 속도 데이터 소스와 융합됩니다. 센서 데이터와 차량 중앙으로부터의 오프셋을 융합 방식은 <a href="#estimators">추정기</a>에서 설정합니다.</p><h2 id="유량-센서-카메라" tabindex="-1">유량 센서/카메라 <a class="header-anchor" href="#유량-센서-카메라" aria-label="Permalink to &quot;유량 센서/카메라&quot;">​</a></h2><h3 id="ark-flow" tabindex="-1">ARK Flow <a class="header-anchor" href="#ark-flow" aria-label="Permalink to &quot;ARK Flow&quot;">​</a></h3><p><a href="./../dronecan/ark_flow.html">ARK Flow</a> is a <a href="./../dronecan/">DroneCAN</a> optical flow sensor, <a href="./../sensor/rangefinders.html">distance sensor</a>, and IMU. PAW3902 광학 유량 센서, Broadcom AFBR-S50LV85D 30m 거리 센서 및 BMI088 IMU가 있습니다.</p><h3 id="pmw3901-기반-센서" tabindex="-1">PMW3901 기반 센서 <a class="header-anchor" href="#pmw3901-기반-센서" aria-label="Permalink to &quot;PMW3901 기반 센서&quot;">​</a></h3><p><a href="./../sensor/pmw3901.html">PMW3901</a>은 컴퓨터 마우스와 유사한 광류 센서이지만, 80mm에서 무한대까지 작동합니다. Bitcraze, Tindie, Hex, Thone 및 Alientek의 일부 제품을 포함하여 여러 제품에 사용됩니다.</p><h3 id="기타-카메라-센서" tabindex="-1">기타 카메라 / 센서 <a class="header-anchor" href="#기타-카메라-센서" aria-label="Permalink to &quot;기타 카메라 / 센서&quot;">​</a></h3><p>카메라 통합 보드를 사용할 수 있습니다. <a href="https://github.com/PX4/OpticalFlow" target="_blank" rel="noreferrer">Optical Flow repo</a>를 사용할 수도 있습니다 (<a href="https://github.com/PX4/snap_cam" target="_blank" rel="noreferrer">snap_cam</a> 참조).</p><h2 id="거리-측정기" tabindex="-1">거리 측정기 <a class="header-anchor" href="#거리-측정기" aria-label="Permalink to &quot;거리 측정기&quot;">​</a></h2><p>더 자세한 정보는 <a href="./../sensor/rangefinders.html">거리 센서</a>를 참고하십시오. 그러나 견고성과 정확성 측면에서는 음향 센서보다 LIDAR를 사용하는 것이 좋습니다.</p><h2 id="추정기" tabindex="-1">추정기 <a class="header-anchor" href="#추정기" aria-label="Permalink to &quot;추정기&quot;">​</a></h2><p>추정기는 광학 흐름 센서 및 기타 소스의 데이터를 융합합니다. 융합 방법 설정과 차량 중심에 대한 상대적 오프셋이 사용되는 추정기를 지정하여야합니다.</p><p>오프셋은 아래와 같이 차량 방향 및 중심을 기준으로 계산됩니다.</p><p><img src="'+e+'" alt="광류 오프셋"></p><p>광류 기반 탐색은 EKF2 및 LPE (더 이상 사용되지 않음) 추정기에서 활성화됩니다.</p><p><a id="ekf2"></a></p><h3 id="확장-칼만-필터-ekf2" tabindex="-1">확장 칼만 필터 (EKF2) <a class="header-anchor" href="#확장-칼만-필터-ekf2" aria-label="Permalink to &quot;확장 칼만 필터 (EKF2)&quot;">​</a></h3><p>For optical flow fusion using EKF2, set <a href="./../advanced_config/parameter_reference.html#EKF2_OF_CTRL">EKF2_OF_CTRL</a>.</p><p>광류 센서가 차량 중앙에서 오프셋된 경우 다음 매개변수를 사용하여 설정합니다.</p><table><thead><tr><th>매개변수</th><th>설명</th></tr></thead><tbody><tr><td><a id="EKF2_OF_POS_X"></a><a href="./../advanced_config/parameter_reference.html#EKF2_OF_POS_X">EKF2_OF_POS_X</a></td><td>바디 프레임에서 광류 초점의 X 위치 (기본값은 0.0m).</td></tr><tr><td><a id="EKF2_OF_POS_Y"></a><a href="./../advanced_config/parameter_reference.html#EKF2_OF_POS_Y">EKF2_OF_POS_Y</a></td><td>바디 프레임에서 광류 초점의 Y 위치 (기본값은 0.0m).</td></tr><tr><td><a id="EKF2_OF_POS_Z"></a><a href="./../advanced_config/parameter_reference.html#EKF2_OF_POS_Z">EKF2_OF_POS_Z</a></td><td>바디 프레임에서 광류 초점의 Z 위치 (기본값은 0.0m).</td></tr></tbody></table>',31),l=[d];function s(h,c,_,p,m,f){return o(),r("div",null,l)}const P=t(n,[["render",s]]);export{F as __pageData,P as default};
