import{_ as e,c as a,o as r,ab as i}from"./chunks/framework.CUflZczI.js";const f=JSON.parse('{"title":"Пристрої MAVLink (GCS/OSD/Супутник)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/peripherals/mavlink_peripherals.md","filePath":"uk/peripherals/mavlink_peripherals.md"}'),l={name:"uk/peripherals/mavlink_peripherals.md"},_=i('<h1 id="пристроі-mavlink-gcs-osd-супутник" tabindex="-1">Пристрої MAVLink (GCS/OSD/Супутник) <a class="header-anchor" href="#пристроі-mavlink-gcs-osd-супутник" aria-label="Permalink to &quot;Пристрої MAVLink (GCS/OSD/Супутник)&quot;">​</a></h1><p>Станції земного контролю (GCS), екрани на екрані (OSD), супутні комп&#39;ютери, отримувачі ADS-B та інші периферійні пристрої MAVLink взаємодіють з PX4 за допомогою окремих потоків MAVLink, які надсилаються через різні послідовні порти.</p><p>Для налаштування того, щоб конкретний послідовний порт використовувався для трафіку MAVLink з певним периферійним пристроєм, ми використовуємо <a href="./../peripherals/serial_configuration.html">Конфігурацію послідовного порту</a>, призначаючи один з абстрактних параметрів конфігурації &quot;екземпляр MAVLink&quot; в потрібний порт. Потім ми встановлюємо інші властивості каналу MAVLink, використовуючи параметри, пов&#39;язані з обраним екземпляром MAVLink, щоб вони відповідали вимогам нашого конкретного периферійного пристрою.</p><p>Найбільш актуальні параметри описані нижче (повний набір перераховано в <a href="./../advanced_config/parameter_reference.html#mavlink">Посилання на параметри &gt; MAVLink</a>).</p><h2 id="екземпляри-mavlink" tabindex="-1">Екземпляри MAVLink <a class="header-anchor" href="#екземпляри-mavlink" aria-label="Permalink to &quot;Екземпляри MAVLink&quot;">​</a></h2><p>Для того щоб призначити певний периферійний пристрій до послідовного порту ми використовуємо концепцію <em>екземпляру MAVLink</em>.</p><p>Кожен екземпляр MAVLink представляє певну конфігурацію MAVLink, яку ви можете застосувати до певного порту. На момент написання визначено три екземпляри MAVLink, кожен з яких представлений параметром <a href="#MAV_X_CONFIG">MAV_X_CONFIG</a>, де X - 0, 1, 2.</p><p>Кожен екземпляр має пов&#39;язані параметри, які ви можете використовувати для визначення властивостей екземпляра на цьому порту, таких як набір переданих повідомлень (див. <a href="#MAV_X_MODE">MAV_X_MODE</a> нижче), швидкість передачі даних (<a href="#MAV_X_RATE">MAV_X_RATE</a>), чи пересилається вхідний трафік до інших екземплярів MAVLink (<a href="#MAV_X_FORWARD">MAV_X_FORWARD</a>), тощо.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Інстанції MAVLink - абстрактне поняття для конкретної конфігурації MAVLink. Число в назві нічого не означає; ви можете призначити будь-який екземпляр до будь-якого порту.</p></div><p>Параметри для кожного екземпляру є:</p><ul><li><p><a id="MAV_X_CONFIG"></a><a href="./../advanced_config/parameter_reference.html#MAV_0_CONFIG">MAV_X_CONFIG</a> - Встановлює послідовний порт (UART) для цього екземпляру &quot;X&quot;, де X - 0, 1, 2. Це може бути будь-який не використаний порт, наприклад: <code>TELEM2</code>, <code>TELEM3</code>, <code>GPS2</code> тощо. Для отримання додаткової інформації дивіться <a href="./../peripherals/serial_configuration.html">Конфігурація послідовного порту</a>.</p></li><li><p><a id="MAV_X_MODE"></a><a href="./../advanced_config/parameter_reference.html#MAV_0_MODE">MAV_X_MODE</a> - Вкажіть режим телеметрії / ціль (набір повідомлень для поточного екземпляра та їхню швидкість). Значення за замовчуванням:</p><ul><li><em>Звичайний</em>: Стандартний набір повідомлень для GCS.</li><li><em>Спеціальний</em> або <em>Магія</em>: Нічого (у типовій реалізації PX4 за замовчуванням). Режими можуть бути використані для тестування при розробці нового режиму.</li><li><em>На борту</em>: Стандартний набір повідомлень для компаньйонного комп&#39;ютера.</li><li><em>OSD</em>: Стандартний набір повідомлень для системи OSD.</li><li><em>Конфігурація</em>: Стандартний набір повідомлень та конфігурація швидкого зв&#39;язку (наприклад, USB).</li><li><em>Мінімальний</em>: Мінімальний набір повідомлень для використання з GCS, підключеним через високолатентне з&#39;єднання.</li><li><em>ExtVision</em> або <em>ExtVisionMin</em>: Повідомлення для зовнішніх систем візуалізації (ExtVision необхідний для VIO).</li><li><em>Іридій</em>: Повідомлення для <a href="./../advanced_features/satcom_roadblock.html">супутникової комунікаційної системи Iridium</a>.</li></ul><div class="info custom-block"><p class="custom-block-title">Якщо вам потрібно знайти конкретний набір повідомлень для кожного режиму, виконайте пошук <code>MAVLINK_MODE_</code> у <a href="https://github.com/PX4/PX4-Autopilot/blob/release/1.15/src/modules/mavlink/mavlink_main.cpp" target="_blank" rel="noreferrer">/src/modules/mavlink/mavlink_main.cpp</a>.</p></div></li></ul><p>:::</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Режим визначає <em>типові</em> повідомлення та тарифи. Підключена система MAVLink все ще може запитувати потоки/швидкості, які вона хоче, використовуючи <a href="https://mavlink.io/en/messages/common.html#MAV_CMD_SET_MESSAGE_INTERVAL" target="_blank" rel="noreferrer">MAV_CMD_SET_MESSAGE_INTERVAL</a>.</p></div><ul><li><a id="MAV_X_RATE"></a><a href="./../advanced_config/parameter_reference.html#MAV_0_MODE">MAV_X_RATE</a> - Встановіть максимальну швидкість передачі даних для цього екземпляра (байт/секунду). <ul><li>Це комбінована ставка для всіх потоків окремого повідомлення (ставки для окремих повідомлень зменшуються, якщо загальна ставка перевищує це значення).</li><li>За замовчуванням налаштування, як правило, буде прийнятним, але може бути зменшено, якщо телеметричний зв&#39;язок стає насиченим і занадто багато повідомлень втрачається.</li><li>Значення 0 встановлює швидкість передачі даних вдвічі менше теоретичного значення.</li></ul></li><li><a id="MAV_X_FORWARD"></a><a href="./../advanced_config/parameter_reference.html#MAV_0_FORWARD">MAV_X_FORWARD</a> - Увімкніть пересилання пакетів MAVLink, отриманих поточним екземпляром, на інші інтерфейси. Це може бути використано, наприклад, для передачі повідомлень між GCS та супутнім комп&#39;ютером, щоб GCS міг спілкуватися з камерою, підключеною до супутнього комп&#39;ютера, яка підтримує MAVLink.</li></ul><p>Далі вам потрібно встановити швидкість передачі для послідовного порту, який ви призначили вище (у <code>MAV_X_CONFIG</code>).</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Потрібно перезавантажити PX4, щоб параметр став доступним (тобто в QGroundControl).</p></div><p>Використовуваний параметр буде залежати від <a href="./../advanced_config/parameter_reference.html#serial">призначеного послідовного порту</a> - наприклад: <code>SER_GPS1_BAUD</code>, <code>SER_TEL2_BAUD</code> і т. д. Значення, яке ви використовуєте, буде залежати від типу підключення та можливостей підключеного периферійного пристрою MAVLink.</p><p><a id="default_ports"></a></p><h2 id="порти-mavlink-за-замовчуванням" tabindex="-1">Порти MAVLink за замовчуванням <a class="header-anchor" href="#порти-mavlink-за-замовчуванням" aria-label="Permalink to &quot;Порти MAVLink за замовчуванням&quot;">​</a></h2><h3 id="telem1" tabindex="-1">TELEM1 <a class="header-anchor" href="#telem1" aria-label="Permalink to &quot;TELEM1&quot;">​</a></h3><p>Порт <code>TELEM 1</code> майже завжди налаштовується за замовчуванням для потоку телеметрії GCS (&quot;Нормальний&quot;).</p><p>Для підтримки цього існує <a href="./../peripherals/serial_configuration.html#default_port_mapping">типове відображення послідовного порту</a> екземпляра MAVLink 0, як показано нижче:</p><ul><li><a href="./../advanced_config/parameter_reference.html#MAV_0_CONFIG">MAV_0_CONFIG</a> = <code>TELEM 1</code></li><li><a href="./../advanced_config/parameter_reference.html#MAV_0_MODE">MAV_0_MODE</a> = <code>Normal</code></li><li><a href="./../advanced_config/parameter_reference.html#MAV_0_RATE">MAV_0_RATE</a>= <code>1200</code> Bytes/s</li><li><a href="./../advanced_config/parameter_reference.html#MAV_0_FORWARD">MAV_0_FORWARD</a> = <code>True</code></li><li><a href="./../advanced_config/parameter_reference.html#SER_TEL1_BAUD">SER_TEL1_BAUD</a> = <code>57600</code></li></ul><h3 id="telem2" tabindex="-1">TELEM2 <a class="header-anchor" href="#telem2" aria-label="Permalink to &quot;TELEM2&quot;">​</a></h3><p>Порт <code>TELEM 2</code> зазвичай налаштовується за замовчуванням для потоку телеметрії супутнього комп&#39;ютера (&quot;На борту&quot;).</p><p>Для підтримки цього існує <a href="./../peripherals/serial_configuration.html#default_port_mapping">типове відображення послідовного порту</a> екземпляра MAVLink 0, як показано нижче:</p><ul><li><a href="./../advanced_config/parameter_reference.html#MAV_0_CONFIG">MAV_1_CONFIG</a> = <code>TELEM 2</code></li><li><a href="./../advanced_config/parameter_reference.html#MAV_0_MODE">MAV_1_MODE</a> = <code>Onboard</code></li><li><a href="./../advanced_config/parameter_reference.html#MAV_0_RATE">MAV_1_RATE</a>= <code>0</code> (Half maximum)</li><li><a href="./../advanced_config/parameter_reference.html#MAV_0_FORWARD">MAV_1_FORWARD</a> = <code>Disabled</code></li><li><a href="./../advanced_config/parameter_reference.html#SER_TEL2_BAUD">SER_TEL2_BAUD</a> = <code>921600</code></li></ul><h3 id="ethernet" tabindex="-1">ETHERNET <a class="header-anchor" href="#ethernet" aria-label="Permalink to &quot;ETHERNET&quot;">​</a></h3><p>Пристрої Pixhawk 5x (і пізніші), які мають порт Ethernet, за замовчуванням налаштовані на підключення до GCS:</p><p>На цьому обладнанні є <a href="./../peripherals/serial_configuration.html#default_port_mapping">типове відображення послідовного порту</a> екземпляра MAVLink 2, як показано нижче:</p><ul><li><a href="./../advanced_config/parameter_reference.html#MAV_2_CONFIG">MAV_2_CONFIG</a> = <code>Ethernet</code> (1000)</li><li><a href="./../advanced_config/parameter_reference.html#MAV_2_BROADCAST">MAV_2_BROADCAST</a> = <code>1</code></li><li><a href="./../advanced_config/parameter_reference.html#MAV_2_MODE">MAV_2_MODE</a> = <code>0</code> (normal/GCS)</li><li><a href="./../advanced_config/parameter_reference.html#MAV_2_RADIO_CTL">MAV_2_RADIO_CTL</a> = <code>0</code></li><li><a href="./../advanced_config/parameter_reference.html#MAV_2_RATE">MAV_2_RATE</a> = <code>100000</code></li><li><a href="./../advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT">MAV_2_REMOTE_PRT</a>= <code>14550</code> (GCS)</li><li><a href="./../advanced_config/parameter_reference.html#MAV_2_UDP_PRT">MAV_2_UDP_PRT</a> = <code>14550</code> (GCS)</li></ul><p>Для отримання додаткової інформації див. : <a href="./../advanced_config/ethernet_setup.html">Налаштування Ethernet PX4</a></p><h2 id="дивіться-також" tabindex="-1">Дивіться також <a class="header-anchor" href="#дивіться-також" aria-label="Permalink to &quot;Дивіться також&quot;">​</a></h2><ul><li><a href="./../peripherals/serial_configuration.html">Конфігурація послідовних портів</a></li><li><a href="./../advanced_config/ethernet_setup.html#px4-mavlink-serial-port-configuration">Налаштування Ethernet PX4 &gt; Конфігурація послідовного порту PX4 MAVLink</a></li><li><a href="./../hardware/serial_port_mapping.html">Налаштування послідовного порту</a></li></ul>',34),n=[_];function t(c,o,d,m,h,p){return r(),a("div",null,n)}const M=e(l,[["render",t]]);export{f as __pageData,M as default};
