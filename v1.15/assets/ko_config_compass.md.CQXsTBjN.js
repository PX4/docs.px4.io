import{_ as e,a}from"./chunks/sensor_compass_calibrate_px4.DmkGTxD8.js";import{_ as i,c as t,o,ab as r}from"./chunks/framework.CUflZczI.js";const _=JSON.parse('{"title":"나침반 보정","description":"","frontmatter":{},"headers":[],"relativePath":"ko/config/compass.md","filePath":"ko/config/compass.md"}'),n={name:"ko/config/compass.md"},l=r('<h1 id="나침반-보정" tabindex="-1">나침반 보정 <a class="header-anchor" href="#나침반-보정" aria-label="Permalink to &quot;나침반 보정&quot;">​</a></h1><p>나침반 보정은 내부 및 외부 <a href="./../gps_compass/README.html">나침반 센서</a>들을 설정합니다. <em>QGroundControl</em> will guide you to position the vehicle in a number of set orientations and rotate the vehicle about the specified axis.</p><div class="info custom-block"><p class="custom-block-title">Compass calibration also auto-detects the compass orientation (<a href="./../advanced_config/parameter_reference.html#SENS_MAG_AUTOROT">by default</a>). If you have <a href="./../assembly/mount_gps_compass.html#compass-orientation">mounted the compass</a> at a non-standard angle you will need to <a href="./../config/flight_controller_orientation.html#setting-the-compass-orientation">manually set the compass orientation</a> before calibrating.</p></div><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>최초 사용시에는 나침반을 보정하여야하며, 차량이 매우 강한 자기장에 노출되었거나 비정상적인 자기 특성이있는 지역에서 사용되는 경우에는 나침반을 다시 보정하는 것이 좋습니다.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>나침반 보정이 잘못된 경우에는 호버링 중 멀티 콥터 회전, 변기 볼링 (반경 증가 / 스파이럴 아웃, 일반적으로 일정한 고도에서 회전, 플라이 웨이로 이어지는) 또는 직선 비행시에 경로를 벗어나는 경우가 있습니다. <em>QGroundControl</em> should also notify the error <code>mag sensors inconsistent</code>.</p></div><p>Two types of compass calibration are available:</p><ol><li><a href="#complete-calibration">Complete</a>: This calibration is required after installing the autopilot on an airframe for the first time or when the configuration of the vehicle has changed significantly. It compensates for hard and soft iron effects by estimating an offset and a scale factor for each axis.</li><li><a href="#partial-quick-calibration">Partial</a> (&quot;Quick Calibration&quot;): This calibration can be performed as a routine when preparing the vehicle for a flight, after changing the payload, or simply when the compass rose seems inaccurate. This type of calibration only estimates the offsets to compensate for a hard iron effect.</li></ol><h2 id="보정-방법" tabindex="-1">보정 방법 <a class="header-anchor" href="#보정-방법" aria-label="Permalink to &quot;보정 방법&quot;">​</a></h2><h3 id="preconditions" tabindex="-1">Preconditions <a class="header-anchor" href="#preconditions" aria-label="Permalink to &quot;Preconditions&quot;">​</a></h3><p>Before starting the calibration:</p><ol><li>큰 금속 물체등과 같이 자기장이 강한 곳에서 멀리 떨어진 위치를 선택하십시오. :::tip 금속이 많은 장소는 보정 작업에 적당하지 않습니다. 사무실 테이블 위에서나 (종종 금속 막대 포함) 또는 차량 옆에서 보정하지 마십시오. 철근이 고르지 않게 분포된 콘크리트 슬래브 근처 장소들도 보정에 영향을 미칠 수 있습니다. :::</li><li>Connect via telemetry radio rather than USB if at all possible. USB can potentially cause significant magnetic interference.</li><li>If using an external compass (or a combined GPS/compass module), make sure it is <a href="./../assembly/mount_gps_compass.html">mounted</a> as far as possible from other electronics in order to reduce magnetic interference, and in a <em>supported orientation</em>.</li></ol><h3 id="complete-calibration" tabindex="-1">Complete Calibration <a class="header-anchor" href="#complete-calibration" aria-label="Permalink to &quot;Complete Calibration&quot;">​</a></h3><p>보정 절차는 다음과 같습니다:</p><ol><li><p>Start <em>QGroundControl</em> and connect the vehicle.</p></li><li><p>상단 도구 모음에서 <strong>톱니 바퀴</strong> 아이콘(기체 설정)을 선택한 다음 가장자리 표시줄에서 <strong>센서</strong>를 선택하십시오.</p></li><li><p><strong>나침반</strong> 센서 버튼을 클릭합니다.</p><p><img src="'+e+'" alt="나침반 보정 PX4를 선택합니다."></p></li></ol><p>:::note 이 작업 이전에 <a href="./../config/flight_controller_orientation.html">비행콘트롤러 방향</a>을 미리 설정하여야 합니다. 미리 설정하지 않았다면, 여기에서 설정할 수 있습니다. :::</p><ol><li><p><strong>확인</strong>을 눌러 보정작업을 시작합니다.</p></li><li><p>기체를 아래에 표시된 자세로 놓고 그대로 유지해주십시오 메시지가 표시되면(방향 이미지가 노란색으로 변함) 기체를 지정축을 기준으로 한 방향으로 회전시킵니다. 현재 방향에 대해 보정이 완료되면 화면의 그림이 녹색으로 바뀝니다.</p><p><img src="'+a+'" alt="PX4의 나침반 보정 단계"></p></li><li><p>드론의 모든 방향에 대해 보정 과정을 반복합니다.</p></li></ol><p>Once you&#39;ve calibrated the vehicle in all the positions <em>QGroundControl</em> will display <em>Calibration complete</em> (all orientation images will be displayed in green and the progress bar will fill completely). 그런 다음 다음 센서의 보정 작업을 진행합니다.</p><h3 id="partial-quick-calibration" tabindex="-1">Partial &quot;Quick&quot; Calibration <a class="header-anchor" href="#partial-quick-calibration" aria-label="Permalink to &quot;Partial &quot;Quick&quot; Calibration&quot;">​</a></h3><p>This calibration is similar to the well-known figure-8 compass calibration done on a smartphone:</p><ol><li>Hold the vehicle in front of you and randomly perform partial rotations on all its axes. 2-3 oscillations of ~30 degrees in every direction is usually sufficient.</li><li>Wait for the heading estimate to stabilize and verify that the compass rose is pointing to the correct direction (this can take a couple of seconds).</li></ol><p>Notes:</p><ul><li>There is no start/stop for this type of calibration (the algorithm runs continuously when the vehicle is disarmed).</li><li>The calibration is immediately applied to the data (no reboot is required) but is saved to the calibration parameters after disarming the vehicle only (the calibration is lost if no arming/disarming sequence is performed between calibration and shutdown).</li><li>The amplitude and the speed of the partial rotations done in step 1 can affect the calibration quality. Following the advice above is usually enough.</li></ul><h2 id="verification" tabindex="-1">Verification <a class="header-anchor" href="#verification" aria-label="Permalink to &quot;Verification&quot;">​</a></h2><p>After the calibration is complete, check that the heading indicator and the heading of the arrow on the map are stable and match the orientation of the vehicle when turning it e.g. to the cardinal directions.</p><h2 id="additional-calibration-configuration" tabindex="-1">Additional Calibration/Configuration <a class="header-anchor" href="#additional-calibration-configuration" aria-label="Permalink to &quot;Additional Calibration/Configuration&quot;">​</a></h2><p>The process above will autodetect, <a href="./../advanced_config/parameter_reference.html#SENS_MAG_AUTOROT">set default rotations</a>, calibrate, and prioritise, all connected magnetometers.</p><p>Further compass configuration should generally not be required.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>All external compasses are given the same priority by default, which is higher than the priority shared by all internal compasses.</p></div><h3 id="disable-a-compass" tabindex="-1">Disable a Compass <a class="header-anchor" href="#disable-a-compass" aria-label="Permalink to &quot;Disable a Compass&quot;">​</a></h3><p>As stated above, generally no further configuration should be required.</p><p>That said, developers can disable internal compasses if desired using the compass parameters. These are prefixed with <a href="./../advanced_config/parameter_reference.html#CAL_MAG0_ID">CAL<em>MAGx</em></a> (where <code>x=0-3</code>).</p><p>To disable an internal compass:</p><ul><li>Use <a href="./../advanced_config/parameter_reference.html#CAL_MAG0_ROT">CAL_MAGn_ROT</a> to determine which compasses are internal. A compass is internal if <code>CAL_MAGn_ROT==1</code>.</li><li>Then use <a href="./../advanced_config/parameter_reference.html#CAL_MAG0_PRIO">CAL_MAGx_PRIO</a> to disable the compass. This can also be used to change the relative priority of a compass.</li></ul><h2 id="debugging" tabindex="-1">Debugging <a class="header-anchor" href="#debugging" aria-label="Permalink to &quot;Debugging&quot;">​</a></h2><p>Raw comparison data for magnetometers (in fact, for all sensors) can be logged by setting <a href="./../advanced_config/parameter_reference.html#SDLOG_MODE">SDLOG_MODE=1</a> and <a href="./../advanced_config/parameter_reference.html#SDLOG_PROFILE">SDLOG_PROFILE=64</a>. See <a href="./../dev_log/logging.html">Logging</a> for more information.</p><h2 id="추가-정보" tabindex="-1">추가 정보 <a class="header-anchor" href="#추가-정보" aria-label="Permalink to &quot;추가 정보&quot;">​</a></h2><ul><li><a href="./../gps_compass/">Peripherals &gt; GPS &amp; Compass</a></li><li><a href="./../assembly/">Basic Assembly</a> (setup guides for each flight controller)</li><li><a href="./../advanced_config/compass_power_compensation.html">나침반 전력 보정</a> (고급 설정)</li><li><a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/setup_view/sensors_px4.html#compass" target="_blank" rel="noreferrer">QGroundControl 사용 설명서 &gt; 센서</a></li><li><a href="https://youtu.be/91VGmdSlbo4?t=2m38s" target="_blank" rel="noreferrer">PX4 설정 비디오 - @2m38s</a> (유튜브)</li></ul>',38),s=[l];function c(h,d,p,m,f,u){return o(),t("div",null,s)}const v=i(n,[["render",c]]);export{_ as __pageData,v as default};
