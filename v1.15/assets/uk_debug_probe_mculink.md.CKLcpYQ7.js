import{_ as s,c as i,o as e,ab as a}from"./chunks/framework.CUflZczI.js";const u=JSON.parse('{"title":"MCU-Link адаптер для налагодження","description":"","frontmatter":{},"headers":[],"relativePath":"uk/debug/probe_mculink.md","filePath":"uk/debug/probe_mculink.md"}'),t={name:"uk/debug/probe_mculink.md"},l=a('<h1 id="mcu-link-адаптер-для-налагодження" tabindex="-1">MCU-Link адаптер для налагодження <a class="header-anchor" href="#mcu-link-адаптер-для-налагодження" aria-label="Permalink to &quot;MCU-Link адаптер для налагодження&quot;">​</a></h1><p><a href="https://www.nxp.com/design/design-center/software/development-software/mcuxpresso-software-and-tools-/mcu-link-debug-probe:MCU-LINK" target="_blank" rel="noreferrer">MCU-Link Debug Probe</a> - це дешевий, швидкий і дуже потужний засіб відлагодження, який може використовуватися як самостійний засіб відлагодження та комунікатор консолі під час роботи з платами Pixhawk.</p><p>Основні характеристики:</p><ul><li>Лише одне єдине підключення USB-C для скидання, SWD, SWO та послідовного порту в дуже маленькому пакеті!</li><li>До 9,6 Мбіт/с підключення SWO. До 5 MBaud послідовний. 1.2V до 5V цільової напруги. Підключення USB2 високої швидкості 480 Мбіт/с.</li><li>Приводимий в дію програмним забезпеченням NXP LinkServer або pyOCD з широкою підтримкою пристроїв.</li><li>Набагато дешевше (&lt;15€) ніж адаптер відладки Pixhawk (~20€) з JLink EDU mini (~55€) або JLink BASE (~400€) при кращих технічних характеристиках апаратного забезпечення.</li></ul><p><a href="https://holybro.com/products/pixhawk-debug-adapter" target="_blank" rel="noreferrer">Адаптер відлагодження Pixhawk</a> надає простий спосіб підключення Pixhawk до MCU-Link (зонд не постачається з адаптером для роботи з контролерами польоту Pixhawk).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Ці інструкції було перевірено на: FMUv6X-RT, FMUv6X, FMUv6c, FMUv5X.</p></div><h2 id="налагодження-конфігураціі-за-допомогою-nxp-linkserver" tabindex="-1">Налагодження конфігурації за допомогою NXP LinkServer <a class="header-anchor" href="#налагодження-конфігураціі-за-допомогою-nxp-linkserver" aria-label="Permalink to &quot;Налагодження конфігурації за допомогою NXP LinkServer&quot;">​</a></h2><p>MCU-Link забезпечує для чіпів NXP (FMUv6X-RT) сервер GDB <a href="https://www.nxp.com/design/design-center/software/development-software/mcuxpresso-software-and-tools-/linkserver-for-microcontrollers:LINKERSERVER" target="_blank" rel="noreferrer">LinkServer</a>:</p><p><a href="https://www.nxp.com/design/design-center/software/development-software/mcuxpresso-software-and-tools-/linkserver-for-microcontrollers:LINKERSERVER#downloads" target="_blank" rel="noreferrer">Завантажте</a> Linkserver для вашої операційної системи та дотримуйтесь інструкцій з установки.</p><p>На Windows LinkServer встановлюється в <code>C:\\NXP\\LinkServer_x.x.x</code> На Linux LinkServer встановлюється <code>/usr/local/LinkServer/LinkServer</code></p><p>Для прошивки ви можете використовувати команду <code>LinkServer flash</code> з метою <code>MIMXRT1176xxxxx:MIMXRT1170-EVK-CM7-ONLY</code> для FMUv6X-RT</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/local/LinkServer/LinkServer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MIMXRT1176xxxxx:MIMXRT1170-EVK-CM7-ONLY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> load</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/px4_fmu-v6xrt_default/px4_fmu-v6xrt_default.elf</span></span></code></pre></div><p>Ви можете запустити сервер GDB в новому терміналі:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/local/LinkServer/LinkServer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gdbserver</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MIMXRT1176xxxxx:MIMXRT1170-EVK-CM7-ONLY</span></span></code></pre></div><p>Потім підключіться до порту 3333 через GDB:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/px4_fmu-v6xrt_default/px4_fmu-v6xrt_default.elf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;target extended-remote :3333&quot;</span></span></code></pre></div><p>Використовуйте GDB, щоб завантажити двійковий файл в Pixhawk:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) load</span></span></code></pre></div><h2 id="налаштування-відлагодження-за-допомогою-pyocd" tabindex="-1">Налаштування відлагодження за допомогою pyOCD <a class="header-anchor" href="#налаштування-відлагодження-за-допомогою-pyocd" aria-label="Permalink to &quot;Налаштування відлагодження за допомогою pyOCD&quot;">​</a></h2><p>MCU-Link надає <a href="https://pyocd.io/" target="_blank" rel="noreferrer">GDB сервер через pyOCD</a>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -U</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyocd</span></span></code></pre></div><p>Ви можете запустити сервер GDB в новому терміналі:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pyocd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gdb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mimxrt1170_cm7</span></span></code></pre></div><p>Потрібно, щоб ціль була однією з:</p><ul><li>FMUv6X-RT: <code>mimxrt1170_cm7</code></li><li>FMUv6X: <code>stm32h743xx</code></li><li>FMUv6C: <code>stm32h743xx</code></li><li>FMUv5X: <code>stm32f767zi</code></li></ul><p>Потім підключіться до порту 3333 через GDB:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/px4_fmu-v6xrt_default/px4_fmu-v6xrt_default.elf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;target extended-remote :3333&quot;</span></span></code></pre></div><p>Використовуйте GDB, щоб завантажити двійковий файл в Pixhawk:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) load</span></span></code></pre></div>',29),n=[l];function p(r,h,o,d,k,c){return e(),i("div",null,n)}const v=s(t,[["render",p]]);export{u as __pageData,v as default};
