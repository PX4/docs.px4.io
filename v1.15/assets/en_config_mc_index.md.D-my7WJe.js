import{_ as e,c as t,o,ab as a}from"./chunks/framework.CUflZczI.js";const p=JSON.parse('{"title":"Multicopter Configuration","description":"","frontmatter":{},"headers":[],"relativePath":"en/config_mc/index.md","filePath":"en/config_mc/index.md"}'),i={name:"en/config_mc/index.md"},r=a('<h1 id="multicopter-configuration" tabindex="-1">Multicopter Configuration <a class="header-anchor" href="#multicopter-configuration" aria-label="Permalink to &quot;Multicopter Configuration&quot;">​</a></h1><p>Multicopter configuration and calibration follows the same high level steps as other frames: selection of firmware, configuration of the frame including actuator/motor geometry and output mappings, sensor configuration and calibration, configuration of safety and other features, and finally tuning.</p><p>This topic explains how to configure a multicopter using selected topics from <a href="./../config/">Standard Configuration</a>, <a href="./../advanced_config/">Advanced Configuration</a>, and <a href="./../peripherals/">Flight Controller Peripherals</a>, along with multicopter-specific tuning topics.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This topic is the recommended entry point when performing first-time configuration and calibration of a new multicopter frame.</p></div><h2 id="loading-firmware" tabindex="-1">Loading Firmware <a class="header-anchor" href="#loading-firmware" aria-label="Permalink to &quot;Loading Firmware&quot;">​</a></h2><p>The first step is to <a href="./../config/firmware.html">load PX4 firmware</a> onto your <a href="./../flight_controller/">flight controller</a>. This is most easily done using QGroundControl, which will automatically select appropriate firmware for your particular controller hardware. By default QGC will install the latest stable version of PX4, but you can choose beta or custom versions instead if needed.</p><p>Relevant topics:</p><ul><li><a href="./../config/firmware.html">Loading Firmware</a></li></ul><h2 id="frame-selection-and-configuration" tabindex="-1">Frame Selection and Configuration <a class="header-anchor" href="#frame-selection-and-configuration" aria-label="Permalink to &quot;Frame Selection and Configuration&quot;">​</a></h2><p>This section explains how to configure the vehicle type (multicopter), specific motor/flight control geometry, and motor outputs.</p><p>First <a href="./../config/airframe.html">select a multicopter airframe</a> (options are listed in <a href="./../airframes/airframe_reference.html#copter">Airframe Reference &gt; Copter</a>). You should select the frame that matches your vehicle brand and model if one exists, and otherwise select the &quot;Generic&quot; frame type that most closely matches your geometry in terms of number of motors and their relative positions. For example, for a <a href="./../airframes/airframe_reference.html#quadrotor-x">Quadrotor X</a> frame you would look for the name of your frame in the list, and if it was not present select the <a href="./../airframes/airframe_reference.html#copter_quadrotor_x_generic_quadcopter">Generic Quadrotor X</a> frame.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Any selected multicopter frame can be modified in the next step (actuator configuration) to add/remove motors and otherwise change the geometry, and to specify what flight controller outputs are connected to particular motors and the output properties. Selecting a frame that matches your vehicle reduces the configuration work required.</p><details class="details custom-block"><summary>How does this work (details)</summary><p>Selecting an airframe applies a <a href="./../dev_airframes/adding_a_new_frame.html#adding-a-frame-configuration">frame configuration file</a> that contains a predefined set of <a href="./../advanced_config/parameters.html">parameters</a>, such as <a href="./../advanced_config/parameter_reference.html#CA_AIRFRAME">CA_AIRFRAME=0</a> for the vehicle type and <a href="./../advanced_config/parameter_reference.html#CA_ROTOR_COUNT">CA_ROTOR_COUNT</a> for the number of rotors.</p><p>A frame configuration can define everything about a vehicle, from it&#39;s geometry and output mappings, through to its tuning and calibration values. When you&#39;re bringing up a new vehicle though, the frame will usually contain a fairly minimal configuration:</p><ul><li>Frames named with &quot;Generic&quot; define the vehicle type, number of rotors, and &quot;placeholder&quot; rotor positions. After selecting the airframe you define the actual geometry and then configure outputs.</li><li>Frames named with model/brand will define the vehicle type, number of rotors, actual rotor positions, and motor directions. After selecting the airframe you usually still have to configure outputs.</li></ul></details></div><p>The next step is to define your vehicle <a href="./../config/actuators.html#motor-geometry-multicopter">geometry</a> (the number of motors and their relative positions) and <a href="./../config/actuators.html#actuator-outputs">assign those motors</a> to the physical outputs that they are wired to on your flight controller (both of these are covered in <a href="./../config/actuators.html">Actuator Configuration and Testing</a>).</p><p>If using PWM ESCs and OneShot ESCs (but not DShot and DroneCAN/Cyphal ESC) you should then perform <a href="./../advanced_config/esc_calibration.html">ESC Calibration</a> before proceeding to <a href="./../config/actuators.html#motor-configuration">Motor Configuration</a>. This ensures that all ESC provide exactly the same output for a given input (ideally we&#39;d calibrate ESCs first, but you can&#39;t calibrate your ESCs until outputs are mapped).</p><p>The final step is <a href="./../config/actuators.html#motor-configuration">Motor Configuration</a>:</p><ul><li><a href="./../config/actuators.html#reversing-motors">Reverse any motors</a> that don&#39;t match the spin direction configured in the Geometry. For DShot ESC you can do this through the Acuator Testing UI.</li><li>PWM, OneShot, and CAN ESC, set the motor input limits for disarmed, low and high speed (not needed for DShot ESC)</li></ul><p>Relevant topics:</p><ul><li><a href="./../config/airframe.html">Vehicle (Frame) Selection</a> — Select vehicle type to match your frame.</li><li><a href="./../config/actuators.html">Actuator Configuration and Testing</a> — Vehicle geometry, output mapping, motor configuration, testing.</li><li><a href="./../advanced_config/esc_calibration.html">ESC Calibration</a> — Do between output mapping and motor configuration (topic above) for PWM and OneShot ESC.</li></ul><h2 id="sensor-setup-and-calibration" tabindex="-1">Sensor Setup and Calibration <a class="header-anchor" href="#sensor-setup-and-calibration" aria-label="Permalink to &quot;Sensor Setup and Calibration&quot;">​</a></h2><p>PX4 most commonly relies on a magnetometer (compass) for direction information, a barometer for altitude, a gyroscope for body rates, an accelerometer for attitude and a GPS/GNSS for global position. Pixhawk flight controllers (and many others) have inbuilt magnetometer, accelerometer, gyroscope, and barometer. The inbuilt compass usually isn&#39;t particularly reliable, and it is common to also add an external compass (usually combined with a GNSS receiver in the same device).</p><p>We first need to set the <a href="./../config/flight_controller_orientation.html">Sensor Orientation</a>, informing PX4 how the autopilot (and its inbuilt sensors) and external compasses are oriented relative to the vehicle. Generally you&#39;ll orient towards the front of the vehicle and not have to set anything. Once that is done we need to calibrate the compass(es), gyroscope, and accelerometer.</p><p>The core sensor setup is covered in these topics:</p><ul><li><a href="./../config/flight_controller_orientation.html">Sensor Orientation</a></li><li><a href="./../config/compass.html">Compass</a></li><li><a href="./../config/gyroscope.html">Gyroscope</a></li><li><a href="./../config/accelerometer.html">Accelerometer</a></li></ul><p>PX4 can use other peripherals, such as distance sensors, optical flow sensors, traffic avoidance alarms, cameras, and so on:</p><ul><li><a href="./../peripherals/">Flight Controller Peripherals</a> - Setup specific sensors, optional sensors, actuators, and so on.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Sensors that you don&#39;t need to calibrate/configure include:</p><ul><li><a href="./../config/level_horizon_calibration.html">Level Horizon</a> calibration isn&#39;t usually needed if you have mounted the flight controller level.</li><li>Sensors that are not present, or that are not used by PX4 multicopter for flight control, such as <a href="./../config/airspeed.html">Airspeed sensors</a>.</li><li>Sensors that don&#39;t need calibration, including: Barometers and GNSS.</li></ul></div><h2 id="manual-control-setup" tabindex="-1">Manual Control Setup <a class="header-anchor" href="#manual-control-setup" aria-label="Permalink to &quot;Manual Control Setup&quot;">​</a></h2><p>Pilots can control a vehicle manually using either a Radio Control (RC) System or a Joystick/Gamepad controller connected via QGroundControl.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>A manual control is essential in order to bring up a new vehicle safely!</p></div><p>Radio Control:</p><ul><li><a href="./../config/radio.html">Radio Controller (RC) Setup</a></li><li><a href="./../config/flight_mode.html">Flight Mode Configuration</a></li></ul><p>Joystick/GamePad:</p><ul><li><a href="./../config/joystick.html">Joystick Setup</a> (includes button/flight mode mapping)</li></ul><h2 id="safety-configuration" tabindex="-1">Safety Configuration <a class="header-anchor" href="#safety-configuration" aria-label="Permalink to &quot;Safety Configuration&quot;">​</a></h2><p>PX4 can be configured to automatically handle conditions such as low battery, losing radio or data links, flying too far from the home location, and so on:</p><ul><li><a href="./../config/battery.html">Battery Estimation Tuning</a> — estimate remaining power (needed for low power failsafe).</li><li><a href="./../config/safety.html">Safety Configuration (Failsafes)</a></li></ul><h2 id="tuning" tabindex="-1">Tuning <a class="header-anchor" href="#tuning" aria-label="Permalink to &quot;Tuning&quot;">​</a></h2><p>Tuning is the final step, carried out only after most other setup and configuration is complete.</p><ul><li><p>Rate and attitude controllers:</p></li><li><p><a href="./../config/autotune.html">Autotune</a> — Automates tuning PX4 rate and attitude controllers (recommended).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Automatic tuning works on frames that have reasonable authority and dynamics around all the body axes. It has primarily been tested on racing quads and X500, and is expected to be less effective on tricopters with a tiltable rotor. The other two guides are only needed if there is a problem with autotune.</p></div></li><li><p><a href="./../config_mc/pid_tuning_guide_multicopter_basic.html">MC PID Tuning (Manual/Basic)</a> — Manual tuning basic how to.</p></li><li><p><a href="./../config_mc/pid_tuning_guide_multicopter.html">MC PID Tuning Guide (Manual/Detailed)</a> — Manual tuning with detailed explanation.</p></li><li><p><a href="./../config_mc/filter_tuning.html">MC Filter/Control Latency Tuning</a> — Trade off control latency and noise filtering.</p></li><li><p><a href="./../config_mc/mc_trajectory_tuning.html">MC Setpoint Tuning (Trajectory Generator)</a></p><ul><li><a href="./../config_mc/mc_jerk_limited_type_trajectory.html">MC Jerk-limited Type Trajectory</a></li></ul></li><li><p><a href="./../config_mc/racer_setup.html">Multicopter Racer Setup</a></p></li></ul><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/setup_view/setup_view.html" target="_blank" rel="noreferrer">QGroundControl &gt; Setup</a></li><li><a href="./../peripherals/">Flight Controller Peripherals</a> - Setup specific sensors, optional sensors, actuators, and so on.</li><li><a href="./../advanced_config/">Advanced Configuration</a> - Factory/OEM calibration, configuring advanced features, less-common configuration.</li><li>Vehicle-Centric Config/Tuning: <ul><li><strong>Multicopter Config/Tuning</strong></li><li><a href="./../config_heli/">Helicopter Config/Tuning</a></li><li><a href="./../config_fw/">Fixed Wing Config/Tuning</a></li><li><a href="./../config_vtol/">VTOL Config/Tuning</a></li></ul></li></ul>',41),n=[r];function l(s,c,u,h,f,d){return o(),t("div",null,n)}const g=e(i,[["render",l]]);export{p as __pageData,g as default};
