import{_ as i}from"./chunks/intel_realsense.BEj6JhIO.js";import{_ as s,c as a,o as e,ab as l}from"./chunks/framework.CUflZczI.js";const b=JSON.parse('{"title":"在 Ubuntu 上安装英特尔 RealSense R200 的驱动程序","description":"","frontmatter":{},"headers":[],"relativePath":"zh/advanced/realsense_intel_driver.md","filePath":"zh/advanced/realsense_intel_driver.md"}'),t={name:"zh/advanced/realsense_intel_driver.md"},n=l('<h1 id="在-ubuntu-上安装英特尔-realsense-r200-的驱动程序" tabindex="-1">在 Ubuntu 上安装英特尔 RealSense R200 的驱动程序 <a class="header-anchor" href="#在-ubuntu-上安装英特尔-realsense-r200-的驱动程序" aria-label="Permalink to &quot;在 Ubuntu 上安装英特尔 RealSense R200 的驱动程序&quot;">​</a></h1><p>本教程旨在提供有关如何在 linux 环境中安装英特尔 RealSense R200 相机头的相机驱动程序的说明，以便可以通过机器人操作系统 ( ROS ) 访问收集到的图像。 RealSense R200 相机头如下图所示:</p><p><img src="'+i+'" alt="Intel Realsense Camera 前视图"></p><p>驱动程序包的安装是在 Virtual Box 中作为虚拟机运行的 Ubuntu 操作系统 (OS) 上执行的。 运行 Virtual Box 的宿主机、虚拟机的规格如下:</p><ul><li>主机操作系统：Windows 8</li><li>处理器：Intel(R) Core(TM) i7-4702MQ CPU @ 2.20GHz</li><li>Virtual Box：Oracle VM。 版本 5.0.14 r105127</li><li>扩展：安装了 Virtual Box 的扩展包（用于 USB3.0 支持）</li><li>客户机操作系统：Linux - Ubuntu 14.04.3 LTS</li></ul><p>本教程按以下方式排序: 在第一部分中, 演示如何在 Virtual Box 中安装 Ubuntu 14.04 作为客户机系统。 第二部分会演示如何安装 ROS Indigo 和相机驱动程序。 常用短语解释如下：</p><ul><li>Virtual Box（VB）：运行不同虚拟机的程序。 此处使用 Oracle 虚拟机。</li><li>Virtual Machine（VM）：作为访客系统在虚拟框中运行的操作系统。 此处使用 Ubuntu。</li></ul><h2 id="在-virtual-box-中安装-ubuntu-14-04-3-lts" tabindex="-1">在 Virtual Box 中安装 Ubuntu 14.04.3 LTS <a class="header-anchor" href="#在-virtual-box-中安装-ubuntu-14-04-3-lts" aria-label="Permalink to &quot;在 Virtual Box 中安装 Ubuntu 14.04.3 LTS&quot;">​</a></h2><ul><li>创建一个新的虚拟机 (VM): Linux 64-Bit.</li><li>下载Ubuntu 14.04.3 LTS 镜像文件: (<a href="http://www.ubuntu.com/download/desktop" target="_blank" rel="noreferrer">ubuntu-14.04.3-desktop-amd64.iso</a>)。</li><li>Ubuntu 的安装: <ul><li>在安装过程中，保留以下两项: <ul><li>安装时下载更新</li><li>安装此第三方软件</li></ul></li></ul></li><li>安装完成后，您可能需要启用 Virtual Box 在整个桌面上显示 Ubuntu： <ul><li>启动虚拟机中的 Ubuntu 并登录，单击菜单栏中的 <strong>Devices-&gt;Insert Guest Additions CD image</strong>。</li><li>点击 <strong>Run</strong> 并在 Ubuntu 弹出的窗口上输入密码。</li><li>等待安装完成，然后重新启动。 现在，应该可以在整个桌面上显示 VM。</li><li>如果 ubuntu 中弹出一个窗口, 询问是否更新, 请在此时拒绝更新。</li></ul></li><li>在 Virtual Box 中启用 USB 3 控制器: <ul><li>关闭虚拟机。</li><li>转到 &quot;虚拟机&quot; 的设置到菜单选择 USB，然后选择: &quot;USB 3.0(xHCI)&quot;。 只有在安装了虚拟框的扩展包时, 才有可能执行此操作。</li><li>再次启动虚拟机。</li></ul></li></ul><h2 id="安装-ros-indigo" tabindex="-1">安装 ROS Indigo <a class="header-anchor" href="#安装-ros-indigo" aria-label="Permalink to &quot;安装 ROS Indigo&quot;">​</a></h2><ul><li>按照 <a href="http://wiki.ros.org/indigo/Installation/Ubuntu" target="_blank" rel="noreferrer">ROS ndigo installation guide</a> 中给出的说明: <ul><li>安装桌面完整版。</li><li>执行 &quot;初始化 rosdep&quot; 和 &quot;环境设置&quot; 部分中描述的步骤。</li></ul></li></ul><h2 id="安装摄像头驱动" tabindex="-1">安装摄像头驱动 <a class="header-anchor" href="#安装摄像头驱动" aria-label="Permalink to &quot;安装摄像头驱动&quot;">​</a></h2><ul><li><p>安装 Git</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span></code></pre></div></li><li><p>下载并安装驱动:</p><ul><li><p>克隆 <a href="https://github.com/bestmodule/RealSense_ROS" target="_blank" rel="noreferrer">RealSense_ROS 仓库</a>：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/bestmodule/RealSense_ROS.git</span></span></code></pre></div></li></ul></li><li><p>参照 <a href="https://github.com/bestmodule/RealSense_ROS/tree/master/r200_install" target="_blank" rel="noreferrer">here</a> 的介绍说明。</p><ul><li><p>无论要不要安装如下包都敲击回车：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Intel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Low</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Power</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Subsystem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> support</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ACPI</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (MFD_INTEL_LPSS_ACPI) [N/m/y/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NEW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Intel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Low</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Power</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Subsystem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> support</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PCI</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (MFD_INTEL_LPSS_PCI) [N/m/y/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NEW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dell</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Airplane</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Switch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> driver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (DELL_RBTN) [N/m/y/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NEW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li><li><p>进程安装结束时如下错误信息会出现，但不应该导致驱动故障：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rmmod:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERROR:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uvcvideo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> currently</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> loaded</span></span></code></pre></div></li></ul></li><li><p>安装结束后，重启虚拟机。</p></li><li><p>测试摄像头驱动：</p><ul><li><p>使用 USB 线缆，一头连接电脑的 USB3 接口，另一端连接　Intel RealSense 相机。</p></li><li><p>在 Virtual Box 菜单栏中单击 Devices-&gt;USB-&gt; Intel Corp Intel RealSense 3D Camera R200， 为了将相机 USB 连接到虚拟机。</p></li><li><p>执行文件 [unpacked folder]/bin/dsreadcamerainfo：</p><ul><li><p>如果出现以下错误消息，请拔下相机 (从计算机物理上拔下 usb 电缆)。 If the following error message appears, unplug the camera (physically unplug USB cable from the computer). Plug it in again + Click on Devices-&gt;USB-&gt; Intel Corp Intel RealSense 3D Camera R200 in the menu bar of the Virtual Box again and execute again the file [unpacked folder]/Bin/DSReadCameraInfo. <code>DSAPI call failed at ReadCameraInfo.cpp:134!</code></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DSAPI</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> call</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ReadCameraInfo.cpp:134!</span></span></code></pre></div></li><li><p>如果相机驱动程序工作正常并识别 Intel RealSense R200，您应该看到有关 Intel RealSense R200 相机头的特定信息。</p></li></ul></li></ul></li><li><p>ROS 节点的安装和测试：</p><ul><li>按照 <a href="https://github.com/bestmodule/RealSense_ROS/blob/master/realsense_dist/2.3/doc/RealSense-ROS-R200-nodelet.md" target="_blank" rel="noreferrer">here</a> 提供的 &quot;安装&quot; 部分中的安装说明安装 ROS 节点。</li><li>按照 <a href="https://github.com/bestmodule/RealSense_ROS/blob/master/realsense_dist/2.3/doc/RealSense-ROS-R200-nodelet.md" target="_blank" rel="noreferrer">here</a> 提供的 &quot;Running the R200 nodelet&quot; 部分中的说明，与 Intel RealSense R200 相机头一起测试 ROS 节点。 <ul><li>如果一切正常，Intel RealSense R200 相机中的不同数据流将作为 ROS 主题发布。</li></ul></li></ul></li></ul>',13),h=[n];function p(r,k,o,d,u,g){return e(),a("div",null,h)}const E=s(t,[["render",p]]);export{b as __pageData,E as default};
