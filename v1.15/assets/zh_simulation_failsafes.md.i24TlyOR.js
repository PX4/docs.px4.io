import{_ as a,c as e,o as t,ab as i}from"./chunks/framework.CUflZczI.js";const u=JSON.parse('{"title":"模拟故障保护","description":"","frontmatter":{},"headers":[],"relativePath":"zh/simulation/failsafes.md","filePath":"zh/simulation/failsafes.md"}'),s={name:"zh/simulation/failsafes.md"},n=i(`<h1 id="模拟故障保护" tabindex="-1">模拟故障保护 <a class="header-anchor" href="#模拟故障保护" aria-label="Permalink to &quot;模拟故障保护&quot;">​</a></h1><p><a href="./../config/safety.html"> Failsafes </a> 为了您可以安全地使用 PX4，定义安全限制/条件，以及触发故障安全时将执行的操作（例如，着陆，保持或返回指定点）。</p><p>在 SITL 中，默认情况下会禁用某一些故障，以便方便模拟使用。 本主题说明如何在实际世界中尝试 SITL 仿真之前测试安全关键行为。</p><div class="info custom-block"><p class="custom-block-title">You can also test failsafes using <a href="./../simulation/hitl.html">HITL simulation</a>. 这使得模拟仅适用于连接的 GCS，SDK 或其他 MAVLink 应用程序。</p></div><h2 id="数据链路丢失" tabindex="-1">数据链路丢失 <a class="header-anchor" href="#数据链路丢失" aria-label="Permalink to &quot;数据链路丢失&quot;">​</a></h2><p>The <em>Data Link Loss</em> failsafe (unavailability of external data via MAVLink) is enabled by default. This makes the simulation only usable with a connected GCS, SDK, or other MAVLink application.</p><p><em>RC 链接损失</em> failslafe （来自远程控制的数据不可用） 被默认启用。 这使得模拟仿真只能使用 MAVLink 或远程控制连接。</p><div class="info custom-block"><p class="custom-block-title">All parameters in SITL including this one get reset when you do <code>make clean</code>. 例如，设置为 <code>0</code> 禁用它。</p><h2 id="rc-链接损失" tabindex="-1">RC 链接损失 <a class="header-anchor" href="#rc-链接损失" aria-label="Permalink to &quot;RC 链接损失&quot;">​</a></h2><p>The <em>RC Link Loss</em> failsafe (unavailability of data from a remote control) is enabled by default. 这可以在 GCS UI 中测试电池指示，而不会触发可能中断其他测试的低电池反应。</p><p>Set the parameter <a href="./../advanced_config/parameter_reference.html#NAV_RCL_ACT">NAV_RCL_ACT</a> to the desired failsafe action to change the behavior. For example, set to <code>0</code> to disable it.</p><div class="info custom-block"><p class="custom-block-title">All parameters in SITL including this one get reset when you do <code>make clean</code>.</p></div></div><h2 id="低电量" tabindex="-1">低电量 <a class="header-anchor" href="#低电量" aria-label="Permalink to &quot;低电量&quot;">​</a></h2><p>为了模拟丢失和重新获取 GPS 全球定位系统信息，您可以停止/重新启动 GPS 驱动程序。 This enables testing of battery indication in GCS UIs without triggering low battery reactions that might interrupt other testing.</p><p>To change this minimal battery percentage value use the parameter <a href="./../advanced_config/parameter_reference.html#SIM_BAT_MIN_PCT">SIM_BAT_MIN_PCT</a>.</p><p>To control how fast the battery depletes to the minimal value use the parameter <a href="./../advanced_config/parameter_reference.html#SIM_BAT_DRAIN">SIM_BAT_DRAIN</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>By changing <a href="./../advanced_config/parameter_reference.html#SIM_BAT_MIN_PCT">SIM_BAT_MIN_PCT</a> in flight, you can also test regaining capacity to simulate inaccurate battery state estimation or in-air charging technology.</p></div><h2 id="gps-损失" tabindex="-1">GPS 损失 <a class="header-anchor" href="#gps-损失" aria-label="Permalink to &quot;GPS 损失&quot;">​</a></h2><p><a href="./../debug/failure_injection.html">Failure injection</a> can be used to simulate different types of failures in many sensors and systems. For example, this can be used to simulate absent or intermittent GPS, RC signal that has stopped or got stuck on a particular value, failure of the avoidance system, and much more.</p><p>For example, to simulate GPS failure:</p><ol><li><p>Enable the parameter <a href="./../advanced_config/parameter_reference.html#SYS_FAILURE_EN">SYS_FAILURE_EN</a>.</p></li><li><p>Enter the following commands on the SITL instance <em>pxh shell</em>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Turn (all) GPS off</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">failure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> off</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Turn (all) GPS on</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">failure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ok</span></span></code></pre></div></li></ol><p>See <a href="./../debug/failure_injection.html">System Failure Injection</a> for a list of supported target sensors and failure modes.</p>`,18),l=[n];function o(r,c,h,p,d,m){return t(),e("div",null,l)}const _=a(s,[["render",o]]);export{u as __pageData,_ as default};
