import{_ as e,c as a,o as r,ab as t}from"./chunks/framework.CUflZczI.js";const m=JSON.parse('{"title":"Налаштування послідовного порту","description":"","frontmatter":{},"headers":[],"relativePath":"uk/peripherals/serial_configuration.md","filePath":"uk/peripherals/serial_configuration.md"}'),i={name:"uk/peripherals/serial_configuration.md"},_=t('<h1 id="налаштування-послідовного-порту" tabindex="-1">Налаштування послідовного порту <a class="header-anchor" href="#налаштування-послідовного-порту" aria-label="Permalink to &quot;Налаштування послідовного порту&quot;">​</a></h1><p>PX4 визначає <a href="#default-serial-port-configuration">типові функції</a> для багатьох портів керування польотом, тому ви можете підключити модуль GPS до порту з позначкою <code>GPS 1</code>, приймач RC до <code>RC IN</code>, або модуль телеметрії до <code>TELEM 1</code>, і, в цілому, вони просто працюватимуть.</p><p>Функції, призначені для портів, повністю конфігуруються за допомогою відповідних параметрів (у більшості випадків). Ви можете призначити будь-який не використаний порт для будь-якої функції або перепризначити порт, щоб використовувати його для іншої цілі.</p><p>Конфігурація дозволяє легко (наприклад):</p><ul><li>Виконайте MAVLink на іншому порту, змініть потокові повідомлення або перемкніть порт TELEM на використання ROS 2/XRCE-DDS.</li><li>Змініть швидкість передачі даних на порту або встановіть UDP-порт</li><li>Налаштування подвійного GPS.</li><li>Увімкніть датчики, які працюють через послідовний порт, такі як деякі <a href="./../sensor/rangefinders.html">датчики відстані</a>.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><ul><li>Деякі порти не можуть бути налаштовані, оскільки вони використовуються для дуже конкретної цілі, наприклад, для системної консолі.</li><li>Відображення конкретних пристроїв на назви портів на контролері польоту пояснено в <a href="./../hardware/serial_port_mapping.html">Відображення послідовного порту</a>.</li></ul></div><h2 id="налаштування-параметрів" tabindex="-1">Налаштування параметрів <a class="header-anchor" href="#налаштування-параметрів" aria-label="Permalink to &quot;Налаштування параметрів&quot;">​</a></h2><p>Параметри конфігурації послідовного порту дозволяють вам призначити певну функцію або підтримку певного обладнання для конкретного порту. Ці параметри слідують за шаблоном найменування <code>*_CONFIG</code> або <code>*_CFG</code></p><div class="info custom-block"><p class="custom-block-title"><em>QGroundControl</em> показує лише параметри для служб/драйверів, які присутні в прошивці.</p></div><p>На момент написання поточний набір:</p><ul><li>GNSS configuration: <ul><li>GPS Module: <a href="./../advanced_config/parameter_reference.html#GPS_1_CONFIG">GPS_1_CONFIG</a>, <a href="./../advanced_config/parameter_reference.html#GPS_2_CONFIG">GPS_2_CONFIG</a> (for most GPS/GNSS systems)</li><li><a href="./../gps_compass/septentrio.html">Septentrio GNSS Modules</a>: <a href="./../advanced_config/parameter_reference.html#SEP_PORT1_CFG">SEP_PORT1_CFG</a>, <a href="./../advanced_config/parameter_reference.html#SEP_PORT2_CFG">SEP_PORT2_CFG</a></li></ul></li><li><a href="./../advanced_features/satcom_roadblock.html">Iridium Satellite radio</a>: <a href="./../advanced_config/parameter_reference.html#ISBD_CONFIG">Конфігурація ISBD</a></li><li><a href="./../peripherals/mavlink_peripherals.html">Порти MAVLink</a>: <a href="./../advanced_config/parameter_reference.html#MAV_0_CONFIG">MAV_0_CONFIG</a>, <a href="./../advanced_config/parameter_reference.html#MAV_1_CONFIG">MAV_1_CONFIG</a>, <a href="./../advanced_config/parameter_reference.html#MAV_2_CONFIG">MAV_2_CONFIG</a></li><li>VOXL ESC: <a href="./../advanced_config/parameter_reference.html#VOXL_ESC_CONFIG">VOXL_ESC_CONFIG</a></li><li>MSP OSD: <a href="./../advanced_config/parameter_reference.html#MSP_OSD_CONFIG">MSP_OSD_CONFIG</a></li><li>Порт RC: <a href="./../advanced_config/parameter_reference.html#RC_PORT_CONFIG">RC_PORT_CONFIG</a></li><li><a href="./../peripherals/frsky_telemetry.html">FrSky Телеметрія</a>: <a href="./../advanced_config/parameter_reference.html#TEL_FRSKY_CONFIG">TEL_FRSKY_CONFIG</a></li><li>HoTT Телеметрія: <a href="./../advanced_config/parameter_reference.html#TEL_HOTT_CONFIG">TEL_HOTT_CONFIG</a></li><li><a href="./../middleware/uxrce_dds.html">uXRCE-DDS</a> порт: <a href="./../advanced_config/parameter_reference.html#UXRCE_DDS_CFG">UXRCE_DS_CFG</a></li><li>Датчики (оптичний потік, датчики відстані): <a href="./../advanced_config/parameter_reference.html#SENS_CM8JL65_CFG">SENS_CM8JL65_CFG</a>, <a href="./../advanced_config/parameter_reference.html#SENS_LEDDAR1_CFG">SENS_LEDDAR1_CFG</a>, <a href="./../advanced_config/parameter_reference.html#SENS_SF0X_CFG">SENS_SF0X_CFG</a>, <a href="./../advanced_config/parameter_reference.html#SENS_TFLOW_CFG">SENS_TFLOW_CFG</a>, <a href="./../advanced_config/parameter_reference.html#SENS_TFMINI_CFG">SENS_TFMINI_CFG</a>, <a href="./../advanced_config/parameter_reference.html#SENS_ULAND_CFG">SENS_ULAND_CFG</a>, <a href="./../advanced_config/parameter_reference.html#SENS_VN_CFG">SENS_VN_CFG</a>,</li><li>Водій введення CRSF RC: <a href="./../advanced_config/parameter_reference.html#RC_CRSF_PRT_CFG">RC_CRSF_PRT_CFG</a></li><li>Sagetech MXS: <a href="./../advanced_config/parameter_reference.html#MXS_SER_CFG">MXS_SER_CFG</a></li><li>Датчик позиції з ультраширокосмуговим зв&#39;язком: <a href="./../advanced_config/parameter_reference.html#UWB_PORT_CFG">UWB_PORT_CFG</a></li><li>Драйвер DShot: <a href="./../advanced_config/parameter_reference.html#DSHOT_TEL_CFG">DSHOT_TEL_CFG</a></li></ul><p>Деякі функції / можливості можуть визначати додаткові параметри конфігурації, які будуть містити схожий шаблон іменування до префіксу конфігурації порту. Наприклад, <code>MAV_0_CONFIG</code> дозволяє використовувати MAVLink на певному порту, але вам також може знадобитися встановити <a href="./../advanced_config/parameter_reference.html#MAV_0_FLOW_CTRL">MAV_0_FLOW_CTRL</a>, <a href="./../advanced_config/parameter_reference.html#MAV_0_FLOW_CTRL">MAV_0_FORWARD</a>, <a href="./../advanced_config/parameter_reference.html#MAV_0_MODE">MAV_0_MODE</a> та інше.</p><h2 id="як-налаштувати-порт" tabindex="-1">Як налаштувати порт <a class="header-anchor" href="#як-налаштувати-порт" aria-label="Permalink to &quot;Як налаштувати порт&quot;">​</a></h2><p>Всі послідовні драйвери/порти налаштовані однаковим чином:</p><ol><li>Встановіть параметр конфігурації для сервісу/периферійного пристрою на порт, який він буде використовувати.</li><li>Перезавантажте апарат, щоб побачити додаткові параметри конфігурації.</li><li>Set the baud rate parameter for the selected port to the desired value (e.g. <a href="./../advanced_config/parameter_reference.html#SER_GPS1_BAUD">SER_GPS1_BAUD</a>)</li><li>Налаштуйте параметри, специфічні для модуля (тобто. Потоки та конфігурація швидкості передачі даних MAVLink).</li></ol><p><a href="./../gps_compass/#dual_gps">GPS/Compass &gt; Secondary GPS</a> розділ надається практичний приклад налаштування порту <em>QGroundControl</em> (показує як використовувати <code>GPS_2_CONFIG</code> щоб запускати додатковий GPS на <code>TELEM 2</code>).</p><p>Аналогічно <a href="./../advanced_config/ethernet_setup.html#px4-mavlink-serial-port-configuration">Налаштування Ethernet PX4 &gt; Конфігурація послідовного порту PX4 MAVLink</a> пояснює налаштування послідовних портів Ethernet, а <a href="./../peripherals/mavlink_peripherals.html">Периферійні пристрої MAVLink (OSD/GCS/Супутникові комп&#39;ютери тощо)</a> пояснює конфігурацію послідовних портів MAVLink.</p><h2 id="розконфліктовування-портів" tabindex="-1">Розконфліктовування портів <a class="header-anchor" href="#розконфліктовування-портів" aria-label="Permalink to &quot;Розконфліктовування портів&quot;">​</a></h2><p>Конфлікти портів вирішуються під час запуску системи, що забезпечує, що на конкретному порту запускається не більше однієї служби. Наприклад, неможливо запустити екземпляр MAVLink на конкретному послідовному пристрої, а потім запустити драйвер, який використовує той самий послідовний пристрій.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>На момент написання немає відгуків користувачів про конфліктуючі порти.</p></div><p><a id="default_port_mapping"></a></p><h2 id="налаштування-послідовного-порту-за-замовчуванням" tabindex="-1">Налаштування послідовного порту за замовчуванням <a class="header-anchor" href="#налаштування-послідовного-порту-за-замовчуванням" aria-label="Permalink to &quot;Налаштування послідовного порту за замовчуванням&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Ці зображення портів можуть бути вимкнені, встановивши пов&#39;язаний параметр конфігурації на <em>Вимкнено</em>.</p></div><p>Наступні порти зазвичай відображаються на конкретні функції на всіх платах:</p><ul><li><p><code>GPS 1</code> налаштований як порт GPS (використовуючи <a href="./../advanced_config/parameter_reference.html#GPS_1_CONFIG">GPS_1_CONFIG</a>).</p><p>The default baud rate is set in the <a href="./../modules/modules_driver.html#gps">gps driver</a> by the value of <a href="./../advanced_config/parameter_reference.html#SER_GPS1_BAUD">SER_GPS1_BAUD</a>, which has a default rate of <em>Auto</em>. With this setting a GPS will automatically detect the baudrate — except for the Trimble MB-Two, which you will need to explicitly set to 115200 baud rate.</p></li><li><p><code>RC IN</code> налаштовано як вхід RC (використовуючи <a href="./../advanced_config/parameter_reference.html#RC_PORT_CONFIG">RC_PORT_CONFIG</a>).</p></li><li><p><code>TELEM 1</code> налаштований як послідовний порт MAVLink, придатний для підключення до GCS через <a href="./../telemetry/">модуль телеметрії</a>.</p><p>Конфігурація використовує <a href="./../advanced_config/parameter_reference.html#MAV_0_CONFIG">MAV_0_CONFIG</a> для встановлення порту, <a href="./../advanced_config/parameter_reference.html#MAV_0_RATE">MAV_0_RATE</a> для встановлення швидкості передачі даних на 57600 та <a href="./../advanced_config/parameter_reference.html#MAV_1_MODE">MAV_0_MODE</a> для встановлення потокових повідомлень на &quot;Normal&quot;. Для отримання додаткової інформації див. : <a href="./../peripherals/mavlink_peripherals.html">MAVLink Периферійні пристрої (OSD/GCS/Компаньйон Комп&#39;ютери/тощо)</a>.</p></li><li><p><code>TELEM 2</code> налаштований за замовчуванням як послідовний порт MAVLink, придатний для підключення до комп&#39;ютера на борту/другорядного комп&#39;ютера через провідне підключення.</p><p>Конфігурація використовує <a href="./../advanced_config/parameter_reference.html#MAV_1_CONFIG">MAV_1_CONFIG</a> для встановлення порту, <a href="./../advanced_config/parameter_reference.html#MAV_1_RATE">MAV_1_RATE</a> для встановлення швидкості передачі даних на , та <a href="./../advanced_config/parameter_reference.html#MAV_2_MODE">MAV_1_MODE</a> для встановлення потокових повідомлень на &quot;Onboard&quot;. Для отримання додаткової інформації див.: <a href="./../peripherals/mavlink_peripherals.html">MAVLink Периферійні пристрої (OSD/GCS/Компаньйон Комп&#39;ютери/тощо)</a>.</p></li><li><p><code>Етернет</code> відображається як порт MAVLink на пристроях Pixhawk, які мають порт Ethernet.</p><p>Конфігурація використовує <a href="./../advanced_config/parameter_reference.html#MAV_2_CONFIG">MAV_2_CONFIG</a> та відповідні налаштування для UDP-порту тощо. Для отримання додаткової інформації див. <a href="./../advanced_config/ethernet_setup.html#px4-mavlink-serial-port-configuration">Налаштування Ethernet PX4 &gt; Конфігурація послідовного порту PX4 MAVLink</a> та <a href="./../peripherals/mavlink_peripherals.html">Периферійні пристрої MAVLink (OSD/GCS/Компаньйони тощо)</a>.</p></li></ul><p>Інші порти, як правило, за замовчуванням не мають призначених функцій (вимкнені).</p><h2 id="вирішення-проблем" tabindex="-1">Вирішення проблем <a class="header-anchor" href="#вирішення-проблем" aria-label="Permalink to &quot;Вирішення проблем&quot;">​</a></h2><p><a id="parameter_not_in_firmware"></a></p><h3 id="відсутніи-параметр-конфігураціі-в-qgroundcontrol" tabindex="-1">Відсутній параметр конфігурації в <em>QGroundControl</em> <a class="header-anchor" href="#відсутніи-параметр-конфігураціі-в-qgroundcontrol" aria-label="Permalink to &quot;Відсутній параметр конфігурації в _QGroundControl_&quot;">​</a></h3><p><em>QGroundControl</em> показує лише параметри для служб/драйверів, які присутні в прошивці. Якщо параметр відсутній, то можливо вам потрібно додати його в прошивку.</p><div class="info custom-block"><p class="custom-block-title">Програмне забезпечення PX4 включає більшість драйверів за замовчуванням на платах серії <a href="./../flight_controller/pixhawk_series.html">Pixhawk-series</a>. Дошки з обмеженням Flash можуть закоментувати/пропустити драйвер (на момент написання цього це стосується лише дошок на основі FMUv2).</p></div><p>Ви можете включити відсутній драйвер у вбудоване програмне забезпечення, увімкнувши драйвер у файлі конфігурації <strong>default.px4board</strong>, який відповідає до <a href="https://github.com/PX4/PX4-Autopilot/tree/release/1.15/boards/px4" target="_blank" rel="noreferrer">платі</a>, для якої ви хочете зібрати. Наприклад, щоб увімкнути драйвер SRF02, ви додасте наступний рядок до px4board.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>CONFIG_DRIVERS_DISTANCE_SENSOR_SRF02=y</span></span></code></pre></div><p>Простіший метод полягає в використанні boardconfig, який запускає GUI, де ви можете легко шукати, вимикаючи та увімкнюючи модулі. Для запуску типу boardconfig введіть:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>make &lt;vendor&gt;_&lt;board&gt;_&lt;label&gt; boardconfig</span></span></code></pre></div><p>Потім вам потрібно буде скомпілювати прошивку для вашої платформи, як описано в <a href="./../dev_setup/building_px4.html">Building PX4 Software</a>.</p><h2 id="подальша-інформація" tabindex="-1">Подальша інформація <a class="header-anchor" href="#подальша-інформація" aria-label="Permalink to &quot;Подальша інформація&quot;">​</a></h2><ul><li><a href="./../peripherals/mavlink_peripherals.html">Пристрої MAVLink (OSD/GCS/Супутникові комп&#39;ютери/тощо.)</a></li><li><a href="./../advanced_config/ethernet_setup.html#px4-mavlink-serial-port-configuration">Налаштування Ethernet PX4 &gt; Конфігурація послідовного порту PX4 MAVLink</a></li><li><a href="./../hardware/serial_port_mapping.html">Налаштування послідовного порту</a></li></ul>',38),l=[_];function n(o,c,h,d,p,f){return r(),a("div",null,l)}const S=e(i,[["render",n]]);export{m as __pageData,S as default};
