import{_ as t}from"./chunks/ref_frames.C52lwBbQ.js";import{_ as a,c as o,o as r,ab as e}from"./chunks/framework.CUflZczI.js";const k=JSON.parse('{"title":"Польоти з використанням систем захоплення руху (VICON, NOKOV, Optitrack)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/tutorials/motion-capture.md","filePath":"uk/tutorials/motion-capture.md"}'),s={name:"uk/tutorials/motion-capture.md"},n=e('<h1 id="польоти-з-використанням-систем-захоплення-руху-vicon-nokov-optitrack" tabindex="-1">Польоти з використанням систем захоплення руху (VICON, NOKOV, Optitrack) <a class="header-anchor" href="#польоти-з-використанням-систем-захоплення-руху-vicon-nokov-optitrack" aria-label="Permalink to &quot;Польоти з використанням систем захоплення руху (VICON, NOKOV, Optitrack)&quot;">​</a></h1><p>::: попередження <strong>РОБОТА В ПРОЦЕСІ</strong></p><p>Ця тема значно збігається з <a href="./../ros/external_position_estimation.html">Оцінкою зовнішньої позиції (ROS)</a>. :::</p><p>Системи захоплення руху у приміщенні, такі як VICON, NOKOV та Optitrack, можуть бути використані для надання даних про положення та орієнтацію для оцінки стану транспортного засобу або можуть бути використані як основа для аналізу. Дані з систем захоплення руху можуть бути використані для оновлення локальної оцінки положення PX4 відносно локального початку координат Курс (поворот) з системи захоплення руху також може бути опціонально інтегрований оцінювачем положення.</p><p>Дані про положення (позицію та орієнтацію) з системи захоплення руху надсилаються автопілоту через MAVLink, використовуючи повідомлення <a href="https://mavlink.io/en/messages/common.html#ATT_POS_MOCAP" target="_blank" rel="noreferrer">ATT_POS_MOCAP</a>. Дивіться розділ нижче про системи координат для норм представлення даних. ROS-Mavlink інтерфейс <a href="./../ros/mavros_installation.html">mavros</a> має стандартний плагін для надсилання цього повідомлення. Їх також можна надсилати, використовуючи чистий код на мовах програмування C/C++ та бібліотеки MAVLink.</p><h2 id="архітектура-обчислювальних-систем" tabindex="-1">Архітектура обчислювальних систем <a class="header-anchor" href="#архітектура-обчислювальних-систем" aria-label="Permalink to &quot;Архітектура обчислювальних систем&quot;">​</a></h2><p><strong>Дуже рекомендується</strong> надсилати дані захоплення руху через <strong>бортовий</strong> комп&#39;ютер (наприклад, Raspberry Pi, ODroid і т. д.) для надійного зв&#39;язку. Вбудований комп&#39;ютер може бути підключений до комп&#39;ютера руху за допомогою WiFi, що забезпечує надійне, високопропускне з&#39;єднання.</p><p>Більшість стандартних телеметричних зв&#39;язків, таких як радіоприймачі 3DR/SiK, <strong>не підходять</strong> для застосувань з високою пропускною здатністю, пов&#39;язаних з захопленням руху.</p><h2 id="системи-координат" tabindex="-1">Системи координат <a class="header-anchor" href="#системи-координат" aria-label="Permalink to &quot;Системи координат&quot;">​</a></h2><p>У цьому розділі показано, як налаштувати систему з відповідними опорними системами. Існує різноманітні представлення, але ми використовуватимемо два з них: ENU і NED.</p><ul><li>ENU - це земельно-фіксована система, де вісь <strong>X</strong> вказує на схід, <strong>Y</strong> - на північ, а <strong>Z</strong> - вгору. Корпус робота/транспортного засобу відповідно до цього має вісь <strong>X</strong> наперед, <strong>Z</strong> вгору і <strong>Y</strong> ліворуч.</li><li>NED має вісь **X **направлену на північ, <strong>Y</strong> - на схід і <strong>Z</strong> - вниз. Корпус робота/транспортного засобу має вісь <strong>X</strong> наперед, <strong>Z</strong> вниз і <strong>Y</strong> відповідно.</li></ul><p>На зображенні нижче показані системи координат. NED ліворуч, ENU праворуч:</p><p><img src="'+t+'" alt="Reference frames"></p><p>Зовнішній оціночний заголовок, однак, ігнорує магнітний північ і підробляється вектором, що відповідає світовій вісі <em>X</em> (який може бути розміщений вільно під час калібрування mocap); кут розвороту буде визначено щодо місцевої вісі <em>X</em>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>При створенні жорсткого тіла в програмному забезпеченні захоплення руху спочатку вирівнюйте робота зі світовою віссю <strong>X</strong>, інакше оцінка розвороту матиме початкове зміщення.</p></div><h2 id="оціночники-стану" tabindex="-1">Оціночники стану <a class="header-anchor" href="#оціночники-стану" aria-label="Permalink to &quot;Оціночники стану&quot;">​</a></h2><p>EKF2 рекомендується для систем з GPS (LPE застаріла, тому її більше не підтримується або не підтримується). Q-Estimator рекомендується, якщо у вас немає GPS, оскільки він працює без магнітометра або барометра.</p><p>Див. <a href="./../advanced/switching_state_estimators.html">Перемикання оціночників стану</a> для отримання додаткової інформації.</p><h3 id="ekf2" tabindex="-1">EKF2 <a class="header-anchor" href="#ekf2" aria-label="Permalink to &quot;EKF2&quot;">​</a></h3><p>ROS-тема для motion cap <code>mocap_pose_estimate</code> для систем mocap та <code>vision_pose_estimate</code> для бачення. Перевірте <a href="http://wiki.ros.org/mavros_extras" target="_blank" rel="noreferrer">mavros_extras</a> для отримання додаткової інформації.</p><h2 id="тестування" tabindex="-1">Тестування <a class="header-anchor" href="#тестування" aria-label="Permalink to &quot;Тестування&quot;">​</a></h2><h2 id="вирішення-проблем" tabindex="-1">Вирішення проблем <a class="header-anchor" href="#вирішення-проблем" aria-label="Permalink to &quot;Вирішення проблем&quot;">​</a></h2>',22),i=[n];function l(c,p,h,m,_,d){return r(),o("div",null,i)}const f=a(s,[["render",l]]);export{k as __pageData,f as default};
