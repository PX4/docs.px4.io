import{_ as e}from"./chunks/px4_fmu_io_functions.CjO4wA90.js";import{_ as a,c as t,o as r,ab as o}from"./chunks/framework.CUflZczI.js";const m=JSON.parse('{"title":"PX4 参考飞行控制器设计","description":"","frontmatter":{},"headers":[],"relativePath":"zh/hardware/reference_design.md","filePath":"zh/hardware/reference_design.md"}'),i={name:"zh/hardware/reference_design.md"},n=o('<h1 id="px4-参考飞行控制器设计" tabindex="-1">PX4 参考飞行控制器设计 <a class="header-anchor" href="#px4-参考飞行控制器设计" aria-label="Permalink to &quot;PX4 参考飞行控制器设计&quot;">​</a></h1><p>PX4 参考设计是飞行控制器的 <a href="./../flight_controller/pixhawk_series.html">Pixhawk 系列 </a>。 该设计于2011年首次发布，现已进入第5 <a href="#reference_design_generations">代</a>（第六代电路板设计正在进行中）。</p><h2 id="二进制兼容性" tabindex="-1">二进制兼容性 <a class="header-anchor" href="#二进制兼容性" aria-label="Permalink to &quot;二进制兼容性&quot;">​</a></h2><p>所有按照特定设计制造的主板预计与二进制兼容（即可以运行相同的固件）。 从2018年起，我们将提供一个二进制兼容性测试套件，使我们能够验证兼容性。</p><p>第1-3代 FMU 设计用于开源硬件，但到了第4-5代只提供 pin 输出引脚和供电规格（原理图由个人开发者生成）。 为了可以更好的确保兼容性，FMUv6 及更新的版本重新提供完整的设计模型。</p><p><a id="reference_design_generations"></a></p><h2 id="参考设计迭代" tabindex="-1">参考设计迭代： <a class="header-anchor" href="#参考设计迭代" aria-label="Permalink to &quot;参考设计迭代：&quot;">​</a></h2><ul><li>FMUv1：开发板 \\（STM32F407, 128 KB RAM, 1MB flash, <a href="https://github.com/PX4/Hardware/tree/master/FMUv1" target="_blank" rel="noreferrer">原理图</a>\\）（PX4 不再支持）</li><li>FMUv2：Pixhawk \\（STM32F427, 168 MHz, 192 KB RAM, 1MB flash, <a href="https://github.com/PX4/Hardware/tree/master/FMUv2" target="_blank" rel="noreferrer">原理图</a>\\）</li><li>FMUv3：2MB Flash 的 Pixhawk 变种 \\（3DR Pixhawk 2 \\（Solo\\）， Hex Pixhawk 2.1，Holybro Pixfalcon，3DR Pixhawk Mini，STM32F427，168 MHz，256 KB RAM，2 MB flash，<a href="https://github.com/PX4/Hardware/tree/master/FMUv3_REV_D" target="_blank" rel="noreferrer">原理图</a>\\）</li><li>FMUv4：Pixracer \\（STM32F427, 168 MHz, 256 KB RAM, 2MB flash, <a href="https://docs.google.com/spreadsheets/d/1raRRouNsveQz8cj-EneWG6iW0dqGfRAifI91I2Sr5E0/edit#gid=1585075739" target="_blank" rel="noreferrer">原理图</a>\\）</li><li>FMUv4 PRO: Drotek Pixhawk 3 PRO (STM32F469, 180 MHz, 384 KB RAM, 2 MB flash, <a href="https://docs.google.com/spreadsheets/d/1raRRouNsveQz8cj-EneWG6iW0dqGfRAifI91I2Sr5E0/edit#gid=1585075739" target="_blank" rel="noreferrer">输出引脚</a>)</li><li>FMUv5: Holybro Pixhawk 4 (STM32F765, 216 MHz, 512 KB RAM, 2 MB flash, <a href="https://docs.google.com/spreadsheets/d/1-n0__BYDedQrc_2NHqBenG1DNepAgnHpSGglke-QQwY/edit#gid=912976165" target="_blank" rel="noreferrer">输出引脚</a>)</li><li>FMUv6: work in progress, final name TBD, variant 6s (STM32H7, 400 MHz, 2 MB RAM, 2 MB flash) and variant 6i (i.MX RT1050, 600 MHz, 512 KB RAM, external flash)</li></ul><h2 id="main-io-功能分解" tabindex="-1">Main/IO 功能分解 <a class="header-anchor" href="#main-io-功能分解" aria-label="Permalink to &quot;Main/IO 功能分解&quot;">​</a></h2><p>下图展示了在Pixhawk系列飞行控制器（这些板被合并进一个单独的物理模块中）中 FMU 和 I/O 板之间总线和功能的职能划分。</p><p><img src="'+e+'" alt="PX4 Main/IO Functional Breakdown"></p><p>一些Pixhawk系列控制器为了减少空间或复杂性，或者更好解决使用问题，没有通过I/O板构建。 In this case the I/O driver is not started.</p><div class="info custom-block"><p class="custom-block-title">Manufacturer flight controller variants without an I/O board are often named as a &quot;diminutive&quot; of a version that includes the I/O board: e.g. <em>Pixhawk 4</em> <strong>Mini</strong><em>, _CUAV v5 <strong>nano</strong></em>.</p></div><p>Build targets that must run on flight controllers with an I/O board map the FMU outputs to <code>AUX</code> and the I/0 outputs to <code>MAIN</code> (see diagram above). If the target is run on hardware where I/O board is not present or has been disabled, the PWM MAIN outputs will not be present. You might see this, for example, by running <code>px4_fmu-v5_default</code> on <a href="./../flight_controller/pixhawk4.html">Pixhawk 4</a> (with IO) and <a href="./../flight_controller/pixhawk4_mini.html">Pixhawk 4 Mini</a> (without I/O).</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>On <a href="./../flight_controller/pixhawk4_mini.html">Pixhawk 4 Mini</a> this results in a mismatch between the <code>MAIN</code> label screenprinted on the flight controller and the <code>AUX</code> bus shown during <a href="./../config/actuators.html">Actuator Configuration</a>. ::: info that if a build target is only ever intended to run on a flight controller that does not have an I/0 board, then the FMU outputs are mapped to <code>MAIN</code> (for example, the <code>px4_fmu-v4_default</code> target for <a href="./../flight_controller/pixracer.html">Pixracer</a>).</p><p>PX4 PWM outputs are mapped to either <code>MAIN</code> or <code>AUX</code> ports in <a href="./../config/actuators.html">Actuator Configuration</a>.</p></div>',15),h=[n];function l(s,d,c,f,p,u){return r(),t("div",null,h)}const g=a(i,[["render",l]]);export{m as __pageData,g as default};
