import{_ as e,a,b as i,c as o,d as n}from"./chunks/land_and_release_package_delivery_mission_example.Bc_xceze.js";import{_ as t,c as s,o as r,ab as l}from"./chunks/framework.CUflZczI.js";const v=JSON.parse('{"title":"Package Delivery Missions","description":"","frontmatter":{},"headers":[],"relativePath":"zh/flying/package_delivery_mission.md","filePath":"zh/flying/package_delivery_mission.md"}'),d={name:"zh/flying/package_delivery_mission.md"},p=l('<h1 id="package-delivery-missions" tabindex="-1">Package Delivery Missions <a class="header-anchor" href="#package-delivery-missions" aria-label="Permalink to &quot;Package Delivery Missions&quot;">​</a></h1><p>A package delivery mission allows users to plan and execute cargo delivery using a <a href="./../peripherals/gripper.html">gripper</a>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This feature was added in PX4 v1.14 with support for Gripper (only). Package delivery missions will be extended to support other cargo release hardware in future, including winches.</p></div><h2 id="delivery-mechanism-configuration" tabindex="-1">Delivery Mechanism Configuration <a class="header-anchor" href="#delivery-mechanism-configuration" aria-label="Permalink to &quot;Delivery Mechanism Configuration&quot;">​</a></h2><p>Package delivery missions require some configuration, which must be done before a mission can be planned and executed.</p><p>The configuration is largely hardware-specific, and is hence covered in the setup page for each type of package delivery hardware:</p><ul><li><a href="./../peripherals/gripper.html#package-delivery-configuration">Gripper &gt; Package Delivery Configuration</a></li></ul><h2 id="mission-planning" tabindex="-1">Mission Planning <a class="header-anchor" href="#mission-planning" aria-label="Permalink to &quot;Mission Planning&quot;">​</a></h2><p>A package delivery mission is planned in much the same as any other <a href="./../flying/missions.html">waypoint mission</a>, with mission start, takeoff waypoint, various path waypoints, and possibly a return waypoint. The only difference is that a package delivery mission must include a mission item that indicates whether the package should be released on the ground (<code>Land</code>) or in-air (<code>Waypoint</code>), followed by another mission item to deploy the package (<code>Gripper Mechanism</code>).</p><p>Whether or not you <code>Land</code> depends on whether the package can safely be deployed while flying, and if the vehicle is capable of landing at the deployment location. Since a gripper cannot lower packages safely, multicopter and VTOL vehicles will often land to deploy packages when using a gripper.</p><p>After the deployment device <a href="#package-release-feedback">indicates completion</a>, the vehicle will proceed to the next waypoint. Note that if landed, the next mission item after deployment should be another <code>Waypoint</code> or a <code>Takeoff</code> mission item (<a href="#rtl-waypoint-for-package-delivery-with-landing">it must not be a <code>RETURN</code></a>.)</p><h2 id="creating-a-package-delivery-mission" tabindex="-1">Creating a Package Delivery Mission <a class="header-anchor" href="#creating-a-package-delivery-mission" aria-label="Permalink to &quot;Creating a Package Delivery Mission&quot;">​</a></h2><p>To create a package delivery mission (with a Gripper):</p><ol><li><p>Create a normal mission with a <code>Takeoff</code> mission item, and additional waypoints for your required flight path.</p></li><li><p>Add a waypoint on the map for where you&#39;d like to release the package.</p><ul><li><p>To drop the package while flying set an appropriate altitude for the waypoint (and ensure the waypoint is at a safe location to drop the package).</p></li><li><p>If you&#39;d like to land the vehicle to make the delivery you will need to change the <code>Waypoint</code> to a <code>Land</code> mission item. Do this by selecting the mission item heading, then selecting <code>Land</code> in the popup dialog.</p><p><img src="'+e+'" alt="Waypoint to Land mission item"></p></li></ul></li><li><p>Add a waypoint on the map (anywhere) for the gripper release. To change this to a <code>Gripper Mechanism</code> select the &quot;Waypoint&quot; heading, and in the popup changing the group to &quot;Advanced&quot;, then selecting <code>Gripper Mechanism</code>.</p><p><img src="'+a+'" alt="Action waypoint"></p></li><li><p>Configure the action for the gripper in the editor.</p><p><img src="'+i+'" alt="Gripper action setting"></p><ul><li>Set it to &quot;Release&quot; in order to release the package.</li><li>The gripper ID does not need to be set for now.</li></ul></li><li><p>Add additional waypoints for the remainder of the path. If you landed, then remember that you must include a waypoint after the <code>Gripper Mechanism</code> before adding a <code>Return</code> mission item.</p></li></ol><h3 id="example-plans" tabindex="-1">Example Plans <a class="header-anchor" href="#example-plans" aria-label="Permalink to &quot;Example Plans&quot;">​</a></h3><h4 id="package-drop-mission" tabindex="-1">Package Drop Mission <a class="header-anchor" href="#package-drop-mission" aria-label="Permalink to &quot;Package Drop Mission&quot;">​</a></h4><p>This shows a mission plan where the vehicle drops the package while flying. The initial mission item is a waypoint and the action is a <code>Gripper Release</code> (shown in mission item list)</p><p><img src="'+o+'" alt="Package drop mission example"></p><p>Note how the altitude graph shows the pre-waypoint as an in-air waypoint, also on the right panel.</p><h4 id="land-and-release-mission" tabindex="-1">Land and Release Mission <a class="header-anchor" href="#land-and-release-mission" aria-label="Permalink to &quot;Land and Release Mission&quot;">​</a></h4><p>This shows a mission plan that where the vehicle lands to deliver the package.</p><p><img src="'+n+'" alt="Land and Release example"></p><p>Note how the altitude graph shows the <code>Land</code> item.</p><h3 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h3><h4 id="rtl-waypoint-for-package-delivery-with-landing" tabindex="-1">RTL Waypoint for Package Delivery with Landing <a class="header-anchor" href="#rtl-waypoint-for-package-delivery-with-landing" aria-label="Permalink to &quot;RTL Waypoint for Package Delivery with Landing&quot;">​</a></h4><p>Do not plan a mission with a delivery like this: <code>LAND</code> &gt; <code>GRIPPER</code> &gt; <code>RETURN TO LAUNCH</code>.</p><p>For safety reasons &quot;Return To Launch&quot; is disabled when vehicle is landed (<a href="https://github.com/PX4/PX4-Autopilot/pull/20044" target="_blank" rel="noreferrer">related issue</a>). So if you land, release the cargo, then have an RTL waypoint, the vehicle will idle at the landing coordinate.</p><h4 id="manual-control-of-gripper-in-missions" tabindex="-1">Manual Control of Gripper in Missions <a class="header-anchor" href="#manual-control-of-gripper-in-missions" aria-label="Permalink to &quot;Manual Control of Gripper in Missions&quot;">​</a></h4><p>A gripper can be <a href="./../peripherals/gripper.html#qgc-joystick-configuration">manually controlled using a joystick button</a> (if configured) in any mode, including during a mission.</p><p>Note however that if you manually command the gripper to close while a package delivery mission is opening the gripper, the gripper won&#39;t be able to finish the open action. The mission will resume after the payload delivery mission item timeout (<a href="./../advanced_config/parameter_reference.html#MIS_PD_TO">MIS_PD_TO</a> expires, even if it has not released the package.</p><h4 id="auto-disarming-is-disabled-in-missions" tabindex="-1">Auto-disarming is Disabled in Missions <a class="header-anchor" href="#auto-disarming-is-disabled-in-missions" aria-label="Permalink to &quot;Auto-disarming is Disabled in Missions&quot;">​</a></h4><p>Auto disarming is disabled by default when in mission. This means that while landed for package delivery the vehicle will still be armed (and potentially dangerous!)</p><h4 id="package-release-feedback" tabindex="-1">Package Release Feedback <a class="header-anchor" href="#package-release-feedback" aria-label="Permalink to &quot;Package Release Feedback&quot;">​</a></h4><p>The mission will proceed after a &quot;package release&quot; mission item (e.g. <code>GRIPPER</code>) completes.</p><p>Grippers and other delivery devices either use sensor feedback or a configurable timeout to indicate completion.</p>',35),h=[p];function c(m,g,u,f,y,k){return r(),s("div",null,h)}const _=t(d,[["render",c]]);export{v as __pageData,_ as default};
