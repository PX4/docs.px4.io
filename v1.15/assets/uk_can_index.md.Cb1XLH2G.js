import{_ as r}from"./chunks/uavcan_wiring.BVwLbHBO.js";import{_ as o,c as t,o as l,ab as n,m as e,a}from"./chunks/framework.CUflZczI.js";const D=JSON.parse('{"title":"CAN","description":"","frontmatter":{},"headers":[],"relativePath":"uk/can/index.md","filePath":"uk/can/index.md"}'),s={name:"uk/can/index.md"},i=n('<h1 id="can" tabindex="-1">CAN <a class="header-anchor" href="#can" aria-label="Permalink to &quot;CAN&quot;">​</a></h1><p><a href="https://en.wikipedia.org/wiki/CAN_bus" target="_blank" rel="noreferrer">Мережа контролера (CAN)</a> – це надійна дротова мережа, яка дозволяє компонентам дрона, таким як контролер польоту, ESC, датчики та інші периферійні пристрої, спілкуватися один з одним. Так як він розроблений, щоб бути демократичним та використовує диференційну сигналізацію, він є дуже надійним навіть на довгих кабельних ділянках (на великих транспортних засобах) і уникне виникнення однієї точки відмови. CAN також дозволяє отримання зворотного зв&#39;язку від периферійних пристроїв та зручне оновлення прошивки через шину.</p><p>PX4 підтримує два програмні протоколи для взаємодії з пристроями CAN:</p><ul><li><a href="./../dronecan/README.html">DroneCAN</a>: PX4 рекомендує це для більшості типових налаштувань. Воно має гарну підтримку в PX4, є вже досить зрілим продуктом з широкою підтримкою периферійних пристроїв та багаторічними тестами.</li><li><a href="https://opencyphal.org" target="_blank" rel="noreferrer">Cyphal</a>: Підтримка PX4 є &quot;процесом розробки&quot;. Cyphal - набагато новіший протокол, який надає більше гнучкості та конфігураційних можливостей, особливо на більших і складніших транспортних засобах. Він ще не отримав значного впровадження.</li></ul><div class="info custom-block"><p class="custom-block-title">Обидва DroneCAN і Cyphal походять з раніше проекту під назвою UAVCAN. У 2022 році проект розділився на дві частини: оригінальна версія UAVCAN (UAVCAN v0) була перейменована в DroneCAN, а нова версія UAVCAN v1 отримала назву Cyphal. Відмінності між цими двома протоколами описані в <a href="https://forum.opencyphal.org/t/cyphal-vs-dronecan/1814" target="_blank" rel="noreferrer">Cyphal vs. DroneCAN</a>.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>У PX4 немає підтримки інших програмних протоколів CAN для безпілотних літальних апаратів, таких як KDECAN (на момент написання).</p></div><h2 id="схема-підключення" tabindex="-1">Схема підключення <a class="header-anchor" href="#схема-підключення" aria-label="Permalink to &quot;Схема підключення&quot;">​</a></h2><p>Проводка для мереж CAN однакова як для DroneCAN, так і для Cyphal/CAN (фактично, для всіх мереж CAN).</p><p>Пристрої з&#39;єднані у ланцюжку в будь-якому порядку. На обох кінцях ланцюга між двома лініями передачі даних слід під’єднати термінальний резистор 120 Ом. Польотні контролери та деякі модулі GNSS мають вбудовані резистори завершення для зручності, тому їх слід розміщувати на протилежних кінцях ланцюга. В іншому випадку, ви можете використовувати резистор завершення, наприклад, <a href="https://shop.zubax.com/products/uavcan-micro-termination-plug?variant=6007985111069" target="_blank" rel="noreferrer">цей від Zubax Robotics</a>, або припаяти його самостійно, якщо у вас є доступ до затискача JST-GH.</p><p>Наступна діаграма показує приклад шини CAN, що з&#39;єднує автопілот з 4 контролерами ESC CAN та GNSS.</p><p><img src="'+r+'" alt="CAN Wiring"></p><p>На схемі не показано електропроводку. Для підтвердження, чи компоненти потребують окремого живлення, чи можуть бути живлені від самої шини CAN, звертайтеся до інструкцій виробника.</p><p>Для отримання додаткової інформації див. <a href="https://kb.zubax.com/pages/viewpage.action?pageId=2195476" target="_blank" rel="noreferrer">пристрій Cyphal/CAN interconnection</a> (kb.zubax.com). Хоча стаття написана з урахуванням протоколу Cyphal, вона однаково стосується апаратного забезпечення DroneCAN і будь-яких інших налаштувань CAN. Для більш складних сценаріїв зверніться до розділу <a href="https://forum.opencyphal.org/t/on-can-bus-topology-and-termination/1685" target="_blank" rel="noreferrer">Про топологію та термінацію шини CAN</a>.</p><h3 id="з-єднання" tabindex="-1">З’єднання <a class="header-anchor" href="#з-єднання" aria-label="Permalink to &quot;З’єднання&quot;">​</a></h3><p>Пристрої CAN, сумісні зі стандартом Pixhawk, використовують 4-контактні роз’єми JST-GH для CAN. Для підключення в ланцюг використовуються два роз&#39;єми: для введення і виведення (крім контролерів польоту та деяких пристроїв GNSS з вбудованим завершенням, які мають лише один роз&#39;єм JST-GH).</p><p>Інші пристрої (які несумісні з Pixhawk) можуть використовувати інші роз&#39;єми. Однак, якщо прошивка пристрою підтримує DroneCAN або Cyphal, його можна використовувати.</p><h3 id="резервування" tabindex="-1">Резервування <a class="header-anchor" href="#резервування" aria-label="Permalink to &quot;Резервування&quot;">​</a></h3><p>DroneCAN та Cyphal/CAN підтримують використання другого (резервного) інтерфейсу CAN. Це абсолютно необов&#39;язково, але збільшує надійність підключення. Всі контролери польоту Pixhawk мають 2 інтерфейси CAN; якщо ваші пристрої також підтримують 2 інтерфейси CAN, рекомендується підключити обидва для збільшення безпеки.</p><h2 id="прошивка" tabindex="-1">Прошивка <a class="header-anchor" href="#прошивка" aria-label="Permalink to &quot;Прошивка&quot;">​</a></h2><p>Периферійні пристрої CAN можуть працювати на власній пропрієтарній або відкритій прошивці (перевірте посібники виробника, щоб підтвердити потрібну настройку).</p><p>PX4 може бути зібраний для запуску як прошивка DroneCAN з відкритим вихідним кодом на підтримуваному апаратному забезпеченні CAN. Для отримання додаткової інформації див. <a href="./../dronecan/px4_cannode_fw.html">PX4 DroneCAN Firmware</a>.</p><h2 id="підтримка-та-конфігурація" tabindex="-1">Підтримка та конфігурація <a class="header-anchor" href="#підтримка-та-конфігурація" aria-label="Permalink to &quot;Підтримка та конфігурація&quot;">​</a></h2><p><a href="./../dronecan/">Налаштування та налаштування DroneCAN</a></p><p><a href="./../dronecan/px4_cannode_fw.html">PX4 DroneCAN Firmware</a></p><h2 id="відео" tabindex="-1">Відео <a class="header-anchor" href="#відео" aria-label="Permalink to &quot;Відео&quot;">​</a></h2><h3 id="dronecan" tabindex="-1">DroneCAN <a class="header-anchor" href="#dronecan" aria-label="Permalink to &quot;DroneCAN&quot;">​</a></h3><p>Вступ до DroneCAN (UAVCANv0) та практичні приклади з установкою в QGroundControl:</p>',27),h=e("p",null,[e("div",{class:"embed-responsive embed-responsive-16by9"},[e("iframe",{class:"embed-responsive-item youtube-player",type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/IZMTq9fTiOM",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""})])],-1),c=e("h3",{id:"cyphal",tabindex:"-1"},[a("Cyphal "),e("a",{class:"header-anchor",href:"#cyphal","aria-label":'Permalink to "Cyphal"'},"​")],-1),p=e("p",null,"UAVCAN v1 для дронів — PX4 Developer Summit Virtual 2020",-1),d=e("p",null,[e("div",{class:"embed-responsive embed-responsive-16by9"},[e("iframe",{class:"embed-responsive-item youtube-player",type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/6Bvtn_g8liU",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""})])],-1),u=e("hr",null,null,-1),m=e("p",null,[a("Початок роботи з використанням UAVCAN v1 із PX4 на платі NXP UAVCAN — Віртуальний саміт розробників PX4 2020 "),e("div",{class:"embed-responsive embed-responsive-16by9"},[e("iframe",{class:"embed-responsive-item youtube-player",type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/MwdHwjaXYKs",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""})])],-1),b=e("hr",null,null,-1),C=e("p",null,"UAVCAN: дуже надійний протокол публікації-підписки для внутрішньоавтомобільних мереж у реальному часі — PX4 Developer Summit Virtual 2019",-1),A=e("p",null,[e("div",{class:"embed-responsive embed-responsive-16by9"},[e("iframe",{class:"embed-responsive-item youtube-player",type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/MBtROivYPik",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""})])],-1),N=[i,h,c,p,d,u,m,b,C,A];function f(_,w,y,k,v,x){return l(),t("div",null,N)}const q=o(s,[["render",f]]);export{D as __pageData,q as default};
