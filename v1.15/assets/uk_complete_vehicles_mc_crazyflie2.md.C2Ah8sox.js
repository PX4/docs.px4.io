import{_ as a,a as t,b as l,c as e,d as r,e as o}from"./chunks/crazyflie_sdcard.0v20hxkZ.js";import{_ as n,a as p,b as h,c,d,e as k}from"./chunks/crazyflie_QGCjoystick_setup.CH0sevBa.js";import{_ as g,E as u,c as m,J as b,m as i,a as y,ab as f,o as C}from"./chunks/framework.CUflZczI.js";const O=JSON.parse('{"title":"Crazyflie 2.0 (Припинено)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/complete_vehicles_mc/crazyflie2.md","filePath":"uk/complete_vehicles_mc/crazyflie2.md"}'),F={name:"uk/complete_vehicles_mc/crazyflie2.md"},v=i("h1",{id:"crazyflie-2-0-припинено",tabindex:"-1"},[y("Crazyflie 2.0 (Припинено) "),i("a",{class:"header-anchor",href:"#crazyflie-2-0-припинено","aria-label":'Permalink to "Crazyflie 2.0 (Припинено)"'},"​")],-1),_=f('<div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><em>Crazyflie 2.0</em> було <a href="./../flight_controller/autopilot_experimental.html">припинено/замінено</a>. Натомість спробуйте <a href="./../complete_vehicles_mc/crazyflie21.html">Bitcraze Crazyflie 2.1</a>!</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><ul><li>PX4 не розробляє цей (або будь-який інший) автопілот. Зверніться до <a href="https://www.bitcraze.io/" target="_blank" rel="noreferrer">виробника</a> щодо підтримки апаратного забезпечення чи питань відповідності вимогам.</li><li>Підтримка PX4 для цього контролера польоту є <a href="./../flight_controller/autopilot_experimental.html">експериментальною</a>.</li></ul></div><p>Лінійка мікро-квадрокоптерів Crazyflie була створена компанією Bitcraze AB. Огляд Crazyflie 2.0 можна <a href="https://www.bitcraze.io/crazyflie-2/" target="_blank" rel="noreferrer">знайти тут</a>.</p><p><img src="'+a+'" alt="Зображення Crazyflie2"></p><h2 id="короткии-опис" tabindex="-1">Короткий опис <a class="header-anchor" href="#короткии-опис" aria-label="Permalink to &quot;Короткий опис&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Основна документація з апаратного забезпечення тут: <a href="https://wiki.bitcraze.io/projects:crazyflie2:index" target="_blank" rel="noreferrer">https://wiki.bitcraze.io/projects:crazyflie2:index</a></p></div><ul><li>Основний System-on-Chip: STM32F405RG <ul><li>CPU: 168 МГц ARM Cortex M4 з одноточним FPU</li><li>RAM: 192 KB SRAM</li></ul></li><li>nRF51822 радіо та керування живленням MCU</li><li>MPU9250 Акселератор / Гіроскоп / Магнит</li><li>Барометр LPS25H</li></ul><h2 id="де-придбати" tabindex="-1">Де придбати <a class="header-anchor" href="#де-придбати" aria-label="Permalink to &quot;Де придбати&quot;">​</a></h2><ul><li><a href="https://store.bitcraze.io/collections/kits/products/crazyflie-2-0" target="_blank" rel="noreferrer">Crazyflie 2.0</a>.</li><li><a href="https://store.bitcraze.io/collections/kits/products/crazyradio-pa" target="_blank" rel="noreferrer">Crazyradio PA 2.4 GHz USB dongle</a>: використовується для бездротового зв&#39;язку між <em>QGroundControl</em> та Crazyflie 2.0.</li><li><a href="https://store.bitcraze.io/collections/decks/products/breakout-deck" target="_blank" rel="noreferrer">Breakout deck</a>: плата розширення для підключення нових периферійних пристроїв.</li><li><a href="https://store.bitcraze.io/collections/decks/products/flow-deck" target="_blank" rel="noreferrer">Дека потоку</a>: містить оптичний сенсор потоку для вимірювання рухів землі та датчик відстані для вимірювання відстані до землі. Це буде корисно для точного контролю висоти та положення.</li><li><a href="https://store.bitcraze.io/collections/decks/products/z-ranger-deck" target="_blank" rel="noreferrer">Deck Z-ranger</a> має той самий датчик відстані, як і Deck Flow, щоб виміряти відстань до землі. Це буде корисно для точного контролю висоти.</li><li><a href="https://store.bitcraze.io/collections/decks/products/sd-card-deck" target="_blank" rel="noreferrer">Набір SD-картки</a>: використовується для швидкого внутрішнього журналювання на карту micro SD.</li><li><a href="https://support.logi.com/hc/en-us/articles/360024326793--Getting-Started-Gamepad-F310" target="_blank" rel="noreferrer">Джойстик Logitech</a>.</li></ul><h2 id="прошивка-px4" tabindex="-1">Прошивка PX4 <a class="header-anchor" href="#прошивка-px4" aria-label="Permalink to &quot;Прошивка PX4&quot;">​</a></h2><p>Після налаштування середовища розробки PX4 слідкуйте цим крокам, щоб встановити автопілот PX4 на Crazyflie 2.0:</p><ol><li><p>Завантажте вихідний код завантажувача PX4:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/PX4/Bootloader.git</span></span></code></pre></div></li><li><p>Перейдіть до верхньої директорії вихідного коду та скомпілюйте його за допомогою:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crazyflie_bl</span></span></code></pre></div></li><li><p>Поставте Crazyflie 2.0 у режим DFU, виконавши ці кроки:</p><ul><li>Спочатку переконайтеся, що він знеструмлений.</li><li>Утримуйте кнопку скидання (див. малюнок нижче...). <img src="'+n+`" alt="Crazyflie2 Reset Button"></li><li>Підключіть до USB-порту комп&#39;ютера.</li><li>Через секунду синій світлодіод повинен почати блимати, а через 5 секунд повинен почати блимати швидше.</li><li>Відпустіть кнопку.</li></ul></li><li><p>Встановіть <em>dfu-util</em>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dfu-util</span></span></code></pre></div></li><li><p>Виконайте прошивку завантажувальника за допомогою <em>dfu-util</em> та від&#39;єднайте Crazyflie 2.0, коли це зроблено:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dfu-util</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0483:df11</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0x08000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./build/crazyflie_bl/crazyflie_bl.bin</span></span></code></pre></div><p>Коли увімкнено Crazyflie 2.0, жовтий світлодіод повинен мигати.</p></li><li><p>Завантажте вихідний код завантажувача автопілоту PX4:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/PX4/PX4-Autopilot.git</span></span></code></pre></div></li><li><p>Перейдіть до верхньої директорії вихідного коду та скомпілюйте його за допомогою:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitcraze_crazyflie_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload</span></span></code></pre></div></li><li><p>Коли вас попросять підключити пристрій, підключіть Crazyflie 2.0. Жовтий світлодіод повинен почати блимати, що вказує на режим завантажувача. Потім червоний світлодіод повинен увімкнутися, що вказує на те, що процес мигання розпочався.</p></li><li><p>Очікування завершення.</p></li><li><p>Готово! Калібруйте сенсори за допомогою <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/setup_view/sensors.html" target="_blank" rel="noreferrer">QGroundControl</a>.</p></li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If QGroundControl does not connect with the vehicle, ensure that in <a href="https://github.com/PX4/PX4-Autopilot/blob/release/1.15/boards/bitcraze/crazyflie/nuttx-config/nsh/defconfig" target="_blank" rel="noreferrer">nuttx-config</a> for crazyflie <code># CONFIG_DEV_LOWCONSOLE is not set</code> is replaced by <code>CONFIG_DEV_LOWCONSOLE=y</code>. This should be done using <em>menuconfig</em>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitcraze_crazyflie_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> menuconfig</span></span></code></pre></div><p>або <em>qconfig</em> (Перевірте <em>Low-level console support</em> в розділі <em>Serial Driver Support</em> у GUI):</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitcraze_crazyflie_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> qconfig</span></span></code></pre></div></div><h2 id="інструкціі-з-налаштування-бездротового-з-єднання" tabindex="-1">Інструкції з налаштування бездротового з&#39;єднання <a class="header-anchor" href="#інструкціі-з-налаштування-бездротового-з-єднання" aria-label="Permalink to &quot;Інструкції з налаштування бездротового з&#39;єднання&quot;">​</a></h2><p>Модуль nRF на борту дозволяє підключатися до плати через Bluetooth або через пропрієтарний протокол Nordic ESB на частоті 2,4 ГГц.</p><ul><li>Рекомендується <a href="https://www.bitcraze.io/crazyradio-pa/" target="_blank" rel="noreferrer">Crazyradio PA</a>.</li><li>Щоб одразу летіти на Crazyflie 2.0, додаток для смартфона Crazyflie підтримується через Bluetooth.</li></ul><p>Використання офіційного додатка <strong>Crazyflie для телефону</strong>:</p><ul><li>Підключіться через Bluetooth.</li><li>Змініть режим у налаштуваннях на 1 або 2.</li><li>Відкалібруйте через QGroundControl.</li></ul><p>Підключення через <strong>MAVLink</strong>:</p><ul><li><p>Використовуйте Crazyradio PA разом із сумісним GCS.</p></li><li><p>Завантажте вихідний код <em>crazyflie-lib-python</em>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/bitcraze/crazyflie-lib-python.git</span></span></code></pre></div></li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Ми будемо використовувати <a href="https://github.com/bitcraze/crazyflie-lib-python/blob/master/examples/cfbridge.py" target="_blank" rel="noreferrer">cfbridge.py</a> для налаштування бездротового зв&#39;язку MAVlink між Crazyflie 2.0 (прошитий PX4) та QGroundControl. <em>Cfbridge</em> дозволяє QGroundControl комунікувати з crazyradio PA. Цей <a href="https://github.com/dennisss/cfbridge" target="_blank" rel="noreferrer">базований на C cfbridge</a> наразі має проблеми з втратою даних, тому ми вирішили використовувати <strong>cfbridge.py</strong>.</p></div><ul><li><p>Переконайтеся, що ви налаштували дозволи udev для використання USB радіо. Для цього виконайте наступні кроки <a href="https://www.bitcraze.io/documentation/repository/crazyflie-lib-python/master/installation/usb_permissions/" target="_blank" rel="noreferrer">тут</a> та <strong>перезапустіть</strong> ваш комп&#39;ютер.</p></li><li><p>Підключіть Crazyradio PA через USB.</p></li><li><p>Побудуйте <a href="https://virtualenv.pypa.io/en/latest/" target="_blank" rel="noreferrer">віртуальне середовище (локальне середовище Python)</a> залежностей в пакеті, використовуючи наступний метод:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tox</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --user</span></span></code></pre></div></li><li><p>Перейдіть до папки crazyflie-lib-python та введіть:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span></span></code></pre></div></li><li><p>Активуйте віртуальне середовище:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv-cflib/bin/activate</span></span></code></pre></div></li><li><p>Встановіть необхідні залежності:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --user</span></span></code></pre></div></li></ul><p>Щоб підключити Crazyflie 2.0 з crazyradio, <strong>запустіть cfbridge</strong> за допомогою цих кроків:</p><ul><li><p>Вимкніть та увімкніть Crazyflie 2.0 та зачекайте, поки він завантажиться.</p></li><li><p>Підключіть радіопристрій Crazyflie через USB.</p></li><li><p>Перейдіть до папки crazyflie-lib-python.</p></li><li><p>Активуйте середовище:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv-cflib/bin/activate</span></span></code></pre></div></li><li><p>Перейдіть до папки прикладів:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> examples</span></span></code></pre></div></li><li><p>Запустіть cfbridge:</p></li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cfbridge.py</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p><em>Cfbridge</em> за замовчуванням намагається ініціювати комунікацію радіоканалу на каналі 80 та з адресою crazyflie 0xE7E7E7E7E7. Якщо ви використовуєте <a href="https://github.com/dennisss/cfbridge/blob/master/index.md#advanced-swarming" target="_blank" rel="noreferrer">кілька crazyflies та/або crazyradios</a> в одній кімнаті і хочете використовувати різні канали та/або адреси для кожного, спочатку підключіть crazyflie до QGroundControl через USB-кабель і змініть параметри syslink (канал, адреса) в QGroundControl. Після цього запустіть cfbridge, надаючи той самий канал та адресу як перший та другий аргументи відповідно, наприклад: <code>python cfbridge.py 90 0x0202020202</code></p></div><ul><li>Відкрийте QGroundControl.</li><li>Після використання <em>cfbridge</em> ви можете вимкнути віртуальне середовище, якщо ви його активували, натиснувши <code>CTRL+z</code>. Більшість часу, запуск <em>cfbridge</em> знову з того ж терміналу не підключається до crazyflie, це можна вирішити, закривши термінал і знову запустивши <em>cfbridge</em> в новому терміналі.</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you change any driver in <a href="https://github.com/bitcraze/crazyflie-lib-python" target="_blank" rel="noreferrer">crazyflie-lib-python</a> or if launching <em>cfbridge</em> in a new terminal does not find crazyflie, you can try navigating to the crazyflie-lib-python folder and run the script below to rebuild cflib.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span></span></code></pre></div></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Для використання джойстика встановіть <code>COM_RC_IN_MODE</code> в QGroundControl на &quot;Joystick/No RC Checks&quot;. Калібруйте джойстик та встановіть частоту повідомлень джойстика в QGroundControl на будь-яке значення від 5 до 14 Гц (рекомендовано 10 Гц). Щоб мати можливість встановити частоту, потрібно ввімкнути розширену опцію. Це швидкість, з якою команди джойстика відправляються з QGroundControl до Crazyflie 2.0 (для цього вам потрібно слідувати інструкціям <a href="https://github.com/mavlink/qgroundcontrol" target="_blank" rel="noreferrer">тут</a>, щоб отримати останній вихідний код QGroundControl (master) і скомпілювати його).</p></div><p><img src="`+t+'" alt=""></p><h2 id="налаштування-програмного-забезпечення" tabindex="-1">Налаштування програмного забезпечення <a class="header-anchor" href="#налаштування-програмного-забезпечення" aria-label="Permalink to &quot;Налаштування програмного забезпечення&quot;">​</a></h2><p>Crazyflie 2.0 може літати з точним керуванням у режимі <a href="./../flight_modes_mc/manual_stabilized.html">Стабілізований режим</a>, режимі <a href="./../flight_modes_mc/altitude.html">Висотний режим</a> та режимі <a href="./../flight_modes_mc/position.html">Позиційний режим</a>.</p><ul><li>Для польоту в режимі <em>Altitude</em> вам знадобиться <a href="https://store.bitcraze.io/collections/decks/products/z-ranger-deck" target="_blank" rel="noreferrer">Z-ranger deck</a>. Якщо ви також хочете літати в режимі <em>Position</em>, рекомендується придбати <a href="https://store.bitcraze.io/collections/decks/products/flow-deck" target="_blank" rel="noreferrer">Flow deck</a>, який також має вбудований сенсор Z-ranger.</li><li>Покладений барометр дуже чутливий до будь-яких зовнішніх вітрових порушень, включаючи ті, які створюються Crazyflie власними гвинтами. Отже, ми відокремили барометр за допомогою шматка піни, а потім встановили датчик відстані зверху, як показано нижче:</li></ul><p><img src="'+l+'" alt="Барометр Crazyflie"></p><p><img src="'+e+'" alt="Піна для барометра Crazyflie"></p><p><img src="'+r+'" alt="Оптичний потік Crazyflie"></p><p>Для реєстрації деталей польоту ви можете встановити наверху Crazyflie карту SD, як показано нижче:</p><p><img src="'+o+'" alt="Crazyflie SDCard"></p><p>Потім вам потрібно приклеїти батарею зверху до покриття карти SD за допомогою двостороннього скотчу:</p><p><img src="'+e+'" alt="Налаштування батареї Crazyflie"></p><h2 id="контроль-висоти" tabindex="-1">Контроль висоти <a class="header-anchor" href="#контроль-висоти" aria-label="Permalink to &quot;Контроль висоти&quot;">​</a></h2><p>Crazyflie може літати в режимі <em>Altitude</em>, якщо ви використовуєте <a href="https://store.bitcraze.io/collections/decks/products/z-ranger-deck" target="_blank" rel="noreferrer">Z-ranger deck</a>. Згідно з технічною характеристикою, максимальна висота (над землею), яку може відчути дальномер, становить 2 м. Проте, коли це перевірялося на темних поверхнях, це значення зменшується до 0.5 м. На світлій підлозі він піднімається до максиму 1.3 м. Це означає, що ви не можете утримувати висоти вище цієї величини у режимах польоту <em>Altitude</em> або <em>Position</em>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Якщо висота Crazyflie 2.0 зсувається при команді середнього газу в <em>Altitude mode</em> або <em>Position mode</em>, спочатку спробуйте перезавантажити дрон. Якщо це не виправляє проблему, перекалібруйте акселерометр та магніт (компас).\\</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Оскільки бортовий барометр дуже вразливий до вітрових турбулентностей, створених власними пропелерами Crazyflie, ви не можете покладатися на нього для збереження висоти.</p></div><h2 id="керування-позицією" tabindex="-1">Керування позицією <a class="header-anchor" href="#керування-позицією" aria-label="Permalink to &quot;Керування позицією&quot;">​</a></h2><p>З <a href="https://store.bitcraze.io/collections/decks/products/flow-deck" target="_blank" rel="noreferrer">Flow deck</a> ви можете літати на Crazyflie 2.0 в <em>Position mode</em>. На відміну від <a href="./../sensor/px4flow.html">PX4FLOW</a>, плата потоку не містить гіроскоп, тому вбудований гіроскоп використовується для об&#39;єднання потоку з метою знаходження місцевих оцінок позиції. Крім того, палуба потоку використовує ту саму шину SPI, що й палуба SD-карти, тому ведення журналу на високій швидкості на SD-картці не рекомендується під час польоту у режимі <em>Position mode</em>.</p><h2 id="використання-пульта-дистанціиного-керування-frsky-taranis-як-джоистика" tabindex="-1">Використання пульта дистанційного керування FrSky Taranis як джойстика <a class="header-anchor" href="#використання-пульта-дистанціиного-керування-frsky-taranis-як-джоистика" aria-label="Permalink to &quot;Використання пульта дистанційного керування FrSky Taranis як джойстика&quot;">​</a></h2><p>Якщо у вас вже є пульт дистанційного керування Taranis і ви хочете використовувати його як контролер, його можна налаштувати як USB джойстик:</p><ul><li><p>Створити нову модель у Taranis.</p><p><img src="'+p+'" alt="Taranis - нова модель"></p></li><li><p>На сторінці меню <em>MODEL SETUP</em> вимикайте обидва внутрішні і зовнішні TX модулі.</p><p><img src="'+h+'" alt="Taranis - налаштування моделі"></p></li><li><p>На сторінці меню <em>OUTPUTS</em> (також називаній сторінкою “SERVOS” у деяких передавачах Taranis) інвертуйте Throttle (CH1) та Aileron (CH3).</p><p><img src="'+c+'" alt="Taranis - виходи"></p></li></ul><p>Для використання перемикачів Taranis для озброєння/роззброєння та перемикання між різними режимами польоту:</p><ul><li><p>На сторінці меню <em>MIXER</em> в Taranis UI ви можете призначити перемикачі для будь-якого каналу в діапазоні каналів 9-16, які відповідають кнопкам 0-7 у налаштуванні джойстика QGroundControl. Наприклад, перемикач Taranis &quot;SD&quot; може бути встановлений на канал 9 в інтерфейсі Taranis UI:</p><p><img src="'+d+'" alt="Налаштування перемикача Taranis"></p></li><li><p>Підключіть Taranis до ПК за допомогою USB-кабелю та відкрийте QGroundControl.</p></li><li><p>У налаштуваннях джойстика QGroundControl ви можете побачити, як кнопки стають жовтими, коли ви їх увімкнете. Наприклад, канал 9 в Taranis відповідає кнопці 0 в налаштуванні джойстика QGroundControl. Ви можете призначити будь-який режим для цієї кнопки, наприклад, режим <em>Altitude</em>. Тепер, коли ви опускаєте перемикач &quot;SD&quot;, режим польоту зміниться на <em>Altitude</em>.</p><p><img src="'+k+'" alt="Налаштування джойстика"></p></li></ul><h3 id="ros" tabindex="-1">ROS <a class="header-anchor" href="#ros" aria-label="Permalink to &quot;ROS&quot;">​</a></h3><p>Для підключення до Crazyflie 2.0 через MAVROS:</p><ul><li><p>Запустіть <em>cfbridge</em> за допомогою вищезазначених інструкцій.</p></li><li><p>Змінити порт UDP, на який прослуховує QGroundControl:</p><ul><li>У QGroundControl перейдіть до <strong>Налаштувань додатка &gt; Загальні</strong> і знять позначки з усіх полів під <em>Autoconnect to the following devices</em>.</li><li>Додайте в <strong>Comm Links</strong> посилання типу <em>UDP</em>, встановіть параметр <em>Automatically Connect on Start</em>, змініть <em>Listening Port</em> на 14557, додайте Цільові хости: 127.0.0.1, а потім натисніть <strong>OK</strong>.</li></ul></li><li><p>Переконайтеся, що встановлено <a href="https://github.com/mavlink/mavros/tree/master/mavros#installation" target="_blank" rel="noreferrer">MAVROS</a>.</p></li><li><p>Запустіть MAVROS за допомогою команди:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">roslaunch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mavros</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4.launch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fcu_url:=&quot;udp://:14550@127.0.0.1:14551&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcs_url:=&quot;udp://@127.0.0.1:14557&quot;</span></span></code></pre></div></li><li><p>Перезапустіть QGroundControl, якщо він не підключається.</p></li></ul><h2 id="політ" tabindex="-1">Політ <a class="header-anchor" href="#політ" aria-label="Permalink to &quot;Політ&quot;">​</a></h2>',55),z=i("p",null,[i("div",{class:"embed-responsive embed-responsive-16by9"},[i("iframe",{class:"embed-responsive-item youtube-player",type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/2Bcy3k1h5uc",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""})])],-1);function B(E,P,S,w,q,x){const s=u("Badge");return C(),m("div",null,[v,b(s,{type:"info",text:"Discontinued"}),_,z])}const D=g(F,[["render",B]]);export{O as __pageData,D as default};
