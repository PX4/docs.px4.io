import{_ as e,a,b as l,c as r,d as t,e as i,f as o,g as s,h as n}from"./chunks/pullup.D2FTR9Xx.js";import{_ as p,c as h,o as c,ab as d}from"./chunks/framework.CUflZczI.js";const y=JSON.parse('{"title":"Omnibus F4 SD","description":"","frontmatter":{},"headers":[],"relativePath":"uk/flight_controller/omnibus_f4_sd.md","filePath":"uk/flight_controller/omnibus_f4_sd.md"}'),m={name:"uk/flight_controller/omnibus_f4_sd.md"},b=d('<h1 id="omnibus-f4-sd" tabindex="-1">Omnibus F4 SD <a class="header-anchor" href="#omnibus-f4-sd" aria-label="Permalink to &quot;Omnibus F4 SD&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Цей політний контролер був <a href="./../flight_controller/autopilot_experimental.html">знятий з виробництва</a> і більше не продається комерційно.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>PX4 не виробляє цей (чи будь-який інший) автопілот. Звертайтесь до виробника з питань щодо підтримки або відповідності.</p></div><p><em>Omnibus F4 SD</em> - це плата контролера, розроблена для гонщиків. На відміну від звичайної гоночної дошки, вона має деякі додаткові функції, такі як SD-карта та швидший процесор.</p><img src="'+e+'" width="400px" title="Omnibus F4 SD"><p>Ось основні відмінності в порівнянні з <a href="./../flight_controller/pixracer.html">Pixracer</a>:</p><ul><li>Нижча ціна</li><li>Менше портів вводу/виводу (хоча все ще можна підключити GPS або датчик потоку, наприклад)</li><li>Для зовнішнього GPS потрібен зовнішній підтягувальний резистор на шині I2C, див. <a href="#i2c">I2C</a> нижче.</li><li>Менше ОЗП (192 КБ проти 256 КБ) та FLASH (1 МБ проти 2 МБ)</li><li>Ті ж розміри плати, що й у <em>Pixracer</em>, але трохи менший форм-фактор (тому що в неї менше роз&#39;ємів)</li><li>Інтегрований OSD (ще не реалізований у програмному забезпеченні)</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Усі звичайні функції PX4 все ще можна використовувати для вашого гонщика!</p></div><div class="info custom-block"><p class="custom-block-title">Цей польотний контролер <a href="./../flight_controller/autopilot_manufacturer_supported.html">підтримується виробником</a>.</p></div><h2 id="основні-характеристики" tabindex="-1">Основні характеристики <a class="header-anchor" href="#основні-характеристики" aria-label="Permalink to &quot;Основні характеристики&quot;">​</a></h2><ul><li>Основний System-on-Chip: <a href="https://www.st.com/en/microcontrollers/stm32f405rg.html" target="_blank" rel="noreferrer">STM32F405RGT6</a><ul><li>CPU: 168 МГц ARM Cortex M4 з одноточним FPU</li><li>RAM: 192 KB SRAM</li><li>FLASH: 1 МБ</li></ul></li><li>Стандартний гоночний форм-фактор: 36x36 мм зі стандартним розміром отворів 30,5 мм</li><li>MPU6000 Акселератор / Гіроскоп</li><li>BMP280 Baro (встановлений не на всі плати)</li><li>microSD (логування)</li><li>Futaba S.BUS і S.BUS2 / Spektrum DSM2 і DSMX / Graupner SUMD / PPM input / Yuneec ST24</li><li>OneShot PWM (налаштовується)</li><li>Вбудований датчик струму</li><li>Вбудований чіп OSD (AB7456 через SPI)</li></ul><h2 id="де-придбати" tabindex="-1">Де придбати <a class="header-anchor" href="#де-придбати" aria-label="Permalink to &quot;Де придбати&quot;">​</a></h2><p>Дошка виробляється різними вендорами, з деякими варіаціями (наприклад, з барометром або без нього).</p><div class="tip custom-block"><p class="custom-block-title">PX4 сумісний з платами, які підтримують таргет Betaflight OMNIBUSF4SD (якщо на сторінці продукту вказано <em>OMNIBUSF4SD</em>, то плата повинна працювати з PX4).</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Будь-яка похідна з міткою Omnibus F4 (наприклад, клон) також повинна працювати. Однак розподіл живлення на цих платах має різну якість.</p></div><p>Ось дошки, які були протестовані і відомо, що працюють:</p><ul><li><p><a href="https://www.hobbywing.com/en/products/info.html?id=164" target="_blank" rel="noreferrer">Hobbywing XRotor Flight Controller F4</a></p><div class="info custom-block"><p class="custom-block-title">Ця плата встановлюється на <a href="https://www.hobbywing.com/en/products/info.html?id=116" target="_blank" rel="noreferrer">Hobbywing XRotor Micro 40A 4in1 ESC</a> без пайки. Ця плата ESC також забезпечує живлення для плати Omnibus.</p></div></li></ul><p>:::</p><p>Купуйте у:</p><ul><li><p><a href="https://www.getfpv.com/hobbywing-xrotor-f4-flight-controller-w-osd.html" target="_blank" rel="noreferrer">Hobbywing XRotor F4 Flight Controller w/OSD</a> (getfpv)</p></li><li><p>Original Airbot Omnibus F4 SD</p><p>Купуйте у:</p><ul><li><a href="https://store.myairbot.com/omnibusf4prov3.html" target="_blank" rel="noreferrer">Airbot (китайський виробник)</a></li><li><a href="https://quadsrtf.com/product/flip-32-f4-omnibus-rev-2/" target="_blank" rel="noreferrer">Ready To Fly Quads (США реселлер)</a></li></ul></li></ul><p>Аксесуари в комплекті:</p><ul><li><a href="./../telemetry/esp8266_wifi_module.html">ESP8266 WiFi модуль</a> для телеметрії MAVLink. Потрібно підключити ці контакти: GND, RX, TX, VCC та CH-PD (CH-PD до 3,3В). Швидкість передачі даних становить 921600.</li></ul><h2 id="конектори" tabindex="-1">Конектори <a class="header-anchor" href="#конектори" aria-label="Permalink to &quot;Конектори&quot;">​</a></h2><p>Плати від різних виробників (на основі цього дизайну) можуть мати дуже різні макети. Макети / Silkscreen-и для різних версій показані нижче.</p><h3 id="airbot-omnibus-f4-sd" tabindex="-1">Airbot Omnibus F4 SD <a class="header-anchor" href="#airbot-omnibus-f4-sd" aria-label="Permalink to &quot;Airbot Omnibus F4 SD&quot;">​</a></h3><p>Нижче подані silkscreen-и для Airbot Omnibus F4 SD (V1), що показують як верхню, так і нижню частину.</p><p><img src="'+a+'" alt="Omnibus F4 SD v1 Silkscreen Top"> <img src="'+l+'" alt="Omnibus F4 SD v1 Silkscreen Bottom"></p><h3 id="hobbywing-xrotor-flight-controller-f4" tabindex="-1">Hobbywing XRotor Flight Controller F4 <a class="header-anchor" href="#hobbywing-xrotor-flight-controller-f4" aria-label="Permalink to &quot;Hobbywing XRotor Flight Controller F4&quot;">​</a></h3><p>Нижче наведені silkscreen-и для Hobbywing XRotor Flight Controller F4.</p><p><img src="'+r+'" alt="Hobbywing XRotor Flight Controller F4 Silkscreen"></p><h2 id="розпіновка" tabindex="-1">Розпіновка <a class="header-anchor" href="#розпіновка" aria-label="Permalink to &quot;Розпіновка&quot;">​</a></h2><h3 id="радіоуправління" tabindex="-1">Радіоуправління <a class="header-anchor" href="#радіоуправління" aria-label="Permalink to &quot;Радіоуправління&quot;">​</a></h3><p>RC підключений до одного з наступних портів:</p><ul><li>UART1</li><li>Порт SBUS/PPM (через інвертор, йде до UART1)</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Деякі плати Omnibus F4 мають перемикач, який з&#39;єднує MCU SBUS та PPM з одним роз&#39;ємом для контактів. Встановіть ваш перемикач або припойте перемичку до відповідного контакту MCU перед використанням.</p></div><h3 id="uarts" tabindex="-1">UARTs <a class="header-anchor" href="#uarts" aria-label="Permalink to &quot;UARTs&quot;">​</a></h3><ul><li><p>UART6: Порт GPS</p><ul><li><p>TX: MCU pin PC6</p></li><li><p>RX: MCU pin PC7</p></li><li><p>Airbot Omnibus F4 SD знаходиться на порту J10 (TX6/RX6):</p></li></ul><p><img src="'+t+'" alt="Omnibus F4 SD UART6"></p></li><li><p>UART4</p><ul><li>TX: MCU pin PA0</li><li>RX: MCU pin PA1</li><li>57600 baud</li><li>Це може бути налаштовано як порт <code>TELEM 2</code>.</li><li>Airbot Omnibus F4 SD Pinout: <ul><li>TX: RSSI pin</li><li>RX: PWM out 5</li></ul></li></ul><p><img src="'+i+'" alt="Omnibus F4 SD UART4"></p><p><img src="'+o+'" alt="Omnibus F4 SD UART4 Top"></p></li></ul><h3 id="i2c" tabindex="-1">I2C <a class="header-anchor" href="#i2c" aria-label="Permalink to &quot;I2C&quot;">​</a></h3><p>Є один доступний порт I2C через:</p><ul><li>SCL: Пін MCU PB10 (може мати мітку TX3)</li><li>SDA: пін MCU PB11 (може мати напис RX3)</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Вам знадобляться зовнішні підтяжки на обох сигналах (годинник та дані). Ви можете використовувати 2,2 тис. підтяжок, наприклад, щоб прикріпити зовнішню магнітолу.</p></div><ul><li>Airbot Omnibus F4 SD знаходиться на порту J10 (SCL [clock] / SCA [data]): <img src="'+t+'" title="Omnibus F4 SD UART6"></li></ul><p>Ось приклад імплементації. Я використовував штекер Spektrum, щоб отримати 3,3 В від порту DSM, підключаючи лише 3,3 В + до кожної лінії через резистор 2,2к.</p><p><img src="'+s+'" alt="Omnibus F4 SD Pullup"></p><p><img src="'+n+'" alt="Omnibus F4 SD Pullup Implementation"></p><h2 id="зіставлення-послідовних-портів" tabindex="-1">Зіставлення послідовних портів <a class="header-anchor" href="#зіставлення-послідовних-портів" aria-label="Permalink to &quot;Зіставлення послідовних портів&quot;">​</a></h2><table><thead><tr><th>UART</th><th>Пристрій</th><th>Порт</th></tr></thead><tbody><tr><td>USART1</td><td>/dev/ttyS0</td><td>SerialRX</td></tr><tr><td>USART4</td><td>/dev/ttyS1</td><td>TELEM1</td></tr><tr><td>USART6</td><td>/dev/ttyS2</td><td>GPS</td></tr></tbody></table><h2 id="rc-телеметрія" tabindex="-1">RC Телеметрія <a class="header-anchor" href="#rc-телеметрія" aria-label="Permalink to &quot;RC Телеметрія&quot;">​</a></h2><p>Omnibus підтримує телеметрію до передавача RC за допомогою <a href="./../peripherals/frsky_telemetry.html">FrSky Telemetry</a> або <a href="#crsf_telemetry">CRSF Crossfire Telemetry</a>.</p><p><a id="crsf_telemetry"></a></p><h3 id="телеметрія-crsf-tbs-crossfire-telemetry" tabindex="-1">Телеметрія CRSF (TBS Crossfire Telemetry) <a class="header-anchor" href="#телеметрія-crsf-tbs-crossfire-telemetry" aria-label="Permalink to &quot;Телеметрія CRSF (TBS Crossfire Telemetry)&quot;">​</a></h3><p><a href="./../telemetry/crsf_telemetry.html">TBS CRSF Telemetry</a> може бути використана для передачі телеметричних даних з контролера польоту (положення літака, батареї, режим польоту та GPS-дані) на дистанційну радіостанцію, таку як Taranis.</p><p>Переваги порівняно з телеметрією <a href="./../peripherals/frsky_telemetry.html">FrSky</a>, включають:</p><ul><li>Лише один UART потрібен для RC та телеметрії.</li><li>Протокол CRSF оптимізований для низької затримки.</li><li>150 Гц частота оновлення RC.</li><li>Сигнали неінвертовані, тому не потрібна (зовнішня) логіка інвертора.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Якщо ви використовуєте CRSF Telemetry, вам знадобиться створити власну прошивку PX4. На відміну від цього, телеметрія FrSky може використовувати завчасно побудоване програмне забезпечення.</p></div><p>Для Omnibus ми рекомендуємо <a href="http://team-blacksheep.com/products/prod:crossfire_nano_rx" target="_blank" rel="noreferrer">TBS Crossfire Nano RX</a>, оскільки він спеціально розроблений для малих квадрокоптерів.</p><p>На ручному пульті керування (наприклад, Taranis) вам також знадобиться <a href="http://team-blacksheep.com/shop/cat:rc_transmitters#product_listing" target="_blank" rel="noreferrer">модуль передавача</a>. Це можна підключити ззаду до пульта радіо керування.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Зазначені посилання вище містять документацію для модулів TX/RX.</p></div><h4 id="встановлення" tabindex="-1">Встановлення <a class="header-anchor" href="#встановлення" aria-label="Permalink to &quot;Встановлення&quot;">​</a></h4><p>Підключіть контакти Nano RX та Omnibus, як показано:</p><table><thead><tr><th>Omnibus UART1</th><th>Nano RX</th></tr></thead><tbody><tr><td>TX</td><td>Ch2</td></tr><tr><td>RX</td><td>Ch1</td></tr></tbody></table><p>Наступне оновіть модулі TX/RX для використання протоколу CRSF та налаштуйте телеметрію. Інструкції з цього наведені в <a href="https://www.team-blacksheep.com/tbs-crossfire-manual.pdf" target="_blank" rel="noreferrer">Посібнику TBS Crossfire</a> (шукайте &#39;Налаштування радіо для CRSF&#39;).</p><h4 id="налаштування-crsf-px4" tabindex="-1">Налаштування CRSF PX4 <a class="header-anchor" href="#налаштування-crsf-px4" aria-label="Permalink to &quot;Налаштування CRSF PX4&quot;">​</a></h4><p>Вам потрібно буде створити власну прошивку, щоб використовувати CRSF. Для отримання додаткової інформації див. <a href="./../telemetry/crsf_telemetry.html#px4-configuration">CRSF Telemetry</a>.</p><h2 id="схема" tabindex="-1">Схема <a class="header-anchor" href="#схема" aria-label="Permalink to &quot;Схема&quot;">​</a></h2><p>Схеми надає <a href="https://myairbot.com/" target="_blank" rel="noreferrer">Airbot</a>: <a href="http://bit.ly/obf4pro" target="_blank" rel="noreferrer">OmnibusF4-Pro-Sch.pdf</a>.</p><p><a id="bootloader"></a></p><h2 id="оновлення-завантажувача-px4" tabindex="-1">Оновлення завантажувача PX4 <a class="header-anchor" href="#оновлення-завантажувача-px4" aria-label="Permalink to &quot;Оновлення завантажувача PX4&quot;">​</a></h2><p>Плата поставляється із заздалегідь встановленою <a href="https://github.com/betaflight/betaflight/wiki" target="_blank" rel="noreferrer">Betaflight</a>. Перед встановленням прошивки PX4 необхідно прошити <em>заванажувач PX4</em>. Завантажте завантажувальний бінарний файл <a href="https://github.com/PX4/PX4-user_guide/raw/v1.15/assets/flight_controller/omnibus_f4_sd/omnibusf4sd_bl_d52b70cb39.hex" target="_blank" rel="noreferrer">omnibusf4sd_bl.hex</a> та прочитайте <a href="./../advanced_config/bootloader_update_from_betaflight.html">цю сторінку</a> для інструкцій з прошивки.</p><h2 id="створення-прошивки" tabindex="-1">Створення прошивки <a class="header-anchor" href="#створення-прошивки" aria-label="Permalink to &quot;Створення прошивки&quot;">​</a></h2><p>Щоб <a href="./../dev_setup/building_px4.html">зібрати PX4</a> для цієї цілі:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>make omnibus_f4sd_default</span></span></code></pre></div><h2 id="встановлення-прошивки-px4" tabindex="-1">Встановлення прошивки PX4 <a class="header-anchor" href="#встановлення-прошивки-px4" aria-label="Permalink to &quot;Встановлення прошивки PX4&quot;">​</a></h2><p>Ви можете використовувати або готове вбудоване програмне забезпечення, або власне користувацьке програмне забезпечення.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Якщо ви використовуєте <a href="./../telemetry/crsf_telemetry.html#px4-configuration">CRSF Telemetry</a> у вашій радіосистемі, як описано вище, то вам потрібно використовувати власну прошивку.</p></div><p>Прошивку можна встановити будь-якими звичайними способами:</p><ul><li><p>Джерело для збірки та завантаження</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>make omnibus_f4sd_default upload</span></span></code></pre></div></li><li><p><a href="./../config/firmware.html">Завантажте прошивку</a> за допомогою <em>QGroundControl</em>.</p></li></ul><h2 id="налаштування" tabindex="-1">Налаштування <a class="header-anchor" href="#налаштування" aria-label="Permalink to &quot;Налаштування&quot;">​</a></h2><p>Крім <a href="./../config/">основних налаштувань</a>, важливі наступні параметри:</p><table><thead><tr><th>Параметр</th><th>Налаштування</th></tr></thead><tbody><tr><td><a href="./../advanced_config/parameter_reference.html#SYS_HAS_MAG">SYS_HAS_MAG</a></td><td>Це має бути вимкнено, оскільки у платі немає внутрішнього магніту. Ви можете активувати це, якщо приєднаєте зовнішній магніт.</td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#SYS_HAS_BARO">SYS_HAS_BARO</a></td><td>Вимкніть це, якщо ваша плата не має барометра.</td></tr></tbody></table><h2 id="додаткова-інформація" tabindex="-1">Додаткова інформація <a class="header-anchor" href="#додаткова-інформація" aria-label="Permalink to &quot;Додаткова інформація&quot;">​</a></h2><p><a href="https://blog.dronetrest.com/omnibus-f4-flight-controller-guide/" target="_blank" rel="noreferrer">Ця сторінка</a> надає хороший огляд з контактами та інструкціями щодо налаштування.</p>',82),u=[b];function f(_,S,g,k,P,R){return c(),h("div",null,u)}const T=p(m,[["render",f]]);export{y as __pageData,T as default};
