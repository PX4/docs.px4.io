import{_ as o,a as r,b as t}from"./chunks/qgc_uavcan_settings.BocZ7bFc.js";import{_ as s,c as i,o as l,ab as e,m as a}from"./chunks/framework.CUflZczI.js";const E=JSON.parse('{"title":"Прошивка Sapog ESC","description":"","frontmatter":{},"headers":[],"relativePath":"uk/dronecan/sapog.md","filePath":"uk/dronecan/sapog.md"}'),n={name:"uk/dronecan/sapog.md"},p=e('<h1 id="прошивка-sapog-esc" tabindex="-1">Прошивка Sapog ESC <a class="header-anchor" href="#прошивка-sapog-esc" aria-label="Permalink to &quot;Прошивка Sapog ESC&quot;">​</a></h1><p>Фірмварне <a href="https://github.com/PX4/sapog#px4-sapog" target="_blank" rel="noreferrer">Sapog</a> є передовим відкритим джерелом фірмварного засобу управління бездатчиковими моторами PMSM/BLDC, призначеним для використання в системах приводу електричних безпілотних транспортних засобів.</p><p>Хоча його можна контролювати за допомогою традиційного введення ШІМ, він призначений для роботи через шину CAN за допомогою <a href="./">DroneCAN</a>.</p><h2 id="де-купити" tabindex="-1">Де купити <a class="header-anchor" href="#де-купити" aria-label="Permalink to &quot;Де купити&quot;">​</a></h2><p>Декілька постачальників продають апаратне забезпечення ESC, яке працює на прошивці sapog:</p><ul><li><a href="https://zubax.com/products/orel_20" target="_blank" rel="noreferrer">Zubax Orel 20</a></li><li><a href="https://holybro.com/products/kotleta20" target="_blank" rel="noreferrer">Holybro Kotleta20</a></li></ul><div id="image_container"><div class="image_column"><img src="'+o+'" alt="Orel20 - Top"><br><a href="https://zubax.com/products/orel_20">Zubax Orel 20</a></div><div class="image_column"><img src="'+r+`" alt="Holybro Kotleta20 top"><br><a href="https://holybro.com/products/kotleta20">Holybro Kotleta20</a></div></div><h2 id="встановлення-обладнання" tabindex="-1">Встановлення обладнання <a class="header-anchor" href="#встановлення-обладнання" aria-label="Permalink to &quot;Встановлення обладнання&quot;">​</a></h2><p>ESCs підключені до шини CAN за допомогою стандартного кабелю Pixhawk 4 pin JST GH. Для отримання додаткової інформації, зверніться до інструкцій з <a href="./../can/#wiring">проводки CAN</a>. Порядок ESC не має значення.</p><h2 id="встановлення-прошивки" tabindex="-1">Встановлення прошивки <a class="header-anchor" href="#встановлення-прошивки" aria-label="Permalink to &quot;Встановлення прошивки&quot;">​</a></h2><p>ESCs поставляються з встановленою заздалегідь ​​сбіркою Sapog. Якщо ви хочете оновити:</p><p>Збірка прошивки:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/PX4/sapog</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sapog/firmware</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RELEASE=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span></code></pre></div><p>Це створить файл <code>*.application.bin</code>. в <code>build/</code>. Цей бінарний файл може бути прошитий через автопілот по DroneCAN через завантажувальник sapog. Див. <a href="./#firmware-update">Оновлення програмного забезпечення DroneCAN</a>.</p><p>Звертайтеся до <a href="https://github.com/PX4/sapog" target="_blank" rel="noreferrer">сторінки проекту</a>, щоб дізнатися більше, включаючи як прошивати без використання загрузчика DroneCAN (тобто на ще не програмованому пристрої) або для розробки.</p><h2 id="налаштування-польотного-контролера" tabindex="-1">Налаштування польотного контролера <a class="header-anchor" href="#налаштування-польотного-контролера" aria-label="Permalink to &quot;Налаштування польотного контролера&quot;">​</a></h2><h3 id="увімкнення-dronecan" tabindex="-1">Увімкнення DroneCAN <a class="header-anchor" href="#увімкнення-dronecan" aria-label="Permalink to &quot;Увімкнення DroneCAN&quot;">​</a></h3><p>Підключіть ESC до шини CAN Pixhawk. Увімкніть весь транспортний засіб за допомогою акумулятора або джерела живлення (не лише контролера польоту через USB) та увімкніть драйвер DroneCAN, встановивши параметр <a href="./../advanced_config/parameter_reference.html#UAVCAN_ENABLE">UAVCAN_ENABLE</a> на &#39;3&#39;, щоб увімкнути як динамічне призначення ідентифікатора вузла, так і вивід ESC DroneCAN.</p><h3 id="автоматичне-перерахування-кодів-esc-за-допомогою-qgroundcontrol" tabindex="-1">Автоматичне перерахування кодів ESC за допомогою QGroundControl <a class="header-anchor" href="#автоматичне-перерахування-кодів-esc-за-допомогою-qgroundcontrol" aria-label="Permalink to &quot;Автоматичне перерахування кодів ESC за допомогою QGroundControl&quot;">​</a></h3><p>Цей розділ показує, як перелічити будь-які <a href="https://github.com/PX4/sapog#px4-sapog" target="_blank" rel="noreferrer">Sapog-основані</a> ESCs &quot;автоматично&quot; за допомогою <em>QGroundControl</em>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Ви можете пропустити цей розділ, якщо в вашій настройці є лише один регулятор ESC, оскільки індекс ESC вже встановлений за замовчуванням на нуль.</p></div><p>Для переліку ESC:</p><ol><li><p>Увімкніть пристрій за допомогою батареї й підключіть до <em>QGroundControl</em></p></li><li><p>Перейдіть в <strong>Налаштування транспортного засобу &gt; Енергія</strong> у QGC.</p></li><li><p>Почніть процес автоматичного переліку ESC, натиснувши кнопку <strong>Почати призначення</strong>, як показано на знімку екрану нижче.</p><p><img src="`+t+'" alt="QGC - DroneCAN ESC auto-enumeration"></p><p>Ви почуєте звук, що вказує на те, що керування польотом увійшло в режим переліку ESC.</p></li><li><p>Вручну поверніть кожен двигун у правильному напрямку його обертання (як вказано у <a href="./../airframes/airframe_reference.html">Посилання на корпус </a>), починаючи з першого двигуна й закінчуючи останнім двигуном. Кожного разу, коли ви ввімкнете мотор, ви повинні почути підтвердний сигнал.</p><div class="info custom-block"><p class="custom-block-title">INFO</p></div></li></ol><p>Переконайтеся, що кожен з моторів обертається у правильному напрямку, оскільки ESC автоматично навчиться і запам&#39;ятає напрямок (тобто мотори, які обертаються за годинниковою стрілкою під час звичайної роботи, також повинні обертатися за годинниковою стрілкою під час перелічення). :::</p><ol start="5"><li>Після того, як останній двигун перелічено, звук підтвердження повинен змінитися, щоб показати, що процедура переліку завершена.</li><li>Перезавантажте PX4 та Sapog ESC, щоб застосувати нові ідентифікатори переліку.</li></ol><p>Наступне відео демонструє процес:</p>',26),c=a("p",null,[a("div",{class:"embed-responsive embed-responsive-16by9"},[a("iframe",{class:"embed-responsive-item youtube-player",type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/4nSa8tvpbgQ",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""})])],-1),h=e('<h3 id="ручне-перерахування-esc-за-допомогою-sapog" tabindex="-1">Ручне перерахування ESC за допомогою Sapog <a class="header-anchor" href="#ручне-перерахування-esc-за-допомогою-sapog" aria-label="Permalink to &quot;Ручне перерахування ESC за допомогою Sapog&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Ми рекомендуємо автоматизоване <a href="#automatic-esc-enumeration-using-qgroundcontrol">перерахунок Sapog ESC за допомогою QGroundControl</a>, показаний вище, аніж ручний перерахунок (це простіше та безпечніше).</p></div><p>Ви можете вручну налаштувати індекс ESC та напрямок, використовуючи <a href="https://dronecan.github.io/GUI_Tool/Overview/" target="_blank" rel="noreferrer">DroneCAN GUI Tool</a>. Це надає наступні параметри конфігурації Sapog для кожного переліченого ESC:</p><ul><li><code>esc_index</code></li><li><code>ctl_dir</code></li></ul><div class="info custom-block"><p class="custom-block-title">Див. <a href="https://files.zubax.com/products/io.px4.sapog/Sapog_v2_Reference_Manual.pdf" target="_blank" rel="noreferrer">посібник з посиланням на Sapog</a> для отримання додаткової інформації про параметри.</p></div><h3 id="конфігурація-px4" tabindex="-1">Конфігурація PX4 <a class="header-anchor" href="#конфігурація-px4" aria-label="Permalink to &quot;Конфігурація PX4&quot;">​</a></h3><p>Назначте двигуни на виходи, використовуючи екран конфігурації <a href="./../config/actuators.html#actuator-testing">Acutator</a>.</p><h2 id="вирішення-проблем" tabindex="-1">Вирішення проблем <a class="header-anchor" href="#вирішення-проблем" aria-label="Permalink to &quot;Вирішення проблем&quot;">​</a></h2><p>Див. <a href="./#troubleshooting">Усунення несправностей DroneCAN</a></p><h2 id="детальна-інформація" tabindex="-1">Детальна інформація <a class="header-anchor" href="#детальна-інформація" aria-label="Permalink to &quot;Детальна інформація&quot;">​</a></h2><ul><li><a href="https://github.com/PX4/sapog#px4-sapog" target="_blank" rel="noreferrer">PX4/Sapog</a> (Github)</li><li><a href="https://files.zubax.com/products/io.px4.sapog/Sapog_v2_Reference_Manual.pdf" target="_blank" rel="noreferrer">Довідник з посиланням на Sapog v2</a></li><li><a href="https://kb.zubax.com/display/MAINKB/Using+Sapog-based+ESC+with+PX4" target="_blank" rel="noreferrer">Використання Sapog засноване ESC з PX4</a> (Zubax KB)</li></ul>',11),d=[p,c,h];function u(g,b,m,_,f,k){return l(),i("div",null,d)}const v=s(n,[["render",u]]);export{E as __pageData,v as default};
