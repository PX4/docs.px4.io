import{_ as e}from"./chunks/px4_ethernet_link_config.Dsx2UFZY.js";import{_ as a,c as s,o as t,ab as i}from"./chunks/framework.CUflZczI.js";const _=JSON.parse('{"title":"Налаштування PX4 Ethernet","description":"","frontmatter":{},"headers":[],"relativePath":"uk/advanced_config/ethernet_setup.md","filePath":"uk/advanced_config/ethernet_setup.md"}'),n={name:"uk/advanced_config/ethernet_setup.md"},l=i(`<h1 id="налаштування-px4-ethernet" tabindex="-1">Налаштування PX4 Ethernet <a class="header-anchor" href="#налаштування-px4-ethernet" aria-label="Permalink to &quot;Налаштування PX4 Ethernet&quot;">​</a></h1><p>Підключення через Ethernet надає швидкий, надійний та гнучкий спосіб зв&#39;язку, який може бути альтернативою використанню USB або інших послідовних з&#39;єднань.</p><p>Воно може бути використане для підключення до наземних станцій, супутникових комп&#39;ютерів та інших систем MAVLink. Це особливо рекомендується при підключенні до систем, які «природно» використовують Ethernet, наприклад, IP-радіо.</p><p>Ця тема охоплює:</p><ul><li><a href="#px4-ethernet-setup">PX4 Ethernet Налаштування</a><ul><li><a href="#supported-flight-controllers">Підтримувані контролери польоту</a></li><li><a href="#setting-up-the-ethernet-network">Налаштування мережі Ethernet</a><ul><li><a href="#px4-ethernet-network-setup">Налаштування мережі PX4 Ethernet</a></li><li><a href="#ubuntu-ethernet-network-setup">Налаштування мережі Ubuntu Ethernet</a></li><li><a href="#companion-computer-ethernet-network-setup">Комп’ютер-супутник Налаштування мережі Ethernet</a></li></ul></li><li><a href="#px4-mavlink-serial-port-configuration">Конфігурація послідовного порту PX4 MAVLink</a></li><li><a href="#qgroundcontrol-setup-example">Приклад налаштування QGroundControl</a></li><li><a href="#mavsdk-python-setup-example">Приклад налаштування MAVSDK-Python</a></li><li><a href="#ros-2-setup-example">Приклад встановлення ROS 2</a></li></ul></li></ul><h2 id="підтримувані-контролери-польоту" tabindex="-1">Підтримувані контролери польоту <a class="header-anchor" href="#підтримувані-контролери-польоту" aria-label="Permalink to &quot;Підтримувані контролери польоту&quot;">​</a></h2><p>PX4 підтримує підключення по Ethernet на контролерах польоту <a href="https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-011%20Pixhawk%20Autopilot%20v5X%20Standard.pdf" target="_blank" rel="noreferrer">Pixhawk 5X-standard</a> (і пізніше), які мають порт Ethernet. Це також може бути підтримано на інших платах.</p><p>Підтримувані автопілоти включають:</p><ul><li><a href="./../flight_controller/cuav_pixhawk_v6x.html">CUAV Pixhawk V6X</a></li><li><a href="./../flight_controller/pixhawk5x.html">Holybro Pixhawk 5X</a></li><li><a href="./../flight_controller/pixhawk6x.html">Holybro Pixhawk 6X</a></li></ul><h2 id="налаштування-мережі-ethernet" tabindex="-1">Налаштування мережі Ethernet <a class="header-anchor" href="#налаштування-мережі-ethernet" aria-label="Permalink to &quot;Налаштування мережі Ethernet&quot;">​</a></h2><p>Для підключення систем по Ethernet потрібно налаштувати їх на роботу в одній IP-мережі, щоб кожна система мала унікальну IP-адресу та могла знаходити інші системи. Це можна зробити за допомогою DHCP-сервера для призначення адрес або вручну налаштувавши адреси кожної системи в мережі.</p><p>Немає єдиної «готової» конфігурації, яку ми можемо надати, яка обов’язково працюватиме у вашій локальній мережі. Therefore as an example of the kind of configuration you might do, below we show how to set up the systems on an IP network with static addresses in the range <code>10.41.10.Xxx</code>, where PX4 has a statically allocated address <code>10.41.10.2</code> (PX4-default) and the computer has address <code>10.41.10.1</code>. Якщо ви хочете підключити компаньйонний комп&#39;ютер або іншу систему до мережі і встановити статичну адресу, ви можете використати подібний підхід.</p><p>:::note Немає нічого «особливого» щодо конфігурації мережі (крім можливо інструментів, які використовуються для зміни налаштувань мережі); вона працює майже так само, як будь-яка домашня або корпоративна мережа. Тобто, знання про те, як працюють IP-мережі, є дуже бажаним! :::</p><h3 id="налаштування-мережі-px4-ethernet" tabindex="-1">Налаштування мережі PX4 Ethernet <a class="header-anchor" href="#налаштування-мережі-px4-ethernet" aria-label="Permalink to &quot;Налаштування мережі PX4 Ethernet&quot;">​</a></h3><p>PX4 використовує модуль <a href="./../modules/modules_system.html#netman">netman</a> для застосування та оновлення налаштувань мережі.</p><p>The default configuration first requests an IP address from DHCP, and if that fails will fallback to the default static address <code>10.41.10.2</code>. You can explicitly set any static IP address (including the default address), to bypass the initial DHCP check and make the connection a little faster.</p><p>:::note If you want to use the default static IP address for PX4 you can skip forward to the next section. :::</p><p>Налаштування мережі визначаються у файлі конфігурації <code>/fs/microsd/net.cfg</code> на SD-карті. Це текстовий файл, який визначає кожне налаштування на новому рядку у вигляді пари <code>name=value</code>. Конфігураційний файл може виглядати так:</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DEVICE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=eth0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BOOTPROTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=fallback</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">IPADDR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10.41.10.2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NETMASK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=255.255.255.0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ROUTER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10.41.10.254</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DNS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10.41.10.254</span></span></code></pre></div><p>Де є значення:</p><ul><li><code>DEVICE</code>: Ім&#39;я інтерфейсу. За замовчуванням - <code>eth0</code>.</li><li><code>BOOTPROTO</code>: Протокол отримання IP-адреси PX4. Допустимі значення для proto: <code>dhcp</code>, <code>static</code>, <code>fallback</code> (використовуйте DHCP, але переходьте на статичну адресу після певного часу, якщо DHCP не вдалося)</li><li><code>IPADDR</code>: статична IP-адреса (використовується, якщо BOOTPROTO є <code>статичним</code> або <code>резервним</code>)</li><li><code>NETMASK</code>: Мережна маска</li><li><code>ROUTER</code>: Адреса маршруту за умовчанням.</li><li><code>DNS</code>: Адреса DNS-сервера.</li></ul><p>Щоб налаштувати вищезазначену &quot;прикладну&quot; конфігурацію за допомогою <em>QGroundControl</em>:</p><ol><li><p>Підключіть авіоніку до комп&#39;ютера за допомогою USB-кабелю.</p></li><li><p>Відкрийте <strong>QGroundcontrol &gt; Аналіз інструментів &gt; MAVLink</strong></p></li><li><p>Введіть команди &quot;like&quot; до наведених нижче у <em>Консоль MAVLink</em> (щоб записати значення у файл конфігурації):</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DEVICE=eth0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /fs/microsd/net.cfg</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BOOTPROTO=fallback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /fs/microsd/net.cfg</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> IPADDR=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.41.10.2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /fs/microsd/net.cfg</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NETMASK=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">255.255.255.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/fs/microsd/net.cfg</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ROUTER=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.41.10.254</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/fs/microsd/net.cfg</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DNS=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10.41.10.254</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/fs/microsd/net.cfg</span></span></code></pre></div></li><li><p>Після встановлення конфігурації мережі можна від’єднати кабель USB.</p></li><li><p>Перезавантажте контролер польоту, щоб застосувати налаштування.</p></li></ol><p>Зверніть увагу, що вищевказана настройка надає контролеру польоту адресу в мережі Ethernet. Вам також потрібно <a href="#px4-mavlink-serial-port-configuration">налаштувати порт Ethernet</a> для використання MAVLink.</p><h3 id="налаштування-мережі-ubuntu-ethernet" tabindex="-1">Налаштування мережі Ubuntu Ethernet <a class="header-anchor" href="#налаштування-мережі-ubuntu-ethernet" aria-label="Permalink to &quot;Налаштування мережі Ubuntu Ethernet&quot;">​</a></h3><p>Якщо ви використовуєте Ubuntu для вашої земної станції (або компаньйон-комп&#39;ютера), то ви можете використовувати <a href="https://netplan.io/" target="_blank" rel="noreferrer">netplan</a> для налаштування мережі.</p><p>Нижче ми показуємо, як ви можете записати налаштування у файл конфігурації netplan &quot;<code>/etc/netplan/01-network-manager-all.yaml</code>&quot;, яке буде працювати в тій же мережі, що і налаштування PX4, наведене вище. Зверніть увагу, що в документації з <a href="https://netplan.io/" target="_blank" rel="noreferrer">netplan</a> є багато інших <a href="https://netplan.io/examples/" target="_blank" rel="noreferrer">прикладів</a> та інструкцій.</p><p>Для установки Ubuntu комп&#39;ютера:</p><ol><li><p>У терміналі створіть та відкрийте конфігураційний файл <code>netplan</code>: <code>/etc/netplan/01-network-manager-all.yaml</code>. Нижче ми робимо це за допомогою текстового редактора <em>nano</em>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo nano /etc/netplan/01-network-manager-all.yaml</span></span></code></pre></div></li><li><p>Скопіюйте та вставте наступну конфігураційну інформацію у файл (зверніть увагу: відступи мають значення!):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>network:</span></span>
<span class="line"><span>  version: 2</span></span>
<span class="line"><span>  renderer: NetworkManager</span></span>
<span class="line"><span>  ethernets:</span></span>
<span class="line"><span>      enp2s0:</span></span>
<span class="line"><span>          addresses:</span></span>
<span class="line"><span>              - 10.41.10.1/24</span></span>
<span class="line"><span>          nameservers:</span></span>
<span class="line"><span>              addresses: [10.41.10.1]</span></span>
<span class="line"><span>          routes:</span></span>
<span class="line"><span>              - to: 10.41.10.1</span></span>
<span class="line"><span>                via: 10.41.10.1</span></span></code></pre></div><p>Збережіть і закрийте файл.</p></li><li><p>Застосуйте конфігурацію <em>netplan</em>, введіть наступну команду в термінал Ubuntu.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>sudo netplan apply</span></span></code></pre></div></li></ol><h3 id="комп-ютер-супутник-налаштування-мережі-ethernet" tabindex="-1">Комп’ютер-супутник Налаштування мережі Ethernet <a class="header-anchor" href="#комп-ютер-супутник-налаштування-мережі-ethernet" aria-label="Permalink to &quot;Комп’ютер-супутник Налаштування мережі Ethernet&quot;">​</a></h3><p>Налаштування компаньйонного комп&#39;ютера залежить від операційної системи компаньйонного комп&#39;ютера.</p><p>Операційна система Linux може підтримувати <code>netplan</code>, у такому разі інструкції будуть такі ж, як вище, але з використанням унікальної IP-адреси.</p><h2 id="конфігурація-послідовного-порту-px4-mavlink" tabindex="-1">Конфігурація послідовного порту PX4 MAVLink <a class="header-anchor" href="#конфігурація-послідовного-порту-px4-mavlink" aria-label="Permalink to &quot;Конфігурація послідовного порту PX4 MAVLink&quot;">​</a></h2><p>Конфігурація порту Ethernet встановлює властивості <em>серійного зв&#39;язку</em> (яким чином PX4 бачить з&#39;єднання Ethernet). Це включає набір повідомлень MAVLink, які передаються, швидкість передачі даних, UDP-порти, на які може підключатися віддалена система, тощо.</p><div class="info custom-block"><p class="custom-block-title">Ви повинні окремо налаштувати IP-адресу PX4 та інші <em>налаштування мережі</em> (<a href="#px4-ethernet-network-setup">як показано раніше</a>).</p></div><p>PX4 налаштовує серійний порт для підключення до GCS через MAVLink, використовуючи параметри, показані нижче:</p><table><thead><tr><th>Параметр</th><th>Значення</th><th>Опис</th></tr></thead><tbody><tr><td><a href="./../advanced_config/parameter_reference.html#MAV_2_CONFIG">MAV_2_CONFIG</a></td><td>1000</td><td>Налаштування Ethernet порту</td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#MAV_2_BROADCAST">MAV_2_BROADCAST</a></td><td>1</td><td>Трансляція повідомлень <code>HEARTBEAT</code></td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#MAV_2_MODE">MAV_2_MODE</a></td><td>0</td><td>Надіслати «звичайний» набір повідомлень MAVLink (тобто набір GCS)</td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#MAV_2_RADIO_CTL">MAV_2_RADIO_CTL</a></td><td>0</td><td>Вимкнути програмне регулювання трафіку MAVLink</td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#MAV_2_RATE">MAV_2_RATE</a></td><td>100000</td><td>Налаштування Ethernet порту</td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT">MAV_2_REMOTE_PRT</a></td><td>14550</td><td>Віддалений порт MAVLink 14550 (GCS)</td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#MAV_2_UDP_PRT">MAV_2_UDP_PRT</a></td><td>14550</td><td>Мережевий порт MAVLink 14550 (GCS)</td></tr></tbody></table><p>Зазвичай співпрацюючий комп&#39;ютер використовуватиме порт <code>14540</code> (замість <code>14550</code>) та передаватиме набір повідомлень MAVLink, вказаний у профілі <code>Onboard</code>. Ви можете налаштувати це налаштування, змінивши <a href="./../advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT">MAV_2_REMOTE_PRT</a> і <a href="./../advanced_config/parameter_reference.html#MAV_2_UDP_PRT">MAV_2_UDP_PRT</a> на <code>14540</code> і <a href="./../advanced_config/parameter_reference.html#MAV_2_MODE">MAV_2_MODE</a> на <code>2</code> (На борту). Проте слід зауважити, що це все одно працюватиме, використовуючи профіль GCS.</p><p>Для отримання додаткової інформації про налаштування серійного порту MAVLink дивіться <a href="./../peripherals/mavlink_peripherals.html">Пристрої MAVLink (GCS/OSD/Супутник)</a>.</p><h2 id="приклад-налаштування-qgroundcontrol" tabindex="-1">Приклад налаштування QGroundControl <a class="header-anchor" href="#приклад-налаштування-qgroundcontrol" aria-label="Permalink to &quot;Приклад налаштування QGroundControl&quot;">​</a></h2><p>Припускаючи, що ви вже налаштували <a href="#setting-up-the-ethernet-network">мережу Ethernet</a>, щоб ваш комп&#39;ютер земної станції та PX4 працювали в одній мережі, і</p><p>Для підключення QGroundControl до PX4 по Ethernet:</p><ol><li><p><a href="#setting-up-the-ethernet-network">Налаштуйте мережу Ethernet</a> так, щоб ваш комп&#39;ютер земної станції та PX4 працювали в одній мережі.</p></li><li><p>Підключіть комп&#39;ютер земної станції та PX4 за допомогою кабелю Ethernet.</p></li><li><p>Запустіть QGroundControl та <a href="https://docs.qgroundcontrol.com/master/en/SettingsView/SettingsView.html" target="_blank" rel="noreferrer">визначте комунікаційний канал</a> (<strong>Налаштування додатка &gt; Канали зв&#39;язку</strong>), вказавши <em>адресу сервера</em> та порт як IP-адресу та порт, призначений в PX4, відповідно.</p><p>Припускаючи, що значення встановлені так, як описано в решті цієї теми, налаштування виглядатиме наступним чином:</p><p><img src="`+e+`" alt="QGC comm link for ethernet setup"></p></li><li><p>Після цього QGroundControl має підключитися, якщо ви виберете це посилання.</p></li></ol><div class="info custom-block"><p class="custom-block-title">Конфігурація <a href="#px4-ethernet-network-setup">порту Ethernet PX4</a> не повинна бути потрібною (за замовчуванням вона відповідна для GCS).</p></div><h2 id="приклад-налаштування-mavsdk-python" tabindex="-1">Приклад налаштування MAVSDK-Python <a class="header-anchor" href="#приклад-налаштування-mavsdk-python" aria-label="Permalink to &quot;Приклад налаштування MAVSDK-Python&quot;">​</a></h2><p>Щоб налаштувати роботу MAVSDK-Python на комп’ютері-супутнику:</p><ol><li><p>Щоб налаштувати роботу MAVSDK-Python на комп’ютері-супутнику:</p></li><li><p>Змініть <a href="#px4-ethernet-network-setup">Конфігурацію порту Ethernet PX4</a> для підключення до комп’ютера-супутника. Ви можете змінити параметри <a href="./../advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT">MAV_2_REMOTE_PRT</a> і <a href="./../advanced_config/parameter_reference.html#MAV_2_UDP_PRT">MAV_2_UDP_PRT</a> на <code>14540</code>, а <a href="./../advanced_config/parameter_reference.html#MAV_2_MODE">MAV_2_MODE</a> на <code>2</code> (На борту).</p></li><li><p>Дотримуйтесь інструкцій у <a href="https://github.com/mavlink/MAVSDK-Python" target="_blank" rel="noreferrer">MAVSDK-python</a>, щоб установити та використовувати MAVSDK.</p><p>Наприклад, ваш код буде підключатися до PX4 за допомогою:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> drone.connect(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">system_address</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;udp://10.41.10.2:14540&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li></ol><div class="info custom-block"><p class="custom-block-title">MAVSDK може підключитися до PX4 за адресою порту <code>14550</code>, якщо ви не змінюєте конфігурацію мережевого порту PX4. Проте це не рекомендується, оскільки типова конфігурація оптимізована для зв&#39;язку з наземним контролем (а не компаньйон комп&#39;ютером).</p></div><h2 id="приклад-встановлення-ros-2" tabindex="-1">Приклад встановлення ROS 2 <a class="header-anchor" href="#приклад-встановлення-ros-2" aria-label="Permalink to &quot;Приклад встановлення ROS 2&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">Попередні вимоги:</p><ul><li>У вас є підтримуване апаратне забезпечення автопілота з мікропрограмою PX4, яка включає проміжне програмне забезпечення <a href="./../middleware/uxrce_dds.html">uXRCE-DDS</a>. Зауважте, що PX4 версії 1.14 і пізніших за замовчуванням включає необхідний модуль <a href="./../modules/modules_system.html#uxrce-dds-client">uxrce_dds_client</a>.</li><li><a href="./../ros2/user_guide.html">ROS 2</a> has been set up correctly on the companion computer.</li><li>Ви виконали налаштування мережі Ethernet і портів, як описано вгорі цієї сторінки.</li></ul></div><p>Налаштувати ROS 2:</p><ol><li><p>Підключіть ваш автопілот і компаньйон комп&#39;ютер за допомогою Ethernet.</p></li><li><p><a href="./../middleware/uxrce_dds.html#starting-the-client">Запустіть клієнт uXRCE-DDS на PX4</a> вручну або налаштувавши сценарій запуску системи. Note that you must use the IP address of the companion computer and the UDP port on which the agent is listening (the example configuration above sets the companion IP address to <code>10.41.10.1</code>, and the agent UDP port is set to <code>8888</code> in the next step).</p></li><li><p><a href="./../middleware/uxrce_dds.html#starting-the-agent">Запустіть агент мікро XRCE-DDS на компаньйонному комп&#39;ютері</a>. Наприклад, уведіть наступну команду в термінал, щоб запустити агента, який слухає порт UDP <code>8888</code>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MicroXRCEAgent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> udp4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8888</span></span></code></pre></div></li><li><p>Run a <a href="./../ros2/user_guide.html#running-the-example">listener node</a> in a new terminal to confirm the connection is established:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/ws_sensor_combined/install/setup.bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ros2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> launch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_ros_com</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sensor_combined_listener.launch.py</span></span></code></pre></div><p>Якщо все налаштовано правильно, в терміналі повинен відображатися наступний вивід:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RECEIVED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SENSOR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> COMBINED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DATA</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=============================</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ts:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 855801598</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gyro_rad[0]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -0.00339938</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gyro_rad[1]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.00440091</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gyro_rad[2]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.00513893</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gyro_integral_dt:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4997</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accelerometer_timestamp_relative:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accelerometer_m_s2[0]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -0.0324082</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accelerometer_m_s2[1]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0392213</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accelerometer_m_s2[2]:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -9.77914</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accelerometer_integral_dt:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4997</span></span></code></pre></div></li></ol><h2 id="дивіться-також" tabindex="-1">Дивіться також <a class="header-anchor" href="#дивіться-також" aria-label="Permalink to &quot;Дивіться також&quot;">​</a></h2><ul><li><a href="https://px4.io/get-the-pixhawk-raspberry-pi-cm4-baseboard-by-holybro-talking-with-px4/" target="_blank" rel="noreferrer">Отримати базову плату Pixhawk Raspberry Pi CM4 від Holybro, яка спілкується з PX4 </a> (блог px4.io): <ul><li>Урок, який показує, як підключити Pixhawk 6X + Raspberry Pi на базі CM4 через провідний Ethernet.</li><li>Блог дублює багато матеріалу з цієї теми.</li></ul></li></ul>`,54),h=[l];function p(r,o,d,c,k,g){return t(),s("div",null,h)}const f=a(n,[["render",p]]);export{_ as __pageData,f as default};
