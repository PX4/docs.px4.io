<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using Vision or Motion Capture Systems for Position Estimation | PX4 User Guide</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="PX4 is the Professional Autopilot. Developed by world-class developers from industry and academia, and supported by an active world wide community, it powers all kinds of vehicles from racing and cargo drones through to ground vehicles and submersibles.">
    
    <!--before-resource-hints--><link rel="preload" href="/v1.test/assets/css/0.styles.4a018ba8.css" as="style"><link rel="preload" href="/v1.test/assets/js/app.2e5e6452.js" as="script"><link rel="preload" href="/v1.test/assets/js/3.a2fd870b.js" as="script"><link rel="preload" href="/v1.test/assets/js/159.5a9db5c9.js" as="script"><link rel="prefetch" href="/v1.test/assets/js/10.6baf9660.js"><link rel="prefetch" href="/v1.test/assets/js/100.3dd1fb19.js"><link rel="prefetch" href="/v1.test/assets/js/101.ee0aefa4.js"><link rel="prefetch" href="/v1.test/assets/js/102.38f7a891.js"><link rel="prefetch" href="/v1.test/assets/js/103.ea35332f.js"><link rel="prefetch" href="/v1.test/assets/js/104.6fd5146c.js"><link rel="prefetch" href="/v1.test/assets/js/105.e59825c2.js"><link rel="prefetch" href="/v1.test/assets/js/106.207a4eed.js"><link rel="prefetch" href="/v1.test/assets/js/107.c8863723.js"><link rel="prefetch" href="/v1.test/assets/js/108.94e1dec3.js"><link rel="prefetch" href="/v1.test/assets/js/109.39917d85.js"><link rel="prefetch" href="/v1.test/assets/js/11.97d744c3.js"><link rel="prefetch" href="/v1.test/assets/js/110.ffd41df1.js"><link rel="prefetch" href="/v1.test/assets/js/111.251cc227.js"><link rel="prefetch" href="/v1.test/assets/js/112.0b3587a2.js"><link rel="prefetch" href="/v1.test/assets/js/113.8a4ef77e.js"><link rel="prefetch" href="/v1.test/assets/js/114.079fa01e.js"><link rel="prefetch" href="/v1.test/assets/js/115.a30a1d07.js"><link rel="prefetch" href="/v1.test/assets/js/116.a7aad28b.js"><link rel="prefetch" href="/v1.test/assets/js/117.cbe41971.js"><link rel="prefetch" href="/v1.test/assets/js/118.40a13456.js"><link rel="prefetch" href="/v1.test/assets/js/119.bf5e77a1.js"><link rel="prefetch" href="/v1.test/assets/js/12.5612d233.js"><link rel="prefetch" href="/v1.test/assets/js/120.602a32ca.js"><link rel="prefetch" href="/v1.test/assets/js/121.d486131b.js"><link rel="prefetch" href="/v1.test/assets/js/122.98b2c167.js"><link rel="prefetch" href="/v1.test/assets/js/123.02f7a7fc.js"><link rel="prefetch" href="/v1.test/assets/js/124.7145e3ab.js"><link rel="prefetch" href="/v1.test/assets/js/125.d15b457b.js"><link rel="prefetch" href="/v1.test/assets/js/126.9fcfe6b7.js"><link rel="prefetch" href="/v1.test/assets/js/127.d9b84e02.js"><link rel="prefetch" href="/v1.test/assets/js/128.74576f43.js"><link rel="prefetch" href="/v1.test/assets/js/129.3b3dc60a.js"><link rel="prefetch" href="/v1.test/assets/js/13.afeccae1.js"><link rel="prefetch" href="/v1.test/assets/js/130.b9e01cb5.js"><link rel="prefetch" href="/v1.test/assets/js/131.5e931d39.js"><link rel="prefetch" href="/v1.test/assets/js/132.919ac60e.js"><link rel="prefetch" href="/v1.test/assets/js/133.75d2a2d5.js"><link rel="prefetch" href="/v1.test/assets/js/134.b75d8e82.js"><link rel="prefetch" href="/v1.test/assets/js/135.111d508e.js"><link rel="prefetch" href="/v1.test/assets/js/136.963e5931.js"><link rel="prefetch" href="/v1.test/assets/js/137.e84d319c.js"><link rel="prefetch" href="/v1.test/assets/js/138.7ae5ebe1.js"><link rel="prefetch" href="/v1.test/assets/js/139.1c938b0f.js"><link rel="prefetch" href="/v1.test/assets/js/14.59dd1a41.js"><link rel="prefetch" href="/v1.test/assets/js/140.dc66ff72.js"><link rel="prefetch" href="/v1.test/assets/js/141.6dda582d.js"><link rel="prefetch" href="/v1.test/assets/js/142.0d133954.js"><link rel="prefetch" href="/v1.test/assets/js/143.18061467.js"><link rel="prefetch" href="/v1.test/assets/js/144.8eaa50ff.js"><link rel="prefetch" href="/v1.test/assets/js/145.1963c268.js"><link rel="prefetch" href="/v1.test/assets/js/146.51d398d6.js"><link rel="prefetch" href="/v1.test/assets/js/147.82ce4732.js"><link rel="prefetch" href="/v1.test/assets/js/148.487cf06f.js"><link rel="prefetch" href="/v1.test/assets/js/149.cecd2984.js"><link rel="prefetch" href="/v1.test/assets/js/15.4664f6c7.js"><link rel="prefetch" href="/v1.test/assets/js/150.8c4d6efe.js"><link rel="prefetch" href="/v1.test/assets/js/151.1406eb71.js"><link rel="prefetch" href="/v1.test/assets/js/152.79f9dd0e.js"><link rel="prefetch" href="/v1.test/assets/js/153.6f10c0ee.js"><link rel="prefetch" href="/v1.test/assets/js/154.bc04a913.js"><link rel="prefetch" href="/v1.test/assets/js/155.09ed79a6.js"><link rel="prefetch" href="/v1.test/assets/js/156.f1e14920.js"><link rel="prefetch" href="/v1.test/assets/js/157.0612fa11.js"><link rel="prefetch" href="/v1.test/assets/js/158.44a1f46f.js"><link rel="prefetch" href="/v1.test/assets/js/16.11af4bcd.js"><link rel="prefetch" href="/v1.test/assets/js/160.ffbb1a9f.js"><link rel="prefetch" href="/v1.test/assets/js/161.b835620f.js"><link rel="prefetch" href="/v1.test/assets/js/162.87c10919.js"><link rel="prefetch" href="/v1.test/assets/js/163.66447e4e.js"><link rel="prefetch" href="/v1.test/assets/js/164.4544af9b.js"><link rel="prefetch" href="/v1.test/assets/js/165.7bb9caa7.js"><link rel="prefetch" href="/v1.test/assets/js/166.6ef280ad.js"><link rel="prefetch" href="/v1.test/assets/js/167.9759f5bf.js"><link rel="prefetch" href="/v1.test/assets/js/168.1e5c574c.js"><link rel="prefetch" href="/v1.test/assets/js/169.131eeb5c.js"><link rel="prefetch" href="/v1.test/assets/js/17.4234595d.js"><link rel="prefetch" href="/v1.test/assets/js/170.9de66a53.js"><link rel="prefetch" href="/v1.test/assets/js/171.56014753.js"><link rel="prefetch" href="/v1.test/assets/js/172.b7fb9c41.js"><link rel="prefetch" href="/v1.test/assets/js/173.a4582c27.js"><link rel="prefetch" href="/v1.test/assets/js/174.232eff65.js"><link rel="prefetch" href="/v1.test/assets/js/175.260359d6.js"><link rel="prefetch" href="/v1.test/assets/js/176.69ab61a5.js"><link rel="prefetch" href="/v1.test/assets/js/177.272ce793.js"><link rel="prefetch" href="/v1.test/assets/js/178.70cab19e.js"><link rel="prefetch" href="/v1.test/assets/js/179.69241dd3.js"><link rel="prefetch" href="/v1.test/assets/js/18.be51a016.js"><link rel="prefetch" href="/v1.test/assets/js/180.a7b3921f.js"><link rel="prefetch" href="/v1.test/assets/js/181.254ccf5d.js"><link rel="prefetch" href="/v1.test/assets/js/182.b5143808.js"><link rel="prefetch" href="/v1.test/assets/js/183.1a51536f.js"><link rel="prefetch" href="/v1.test/assets/js/184.235d4794.js"><link rel="prefetch" href="/v1.test/assets/js/185.aa769c0c.js"><link rel="prefetch" href="/v1.test/assets/js/186.387fa0ea.js"><link rel="prefetch" href="/v1.test/assets/js/187.0f05f036.js"><link rel="prefetch" href="/v1.test/assets/js/188.060ccaa6.js"><link rel="prefetch" href="/v1.test/assets/js/189.36691073.js"><link rel="prefetch" href="/v1.test/assets/js/19.7a16b6c6.js"><link rel="prefetch" href="/v1.test/assets/js/190.4a35500d.js"><link rel="prefetch" href="/v1.test/assets/js/191.b55dce01.js"><link rel="prefetch" href="/v1.test/assets/js/192.da53cd15.js"><link rel="prefetch" href="/v1.test/assets/js/193.fa07ea45.js"><link rel="prefetch" href="/v1.test/assets/js/194.d9d01655.js"><link rel="prefetch" href="/v1.test/assets/js/195.87f77855.js"><link rel="prefetch" href="/v1.test/assets/js/196.be2e5b28.js"><link rel="prefetch" href="/v1.test/assets/js/197.d68b4c89.js"><link rel="prefetch" href="/v1.test/assets/js/198.21176fa9.js"><link rel="prefetch" href="/v1.test/assets/js/199.c45757e8.js"><link rel="prefetch" href="/v1.test/assets/js/20.ca06f1fd.js"><link rel="prefetch" href="/v1.test/assets/js/200.02d13ed1.js"><link rel="prefetch" href="/v1.test/assets/js/201.192d5fce.js"><link rel="prefetch" href="/v1.test/assets/js/202.df764f33.js"><link rel="prefetch" href="/v1.test/assets/js/203.01d22896.js"><link rel="prefetch" href="/v1.test/assets/js/204.e903fbf3.js"><link rel="prefetch" href="/v1.test/assets/js/205.03c7c425.js"><link rel="prefetch" href="/v1.test/assets/js/206.b68cdb18.js"><link rel="prefetch" href="/v1.test/assets/js/207.667b345f.js"><link rel="prefetch" href="/v1.test/assets/js/208.d06b25c2.js"><link rel="prefetch" href="/v1.test/assets/js/209.66bf0629.js"><link rel="prefetch" href="/v1.test/assets/js/21.0043f19e.js"><link rel="prefetch" href="/v1.test/assets/js/210.f7c2f23f.js"><link rel="prefetch" href="/v1.test/assets/js/211.c54a7e29.js"><link rel="prefetch" href="/v1.test/assets/js/212.a431ae9d.js"><link rel="prefetch" href="/v1.test/assets/js/213.ac425296.js"><link rel="prefetch" href="/v1.test/assets/js/214.a4c99188.js"><link rel="prefetch" href="/v1.test/assets/js/215.c7bb545c.js"><link rel="prefetch" href="/v1.test/assets/js/216.c25d229f.js"><link rel="prefetch" href="/v1.test/assets/js/217.4455db6c.js"><link rel="prefetch" href="/v1.test/assets/js/218.ca1eb46c.js"><link rel="prefetch" href="/v1.test/assets/js/219.3737bdde.js"><link rel="prefetch" href="/v1.test/assets/js/22.a897a5e3.js"><link rel="prefetch" href="/v1.test/assets/js/220.ebbc61be.js"><link rel="prefetch" href="/v1.test/assets/js/221.fd45af44.js"><link rel="prefetch" href="/v1.test/assets/js/222.a03c8391.js"><link rel="prefetch" href="/v1.test/assets/js/223.007e8390.js"><link rel="prefetch" href="/v1.test/assets/js/224.a138d66e.js"><link rel="prefetch" href="/v1.test/assets/js/225.9e70b79a.js"><link rel="prefetch" href="/v1.test/assets/js/226.17af80db.js"><link rel="prefetch" href="/v1.test/assets/js/227.e1c5a0d6.js"><link rel="prefetch" href="/v1.test/assets/js/228.2113de19.js"><link rel="prefetch" href="/v1.test/assets/js/229.c20d17b8.js"><link rel="prefetch" href="/v1.test/assets/js/23.ad07e6e7.js"><link rel="prefetch" href="/v1.test/assets/js/230.37543721.js"><link rel="prefetch" href="/v1.test/assets/js/231.bba9a542.js"><link rel="prefetch" href="/v1.test/assets/js/232.251b16b0.js"><link rel="prefetch" href="/v1.test/assets/js/233.f85a0008.js"><link rel="prefetch" href="/v1.test/assets/js/234.f2d69f81.js"><link rel="prefetch" href="/v1.test/assets/js/235.8d7b76de.js"><link rel="prefetch" href="/v1.test/assets/js/236.1cfa5adb.js"><link rel="prefetch" href="/v1.test/assets/js/237.02ee47eb.js"><link rel="prefetch" href="/v1.test/assets/js/238.69242ddb.js"><link rel="prefetch" href="/v1.test/assets/js/239.24bea364.js"><link rel="prefetch" href="/v1.test/assets/js/24.4fdb6d64.js"><link rel="prefetch" href="/v1.test/assets/js/240.3781c913.js"><link rel="prefetch" href="/v1.test/assets/js/241.91e57969.js"><link rel="prefetch" href="/v1.test/assets/js/242.1aeff18e.js"><link rel="prefetch" href="/v1.test/assets/js/243.7a468eed.js"><link rel="prefetch" href="/v1.test/assets/js/244.884032a1.js"><link rel="prefetch" href="/v1.test/assets/js/245.0b95e7d9.js"><link rel="prefetch" href="/v1.test/assets/js/246.6c1a9e02.js"><link rel="prefetch" href="/v1.test/assets/js/247.7d351c4a.js"><link rel="prefetch" href="/v1.test/assets/js/248.263d642d.js"><link rel="prefetch" href="/v1.test/assets/js/249.04793ec0.js"><link rel="prefetch" href="/v1.test/assets/js/25.3314c79f.js"><link rel="prefetch" href="/v1.test/assets/js/250.a4109c1c.js"><link rel="prefetch" href="/v1.test/assets/js/251.84aa37ba.js"><link rel="prefetch" href="/v1.test/assets/js/252.8478a194.js"><link rel="prefetch" href="/v1.test/assets/js/253.d0052efc.js"><link rel="prefetch" href="/v1.test/assets/js/254.77ba59ba.js"><link rel="prefetch" href="/v1.test/assets/js/255.f798ca21.js"><link rel="prefetch" href="/v1.test/assets/js/256.8aa104fd.js"><link rel="prefetch" href="/v1.test/assets/js/257.19294e25.js"><link rel="prefetch" href="/v1.test/assets/js/258.ccb3ca93.js"><link rel="prefetch" href="/v1.test/assets/js/259.54ef8c0f.js"><link rel="prefetch" href="/v1.test/assets/js/26.e9bbd5a0.js"><link rel="prefetch" href="/v1.test/assets/js/260.f2681301.js"><link rel="prefetch" href="/v1.test/assets/js/261.15679186.js"><link rel="prefetch" href="/v1.test/assets/js/262.58c974f0.js"><link rel="prefetch" href="/v1.test/assets/js/263.1c5b8ef1.js"><link rel="prefetch" href="/v1.test/assets/js/264.700e92fb.js"><link rel="prefetch" href="/v1.test/assets/js/265.6dbd2778.js"><link rel="prefetch" href="/v1.test/assets/js/266.ae82a656.js"><link rel="prefetch" href="/v1.test/assets/js/267.60380f33.js"><link rel="prefetch" href="/v1.test/assets/js/268.a4c9c434.js"><link rel="prefetch" href="/v1.test/assets/js/269.9b42a507.js"><link rel="prefetch" href="/v1.test/assets/js/27.24d381f4.js"><link rel="prefetch" href="/v1.test/assets/js/270.e4f33272.js"><link rel="prefetch" href="/v1.test/assets/js/271.77b716ca.js"><link rel="prefetch" href="/v1.test/assets/js/272.cf42cca0.js"><link rel="prefetch" href="/v1.test/assets/js/273.c1c4f245.js"><link rel="prefetch" href="/v1.test/assets/js/274.8ef8fb4e.js"><link rel="prefetch" href="/v1.test/assets/js/275.2335a197.js"><link rel="prefetch" href="/v1.test/assets/js/276.c0eaa30b.js"><link rel="prefetch" href="/v1.test/assets/js/277.99f642b5.js"><link rel="prefetch" href="/v1.test/assets/js/278.b01e5642.js"><link rel="prefetch" href="/v1.test/assets/js/279.8c44532e.js"><link rel="prefetch" href="/v1.test/assets/js/28.36e5ac8f.js"><link rel="prefetch" href="/v1.test/assets/js/280.06d4a55f.js"><link rel="prefetch" href="/v1.test/assets/js/281.305b1403.js"><link rel="prefetch" href="/v1.test/assets/js/282.a4279b78.js"><link rel="prefetch" href="/v1.test/assets/js/283.70dd71f1.js"><link rel="prefetch" href="/v1.test/assets/js/284.e0092dd6.js"><link rel="prefetch" href="/v1.test/assets/js/285.fe225d1a.js"><link rel="prefetch" href="/v1.test/assets/js/286.fbed5e58.js"><link rel="prefetch" href="/v1.test/assets/js/287.8a492ec1.js"><link rel="prefetch" href="/v1.test/assets/js/288.5a950336.js"><link rel="prefetch" href="/v1.test/assets/js/289.97a0a1fc.js"><link rel="prefetch" href="/v1.test/assets/js/29.fd2b288b.js"><link rel="prefetch" href="/v1.test/assets/js/290.b158b5c7.js"><link rel="prefetch" href="/v1.test/assets/js/291.f0870663.js"><link rel="prefetch" href="/v1.test/assets/js/292.3c70e3ec.js"><link rel="prefetch" href="/v1.test/assets/js/293.c21dfb2b.js"><link rel="prefetch" href="/v1.test/assets/js/294.fd3030a0.js"><link rel="prefetch" href="/v1.test/assets/js/295.6d069ef2.js"><link rel="prefetch" href="/v1.test/assets/js/296.d292086b.js"><link rel="prefetch" href="/v1.test/assets/js/297.f546cf6c.js"><link rel="prefetch" href="/v1.test/assets/js/298.8fa45325.js"><link rel="prefetch" href="/v1.test/assets/js/299.278f7d33.js"><link rel="prefetch" href="/v1.test/assets/js/30.ebb9eaf5.js"><link rel="prefetch" href="/v1.test/assets/js/300.2f76d74f.js"><link rel="prefetch" href="/v1.test/assets/js/301.a6ee4b5e.js"><link rel="prefetch" href="/v1.test/assets/js/302.b45cda31.js"><link rel="prefetch" href="/v1.test/assets/js/303.ecc43244.js"><link rel="prefetch" href="/v1.test/assets/js/304.b1142530.js"><link rel="prefetch" href="/v1.test/assets/js/305.841cc98d.js"><link rel="prefetch" href="/v1.test/assets/js/306.771d885e.js"><link rel="prefetch" href="/v1.test/assets/js/307.99fe5e3b.js"><link rel="prefetch" href="/v1.test/assets/js/308.7f7ee98a.js"><link rel="prefetch" href="/v1.test/assets/js/309.141cc0ba.js"><link rel="prefetch" href="/v1.test/assets/js/31.47dfbe4c.js"><link rel="prefetch" href="/v1.test/assets/js/310.9fe320a0.js"><link rel="prefetch" href="/v1.test/assets/js/311.8ef6743e.js"><link rel="prefetch" href="/v1.test/assets/js/312.7bed3282.js"><link rel="prefetch" href="/v1.test/assets/js/313.fdc1c752.js"><link rel="prefetch" href="/v1.test/assets/js/314.10cb6d90.js"><link rel="prefetch" href="/v1.test/assets/js/315.84c19773.js"><link rel="prefetch" href="/v1.test/assets/js/316.24d71997.js"><link rel="prefetch" href="/v1.test/assets/js/317.28f29ec3.js"><link rel="prefetch" href="/v1.test/assets/js/318.c7473b23.js"><link rel="prefetch" href="/v1.test/assets/js/319.e4791b87.js"><link rel="prefetch" href="/v1.test/assets/js/32.867f6bb3.js"><link rel="prefetch" href="/v1.test/assets/js/320.af26b183.js"><link rel="prefetch" href="/v1.test/assets/js/321.84c20037.js"><link rel="prefetch" href="/v1.test/assets/js/322.521900ae.js"><link rel="prefetch" href="/v1.test/assets/js/323.620be805.js"><link rel="prefetch" href="/v1.test/assets/js/324.9a8c28fb.js"><link rel="prefetch" href="/v1.test/assets/js/325.893e2a24.js"><link rel="prefetch" href="/v1.test/assets/js/326.c89e31db.js"><link rel="prefetch" href="/v1.test/assets/js/327.b0576bcf.js"><link rel="prefetch" href="/v1.test/assets/js/328.a2c0a10e.js"><link rel="prefetch" href="/v1.test/assets/js/329.f123bf68.js"><link rel="prefetch" href="/v1.test/assets/js/33.138e3800.js"><link rel="prefetch" href="/v1.test/assets/js/330.3a61b36a.js"><link rel="prefetch" href="/v1.test/assets/js/331.ff162a49.js"><link rel="prefetch" href="/v1.test/assets/js/332.9ef60cac.js"><link rel="prefetch" href="/v1.test/assets/js/333.a2525ae0.js"><link rel="prefetch" href="/v1.test/assets/js/334.0d5fa713.js"><link rel="prefetch" href="/v1.test/assets/js/335.3f32a006.js"><link rel="prefetch" href="/v1.test/assets/js/336.80cbc83e.js"><link rel="prefetch" href="/v1.test/assets/js/337.80e8fb28.js"><link rel="prefetch" href="/v1.test/assets/js/338.98d3daf6.js"><link rel="prefetch" href="/v1.test/assets/js/339.f6f5e4eb.js"><link rel="prefetch" href="/v1.test/assets/js/34.d1d13098.js"><link rel="prefetch" href="/v1.test/assets/js/340.ce63cd76.js"><link rel="prefetch" href="/v1.test/assets/js/341.e164dd76.js"><link rel="prefetch" href="/v1.test/assets/js/342.3f2f5a25.js"><link rel="prefetch" href="/v1.test/assets/js/343.b03caeb5.js"><link rel="prefetch" href="/v1.test/assets/js/344.dbffd748.js"><link rel="prefetch" href="/v1.test/assets/js/345.34940d10.js"><link rel="prefetch" href="/v1.test/assets/js/346.bbb8426c.js"><link rel="prefetch" href="/v1.test/assets/js/347.f87e1d35.js"><link rel="prefetch" href="/v1.test/assets/js/348.d453a633.js"><link rel="prefetch" href="/v1.test/assets/js/349.dc0cd827.js"><link rel="prefetch" href="/v1.test/assets/js/35.475e4279.js"><link rel="prefetch" href="/v1.test/assets/js/350.6a76e8e3.js"><link rel="prefetch" href="/v1.test/assets/js/351.59d82691.js"><link rel="prefetch" href="/v1.test/assets/js/352.b6f87a9b.js"><link rel="prefetch" href="/v1.test/assets/js/353.01bc25c3.js"><link rel="prefetch" href="/v1.test/assets/js/354.83c16378.js"><link rel="prefetch" href="/v1.test/assets/js/355.24204566.js"><link rel="prefetch" href="/v1.test/assets/js/356.753c7881.js"><link rel="prefetch" href="/v1.test/assets/js/357.d9de2245.js"><link rel="prefetch" href="/v1.test/assets/js/358.56a4827d.js"><link rel="prefetch" href="/v1.test/assets/js/359.f97c5b9f.js"><link rel="prefetch" href="/v1.test/assets/js/36.6ab7c9c7.js"><link rel="prefetch" href="/v1.test/assets/js/360.8713cb45.js"><link rel="prefetch" href="/v1.test/assets/js/361.031ca6bf.js"><link rel="prefetch" href="/v1.test/assets/js/362.d970316c.js"><link rel="prefetch" href="/v1.test/assets/js/363.7efc606d.js"><link rel="prefetch" href="/v1.test/assets/js/364.54aaa090.js"><link rel="prefetch" href="/v1.test/assets/js/365.ab1775a2.js"><link rel="prefetch" href="/v1.test/assets/js/366.a5d3c0d9.js"><link rel="prefetch" href="/v1.test/assets/js/367.73e15afc.js"><link rel="prefetch" href="/v1.test/assets/js/368.4a92e5d2.js"><link rel="prefetch" href="/v1.test/assets/js/369.286614f5.js"><link rel="prefetch" href="/v1.test/assets/js/37.13435f4f.js"><link rel="prefetch" href="/v1.test/assets/js/370.14ce0e63.js"><link rel="prefetch" href="/v1.test/assets/js/371.4187c02a.js"><link rel="prefetch" href="/v1.test/assets/js/372.fce53bf0.js"><link rel="prefetch" href="/v1.test/assets/js/373.019acf41.js"><link rel="prefetch" href="/v1.test/assets/js/374.3d0a24f2.js"><link rel="prefetch" href="/v1.test/assets/js/375.103a7825.js"><link rel="prefetch" href="/v1.test/assets/js/376.a4395818.js"><link rel="prefetch" href="/v1.test/assets/js/377.be6e9087.js"><link rel="prefetch" href="/v1.test/assets/js/378.2ec9a17b.js"><link rel="prefetch" href="/v1.test/assets/js/379.b92dd266.js"><link rel="prefetch" href="/v1.test/assets/js/38.9e1d072a.js"><link rel="prefetch" href="/v1.test/assets/js/380.7508c819.js"><link rel="prefetch" href="/v1.test/assets/js/381.24436916.js"><link rel="prefetch" href="/v1.test/assets/js/382.dae18dd7.js"><link rel="prefetch" href="/v1.test/assets/js/383.648f76b1.js"><link rel="prefetch" href="/v1.test/assets/js/384.24e1b473.js"><link rel="prefetch" href="/v1.test/assets/js/385.3f09d441.js"><link rel="prefetch" href="/v1.test/assets/js/386.fa0d930e.js"><link rel="prefetch" href="/v1.test/assets/js/387.2ea10005.js"><link rel="prefetch" href="/v1.test/assets/js/388.3067523f.js"><link rel="prefetch" href="/v1.test/assets/js/389.481de687.js"><link rel="prefetch" href="/v1.test/assets/js/39.0b40c903.js"><link rel="prefetch" href="/v1.test/assets/js/390.6e2976e3.js"><link rel="prefetch" href="/v1.test/assets/js/391.01451d6f.js"><link rel="prefetch" href="/v1.test/assets/js/392.6525eb1d.js"><link rel="prefetch" href="/v1.test/assets/js/393.b0364939.js"><link rel="prefetch" href="/v1.test/assets/js/394.2592f0ad.js"><link rel="prefetch" href="/v1.test/assets/js/395.e67c761e.js"><link rel="prefetch" href="/v1.test/assets/js/396.3a5d7d3d.js"><link rel="prefetch" href="/v1.test/assets/js/397.e580505c.js"><link rel="prefetch" href="/v1.test/assets/js/398.deca896d.js"><link rel="prefetch" href="/v1.test/assets/js/399.3a3a130d.js"><link rel="prefetch" href="/v1.test/assets/js/4.53c40c0f.js"><link rel="prefetch" href="/v1.test/assets/js/40.8ab34b8a.js"><link rel="prefetch" href="/v1.test/assets/js/400.129738df.js"><link rel="prefetch" href="/v1.test/assets/js/401.871644dc.js"><link rel="prefetch" href="/v1.test/assets/js/402.6ad4d318.js"><link rel="prefetch" href="/v1.test/assets/js/403.1bdf2d93.js"><link rel="prefetch" href="/v1.test/assets/js/404.35be44f5.js"><link rel="prefetch" href="/v1.test/assets/js/405.71e440f7.js"><link rel="prefetch" href="/v1.test/assets/js/406.38d4ecc7.js"><link rel="prefetch" href="/v1.test/assets/js/407.b4aba71b.js"><link rel="prefetch" href="/v1.test/assets/js/408.7b683e43.js"><link rel="prefetch" href="/v1.test/assets/js/409.045cf339.js"><link rel="prefetch" href="/v1.test/assets/js/41.4c62ef55.js"><link rel="prefetch" href="/v1.test/assets/js/410.893073ee.js"><link rel="prefetch" href="/v1.test/assets/js/411.52218a82.js"><link rel="prefetch" href="/v1.test/assets/js/412.7f0f7439.js"><link rel="prefetch" href="/v1.test/assets/js/413.7f55fc95.js"><link rel="prefetch" href="/v1.test/assets/js/414.fa3ee7b5.js"><link rel="prefetch" href="/v1.test/assets/js/415.f6066ed7.js"><link rel="prefetch" href="/v1.test/assets/js/416.74bcf684.js"><link rel="prefetch" href="/v1.test/assets/js/417.002cd8bb.js"><link rel="prefetch" href="/v1.test/assets/js/418.80a79788.js"><link rel="prefetch" href="/v1.test/assets/js/419.d491c019.js"><link rel="prefetch" href="/v1.test/assets/js/42.6a800530.js"><link rel="prefetch" href="/v1.test/assets/js/420.6d9d9e62.js"><link rel="prefetch" href="/v1.test/assets/js/421.355ac496.js"><link rel="prefetch" href="/v1.test/assets/js/422.2be8f857.js"><link rel="prefetch" href="/v1.test/assets/js/423.32fb318f.js"><link rel="prefetch" href="/v1.test/assets/js/424.4f69cefc.js"><link rel="prefetch" href="/v1.test/assets/js/425.ac7cdcaf.js"><link rel="prefetch" href="/v1.test/assets/js/426.7bebd653.js"><link rel="prefetch" href="/v1.test/assets/js/427.5ece59df.js"><link rel="prefetch" href="/v1.test/assets/js/428.e6dc93e8.js"><link rel="prefetch" href="/v1.test/assets/js/429.e089b21f.js"><link rel="prefetch" href="/v1.test/assets/js/43.994a345e.js"><link rel="prefetch" href="/v1.test/assets/js/430.98c2530a.js"><link rel="prefetch" href="/v1.test/assets/js/431.3b8ec839.js"><link rel="prefetch" href="/v1.test/assets/js/432.ba4cc77f.js"><link rel="prefetch" href="/v1.test/assets/js/433.6108a01e.js"><link rel="prefetch" href="/v1.test/assets/js/434.03d8650b.js"><link rel="prefetch" href="/v1.test/assets/js/435.25b8291d.js"><link rel="prefetch" href="/v1.test/assets/js/436.75098e31.js"><link rel="prefetch" href="/v1.test/assets/js/437.0255ec62.js"><link rel="prefetch" href="/v1.test/assets/js/438.3f13070e.js"><link rel="prefetch" href="/v1.test/assets/js/439.eb7f6617.js"><link rel="prefetch" href="/v1.test/assets/js/44.c4f605a3.js"><link rel="prefetch" href="/v1.test/assets/js/440.feb073e4.js"><link rel="prefetch" href="/v1.test/assets/js/441.3422758c.js"><link rel="prefetch" href="/v1.test/assets/js/442.8ca2a98d.js"><link rel="prefetch" href="/v1.test/assets/js/443.915b5e9f.js"><link rel="prefetch" href="/v1.test/assets/js/444.3845aa8c.js"><link rel="prefetch" href="/v1.test/assets/js/445.3f0595c6.js"><link rel="prefetch" href="/v1.test/assets/js/446.d3a3cecc.js"><link rel="prefetch" href="/v1.test/assets/js/447.53431098.js"><link rel="prefetch" href="/v1.test/assets/js/448.d58f4364.js"><link rel="prefetch" href="/v1.test/assets/js/449.fa5ebc96.js"><link rel="prefetch" href="/v1.test/assets/js/45.389c6a9b.js"><link rel="prefetch" href="/v1.test/assets/js/450.ba02f98d.js"><link rel="prefetch" href="/v1.test/assets/js/451.14680670.js"><link rel="prefetch" href="/v1.test/assets/js/452.e52af498.js"><link rel="prefetch" href="/v1.test/assets/js/453.1ff713da.js"><link rel="prefetch" href="/v1.test/assets/js/454.40c4e680.js"><link rel="prefetch" href="/v1.test/assets/js/455.09f6b328.js"><link rel="prefetch" href="/v1.test/assets/js/456.5e362d03.js"><link rel="prefetch" href="/v1.test/assets/js/457.0415773c.js"><link rel="prefetch" href="/v1.test/assets/js/458.204f64ff.js"><link rel="prefetch" href="/v1.test/assets/js/459.003b1c03.js"><link rel="prefetch" href="/v1.test/assets/js/46.ee20e72c.js"><link rel="prefetch" href="/v1.test/assets/js/460.5fff2ef0.js"><link rel="prefetch" href="/v1.test/assets/js/461.dee9c390.js"><link rel="prefetch" href="/v1.test/assets/js/462.0280e10d.js"><link rel="prefetch" href="/v1.test/assets/js/463.140c9103.js"><link rel="prefetch" href="/v1.test/assets/js/464.453eb0d1.js"><link rel="prefetch" href="/v1.test/assets/js/465.548aa5b3.js"><link rel="prefetch" href="/v1.test/assets/js/466.beb24787.js"><link rel="prefetch" href="/v1.test/assets/js/467.17ba8a8d.js"><link rel="prefetch" href="/v1.test/assets/js/468.1a8e5fdd.js"><link rel="prefetch" href="/v1.test/assets/js/469.1657bebb.js"><link rel="prefetch" href="/v1.test/assets/js/47.3e9a8bb1.js"><link rel="prefetch" href="/v1.test/assets/js/470.db338b37.js"><link rel="prefetch" href="/v1.test/assets/js/471.9c6537f8.js"><link rel="prefetch" href="/v1.test/assets/js/472.2fbeaa5c.js"><link rel="prefetch" href="/v1.test/assets/js/473.bfbcf17d.js"><link rel="prefetch" href="/v1.test/assets/js/474.19c30cbd.js"><link rel="prefetch" href="/v1.test/assets/js/475.4c42237c.js"><link rel="prefetch" href="/v1.test/assets/js/476.ffc7cb6c.js"><link rel="prefetch" href="/v1.test/assets/js/477.b2ee5e92.js"><link rel="prefetch" href="/v1.test/assets/js/478.f8607e16.js"><link rel="prefetch" href="/v1.test/assets/js/479.1c60bb12.js"><link rel="prefetch" href="/v1.test/assets/js/48.c916a3c6.js"><link rel="prefetch" href="/v1.test/assets/js/480.0756894c.js"><link rel="prefetch" href="/v1.test/assets/js/481.5374e5f1.js"><link rel="prefetch" href="/v1.test/assets/js/482.cb518a21.js"><link rel="prefetch" href="/v1.test/assets/js/483.aaf27b97.js"><link rel="prefetch" href="/v1.test/assets/js/484.8c43de81.js"><link rel="prefetch" href="/v1.test/assets/js/485.a554aaf6.js"><link rel="prefetch" href="/v1.test/assets/js/486.7d916ad3.js"><link rel="prefetch" href="/v1.test/assets/js/487.600b7202.js"><link rel="prefetch" href="/v1.test/assets/js/488.be5dbd3f.js"><link rel="prefetch" href="/v1.test/assets/js/489.c5a77c5c.js"><link rel="prefetch" href="/v1.test/assets/js/49.ef85f04a.js"><link rel="prefetch" href="/v1.test/assets/js/490.216f7aea.js"><link rel="prefetch" href="/v1.test/assets/js/491.5fcc749a.js"><link rel="prefetch" href="/v1.test/assets/js/492.53c57286.js"><link rel="prefetch" href="/v1.test/assets/js/493.10221e86.js"><link rel="prefetch" href="/v1.test/assets/js/494.bc23ff9a.js"><link rel="prefetch" href="/v1.test/assets/js/495.7d5cfaf1.js"><link rel="prefetch" href="/v1.test/assets/js/496.68a77079.js"><link rel="prefetch" href="/v1.test/assets/js/497.bcc48670.js"><link rel="prefetch" href="/v1.test/assets/js/498.71552613.js"><link rel="prefetch" href="/v1.test/assets/js/499.de264415.js"><link rel="prefetch" href="/v1.test/assets/js/5.e5ed88e5.js"><link rel="prefetch" href="/v1.test/assets/js/50.89b06b0d.js"><link rel="prefetch" href="/v1.test/assets/js/500.97bca003.js"><link rel="prefetch" href="/v1.test/assets/js/501.408e9adc.js"><link rel="prefetch" href="/v1.test/assets/js/502.ca73c693.js"><link rel="prefetch" href="/v1.test/assets/js/503.6e92c445.js"><link rel="prefetch" href="/v1.test/assets/js/504.031072f0.js"><link rel="prefetch" href="/v1.test/assets/js/505.45f6d29c.js"><link rel="prefetch" href="/v1.test/assets/js/506.2eea1edc.js"><link rel="prefetch" href="/v1.test/assets/js/507.94d23be8.js"><link rel="prefetch" href="/v1.test/assets/js/508.ecbf2db5.js"><link rel="prefetch" href="/v1.test/assets/js/509.da5b4078.js"><link rel="prefetch" href="/v1.test/assets/js/51.9022dda4.js"><link rel="prefetch" href="/v1.test/assets/js/510.62af83bf.js"><link rel="prefetch" href="/v1.test/assets/js/511.bb6a4f7f.js"><link rel="prefetch" href="/v1.test/assets/js/512.9f4d3ff5.js"><link rel="prefetch" href="/v1.test/assets/js/513.5a365ffe.js"><link rel="prefetch" href="/v1.test/assets/js/514.ee10821c.js"><link rel="prefetch" href="/v1.test/assets/js/515.659d1aac.js"><link rel="prefetch" href="/v1.test/assets/js/516.a8be23f1.js"><link rel="prefetch" href="/v1.test/assets/js/517.0066c95e.js"><link rel="prefetch" href="/v1.test/assets/js/518.886bd3be.js"><link rel="prefetch" href="/v1.test/assets/js/519.ea0b8630.js"><link rel="prefetch" href="/v1.test/assets/js/52.d8a6d170.js"><link rel="prefetch" href="/v1.test/assets/js/520.804a39d6.js"><link rel="prefetch" href="/v1.test/assets/js/521.6e157dc4.js"><link rel="prefetch" href="/v1.test/assets/js/522.65de53d1.js"><link rel="prefetch" href="/v1.test/assets/js/523.83011a65.js"><link rel="prefetch" href="/v1.test/assets/js/524.593c6b31.js"><link rel="prefetch" href="/v1.test/assets/js/525.9470c20b.js"><link rel="prefetch" href="/v1.test/assets/js/526.ddb1a6e3.js"><link rel="prefetch" href="/v1.test/assets/js/527.2cbe04ad.js"><link rel="prefetch" href="/v1.test/assets/js/528.2082fd3e.js"><link rel="prefetch" href="/v1.test/assets/js/529.b1765964.js"><link rel="prefetch" href="/v1.test/assets/js/53.0fcedaae.js"><link rel="prefetch" href="/v1.test/assets/js/530.b54aac7b.js"><link rel="prefetch" href="/v1.test/assets/js/531.0172b771.js"><link rel="prefetch" href="/v1.test/assets/js/532.7f842bf2.js"><link rel="prefetch" href="/v1.test/assets/js/533.25de35ec.js"><link rel="prefetch" href="/v1.test/assets/js/534.7236694d.js"><link rel="prefetch" href="/v1.test/assets/js/535.dc8faf1d.js"><link rel="prefetch" href="/v1.test/assets/js/536.a9839ed6.js"><link rel="prefetch" href="/v1.test/assets/js/537.c79b99d9.js"><link rel="prefetch" href="/v1.test/assets/js/538.966adff1.js"><link rel="prefetch" href="/v1.test/assets/js/539.b98f63da.js"><link rel="prefetch" href="/v1.test/assets/js/54.75f746c5.js"><link rel="prefetch" href="/v1.test/assets/js/540.4cb2f13a.js"><link rel="prefetch" href="/v1.test/assets/js/541.714c3247.js"><link rel="prefetch" href="/v1.test/assets/js/542.e343f084.js"><link rel="prefetch" href="/v1.test/assets/js/543.badc2849.js"><link rel="prefetch" href="/v1.test/assets/js/544.7d8d1468.js"><link rel="prefetch" href="/v1.test/assets/js/545.edecba06.js"><link rel="prefetch" href="/v1.test/assets/js/546.73a4e0ae.js"><link rel="prefetch" href="/v1.test/assets/js/547.6cd7eb32.js"><link rel="prefetch" href="/v1.test/assets/js/548.c76641fd.js"><link rel="prefetch" href="/v1.test/assets/js/549.a153a657.js"><link rel="prefetch" href="/v1.test/assets/js/55.fb6d4816.js"><link rel="prefetch" href="/v1.test/assets/js/550.ecbb8d34.js"><link rel="prefetch" href="/v1.test/assets/js/551.a0fe273d.js"><link rel="prefetch" href="/v1.test/assets/js/552.7e6a9755.js"><link rel="prefetch" href="/v1.test/assets/js/553.8ad379a4.js"><link rel="prefetch" href="/v1.test/assets/js/554.bc248a02.js"><link rel="prefetch" href="/v1.test/assets/js/555.7de22a0a.js"><link rel="prefetch" href="/v1.test/assets/js/556.f7df628c.js"><link rel="prefetch" href="/v1.test/assets/js/557.119d0fc6.js"><link rel="prefetch" href="/v1.test/assets/js/558.01ad2b56.js"><link rel="prefetch" href="/v1.test/assets/js/559.35a0e9ad.js"><link rel="prefetch" href="/v1.test/assets/js/56.4c69e07f.js"><link rel="prefetch" href="/v1.test/assets/js/560.73aabdeb.js"><link rel="prefetch" href="/v1.test/assets/js/561.feeb43c7.js"><link rel="prefetch" href="/v1.test/assets/js/562.d1187b54.js"><link rel="prefetch" href="/v1.test/assets/js/563.3f285156.js"><link rel="prefetch" href="/v1.test/assets/js/564.59489190.js"><link rel="prefetch" href="/v1.test/assets/js/565.6fa740eb.js"><link rel="prefetch" href="/v1.test/assets/js/566.aae94990.js"><link rel="prefetch" href="/v1.test/assets/js/567.fd65a573.js"><link rel="prefetch" href="/v1.test/assets/js/568.256e9a26.js"><link rel="prefetch" href="/v1.test/assets/js/569.814f46c1.js"><link rel="prefetch" href="/v1.test/assets/js/57.f3a7bb2a.js"><link rel="prefetch" href="/v1.test/assets/js/570.2b47a302.js"><link rel="prefetch" href="/v1.test/assets/js/571.950fc311.js"><link rel="prefetch" href="/v1.test/assets/js/572.3cb840ab.js"><link rel="prefetch" href="/v1.test/assets/js/573.52d6736f.js"><link rel="prefetch" href="/v1.test/assets/js/574.384a96d6.js"><link rel="prefetch" href="/v1.test/assets/js/575.f1d30f3f.js"><link rel="prefetch" href="/v1.test/assets/js/576.325051b9.js"><link rel="prefetch" href="/v1.test/assets/js/577.ff983737.js"><link rel="prefetch" href="/v1.test/assets/js/578.3d1836bb.js"><link rel="prefetch" href="/v1.test/assets/js/579.759231f0.js"><link rel="prefetch" href="/v1.test/assets/js/58.556049cc.js"><link rel="prefetch" href="/v1.test/assets/js/580.6b4c1017.js"><link rel="prefetch" href="/v1.test/assets/js/581.b35106d1.js"><link rel="prefetch" href="/v1.test/assets/js/582.068ac299.js"><link rel="prefetch" href="/v1.test/assets/js/583.9b889070.js"><link rel="prefetch" href="/v1.test/assets/js/584.cdf4b10d.js"><link rel="prefetch" href="/v1.test/assets/js/585.43ce27d7.js"><link rel="prefetch" href="/v1.test/assets/js/586.cb20fcf7.js"><link rel="prefetch" href="/v1.test/assets/js/587.3d3d034c.js"><link rel="prefetch" href="/v1.test/assets/js/588.ac16cecf.js"><link rel="prefetch" href="/v1.test/assets/js/589.5410cc5d.js"><link rel="prefetch" href="/v1.test/assets/js/59.5748cf3e.js"><link rel="prefetch" href="/v1.test/assets/js/590.055ed996.js"><link rel="prefetch" href="/v1.test/assets/js/591.8608dc4d.js"><link rel="prefetch" href="/v1.test/assets/js/592.217ed692.js"><link rel="prefetch" href="/v1.test/assets/js/593.63733f2a.js"><link rel="prefetch" href="/v1.test/assets/js/594.78188b71.js"><link rel="prefetch" href="/v1.test/assets/js/595.7b6e108b.js"><link rel="prefetch" href="/v1.test/assets/js/596.1af16389.js"><link rel="prefetch" href="/v1.test/assets/js/597.b88925aa.js"><link rel="prefetch" href="/v1.test/assets/js/598.b1656c05.js"><link rel="prefetch" href="/v1.test/assets/js/599.8549e923.js"><link rel="prefetch" href="/v1.test/assets/js/6.acaa8701.js"><link rel="prefetch" href="/v1.test/assets/js/60.572fa1c7.js"><link rel="prefetch" href="/v1.test/assets/js/600.d96aa70e.js"><link rel="prefetch" href="/v1.test/assets/js/601.cf47e6b4.js"><link rel="prefetch" href="/v1.test/assets/js/602.0bbce521.js"><link rel="prefetch" href="/v1.test/assets/js/603.ade8a102.js"><link rel="prefetch" href="/v1.test/assets/js/604.85d553aa.js"><link rel="prefetch" href="/v1.test/assets/js/61.c2535e33.js"><link rel="prefetch" href="/v1.test/assets/js/62.74043bd3.js"><link rel="prefetch" href="/v1.test/assets/js/63.66e108b4.js"><link rel="prefetch" href="/v1.test/assets/js/64.0709d580.js"><link rel="prefetch" href="/v1.test/assets/js/65.6f65c501.js"><link rel="prefetch" href="/v1.test/assets/js/66.3d5d3d83.js"><link rel="prefetch" href="/v1.test/assets/js/67.67262c6a.js"><link rel="prefetch" href="/v1.test/assets/js/68.cae41b1a.js"><link rel="prefetch" href="/v1.test/assets/js/69.24ec48c1.js"><link rel="prefetch" href="/v1.test/assets/js/7.61155f15.js"><link rel="prefetch" href="/v1.test/assets/js/70.5f149a72.js"><link rel="prefetch" href="/v1.test/assets/js/71.70321d7c.js"><link rel="prefetch" href="/v1.test/assets/js/72.6e502c41.js"><link rel="prefetch" href="/v1.test/assets/js/73.0ecad037.js"><link rel="prefetch" href="/v1.test/assets/js/74.676be559.js"><link rel="prefetch" href="/v1.test/assets/js/75.f55cdae4.js"><link rel="prefetch" href="/v1.test/assets/js/76.fe9d119d.js"><link rel="prefetch" href="/v1.test/assets/js/77.8b270a10.js"><link rel="prefetch" href="/v1.test/assets/js/78.1bbe0bee.js"><link rel="prefetch" href="/v1.test/assets/js/79.3814628a.js"><link rel="prefetch" href="/v1.test/assets/js/8.98698a1c.js"><link rel="prefetch" href="/v1.test/assets/js/80.6e4f5aff.js"><link rel="prefetch" href="/v1.test/assets/js/81.efa8f2b1.js"><link rel="prefetch" href="/v1.test/assets/js/82.68d8ffb4.js"><link rel="prefetch" href="/v1.test/assets/js/83.c2277b6e.js"><link rel="prefetch" href="/v1.test/assets/js/84.1d682668.js"><link rel="prefetch" href="/v1.test/assets/js/85.37ffddd8.js"><link rel="prefetch" href="/v1.test/assets/js/86.14cfb8de.js"><link rel="prefetch" href="/v1.test/assets/js/87.b19d4d6b.js"><link rel="prefetch" href="/v1.test/assets/js/88.d5012f0a.js"><link rel="prefetch" href="/v1.test/assets/js/89.9ad7773e.js"><link rel="prefetch" href="/v1.test/assets/js/9.2623e028.js"><link rel="prefetch" href="/v1.test/assets/js/90.6f1a3422.js"><link rel="prefetch" href="/v1.test/assets/js/91.616c6f79.js"><link rel="prefetch" href="/v1.test/assets/js/92.486bb8e8.js"><link rel="prefetch" href="/v1.test/assets/js/93.71bf56c5.js"><link rel="prefetch" href="/v1.test/assets/js/94.abc25f7e.js"><link rel="prefetch" href="/v1.test/assets/js/95.80696274.js"><link rel="prefetch" href="/v1.test/assets/js/96.848caf44.js"><link rel="prefetch" href="/v1.test/assets/js/97.c2e0cabd.js"><link rel="prefetch" href="/v1.test/assets/js/98.ce9668cd.js"><link rel="prefetch" href="/v1.test/assets/js/99.3b71ba89.js"><link rel="prefetch" href="/v1.test/assets/js/vendors~docsearch.3d325d31.js"><!--after-resource-hints-->
    <link rel="stylesheet" href="/v1.test/assets/css/0.styles.4a018ba8.css">
  </head>
  <body>
    <!--before-vue-ssr-outlet--><div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/v1.test/en/" class="home-link router-link-active"><img src="/v1.test/px4-logo.svg" alt="PX4 User Guide" class="logo"> <span class="site-name can-hide">PX4 User Guide</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PX4 Menu" class="dropdown-title"><span class="title">PX4</span> <span class="arrow down"></span></button> <button type="button" aria-label="PX4 Menu" class="mobile-dropdown-title"><span class="title">PX4</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://px4.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/master/en/contribute/support.html" target="_self" class="nav-link external">
  Support
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://github.com/PX4/PX4-Autopilot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Autopilot Source Code
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/PX4/PX4-user_guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs Source Code
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="http://qgroundcontrol.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QGroundControl
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mavsdk.mavlink.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVSDK
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mavlink.io/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVLINK
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Documentation Menu" class="dropdown-title"><span class="title">Docs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Documentation Menu" class="mobile-dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.qgroundcontrol.com/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QGroundControl User Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dev.qgroundcontrol.com/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QGroundControl Developer Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mavlink.io/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVLink Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mavsdk.mavlink.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVSDK
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://camera-manager.dronecode.org/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dronecode Camera Manager
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://docs.px4.io/master/en/contribute/support.html" target="_self" class="nav-link external">
  Support
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Versions Menu" class="dropdown-title"><span class="title">Version</span> <span class="arrow down"></span></button> <button type="button" aria-label="Versions Menu" class="mobile-dropdown-title"><span class="title">Version</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.px4.io/master/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  master
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.12/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.12
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.11/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.11
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.10/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.10
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.9.0/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.9
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.8.2/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.8
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          DevGuide (Old/Merged)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dev.px4.io/v1.11_noredirect/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DevGuide v1.11
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://dev.px4.io/v1.10_noredirect/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DevGuide v1.10
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1.test/en/ros/external_position_estimation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/v1.test/ko/" class="nav-link">
   (Korean)
</a></li><li class="dropdown-item"><!----> <a href="/v1.test/zh/" class="nav-link">
   (Chinese)
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PX4 Menu" class="dropdown-title"><span class="title">PX4</span> <span class="arrow down"></span></button> <button type="button" aria-label="PX4 Menu" class="mobile-dropdown-title"><span class="title">PX4</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://px4.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/master/en/contribute/support.html" target="_self" class="nav-link external">
  Support
  <!----></a></li><li class="dropdown-item"><!----> <a href="https://github.com/PX4/PX4-Autopilot" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Autopilot Source Code
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/PX4/PX4-user_guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docs Source Code
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="http://qgroundcontrol.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QGroundControl
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mavsdk.mavlink.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVSDK
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mavlink.io/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVLINK
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Documentation Menu" class="dropdown-title"><span class="title">Docs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Documentation Menu" class="mobile-dropdown-title"><span class="title">Docs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.qgroundcontrol.com/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QGroundControl User Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dev.qgroundcontrol.com/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QGroundControl Developer Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mavlink.io/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVLink Guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mavsdk.mavlink.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MAVSDK
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://camera-manager.dronecode.org/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dronecode Camera Manager
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://docs.px4.io/master/en/contribute/support.html" target="_self" class="nav-link external">
  Support
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Versions Menu" class="dropdown-title"><span class="title">Version</span> <span class="arrow down"></span></button> <button type="button" aria-label="Versions Menu" class="mobile-dropdown-title"><span class="title">Version</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://docs.px4.io/master/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  master
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.12/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.12
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.11/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.11
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.10/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.10
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.9.0/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.9
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://docs.px4.io/v1.8.2/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  v1.8
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          DevGuide (Old/Merged)
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://dev.px4.io/v1.11_noredirect/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DevGuide v1.11
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://dev.px4.io/v1.10_noredirect/en/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  DevGuide v1.10
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/v1.test/en/ros/external_position_estimation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/v1.test/ko/" class="nav-link">
   (Korean)
</a></li><li class="dropdown-item"><!----> <a href="/v1.test/zh/" class="nav-link">
   (Chinese)
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/v1.test/en/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/getting_started/" class="sidebar-heading clickable"><span>Getting Started</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/assembly/" class="sidebar-heading clickable"><span>Basic Assembly</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/config/" class="sidebar-heading clickable"><span>Basic Configuration</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/airframes/" class="sidebar-heading clickable"><span>Airframe Builds</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/flying/" class="sidebar-heading clickable"><span>Flying</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/log/flight_log_analysis" class="sidebar-heading clickable"><span>Flight Log Analysis</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/advanced_features/" class="sidebar-heading clickable"><span>Advanced Features</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/advanced_config/" class="sidebar-heading clickable"><span>Advanced Configuration</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/hardware/drone_parts" class="sidebar-heading clickable"><span>Hardware (Drones&amp;Parts)</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/development/development" class="sidebar-heading clickable"><span>Development</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/robotics/" class="sidebar-heading clickable open"><span>Robotics</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/v1.test/en/ros/offboard_control.html" class="sidebar-link">Offboard Control from Linux</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/v1.test/en/ros/" class="sidebar-heading clickable router-link-active open"><span>ROS</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/v1.test/en/ros/ros2" class="sidebar-heading clickable"><span>ROS 2</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/v1.test/en/ros/ros1_via_ros2.html" class="sidebar-link">ROS (1) via ROS 2 Bridge</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/v1.test/en/ros/ros1" class="sidebar-heading clickable open"><span>ROS (1) with MAVROS</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/v1.test/en/ros/mavros_installation.html" class="sidebar-link">ROS/MAVROS Installation Guide</a></li><li><a href="/v1.test/en/ros/mavros_offboard.html" class="sidebar-link">ROS/MAVROS Offboard Example</a></li><li><a href="/v1.test/en/ros/mavros_custom_messages.html" class="sidebar-link">ROS/MAVROS Sending Custom Messages</a></li><li><a href="/v1.test/en/simulation/ros_interface.html" class="sidebar-link">ROS/MAVROS with Gazebo Simulation</a></li><li><a href="/v1.test/en/simulation/gazebo_octomap.html" class="sidebar-link">Gazebo OctoMap Models with ROS (1)</a></li><li><a href="/v1.test/en/ros/raspberrypi_installation.html" class="sidebar-link">ROS/MAVROS Installation on RPi</a></li><li><a href="/v1.test/en/ros/external_position_estimation.html" aria-current="page" class="active sidebar-link">External Position Estimation (Vision/Motion based)</a></li></ul></section></li></ul></section></li><li><a href="/v1.test/en/robotics/dronekit.html" class="sidebar-link">DroneKit</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/contribute/" class="sidebar-heading clickable"><span>Contribution (&amp;Dev Call)</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/v1.test/en/releases/" class="sidebar-heading clickable"><span>Releases</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="using-vision-or-motion-capture-systems-for-position-estimation"><a href="#using-vision-or-motion-capture-systems-for-position-estimation" class="header-anchor">#</a> Using Vision or Motion Capture Systems for Position Estimation</h1> <p>Visual Inertial Odometry (VIO) and Motion Capture (MoCap) systems allow vehicles to navigate when a global position source is unavailable or unreliable (e.g. indoors, or when flying under a bridge. etc.).</p> <p>Both VIO and MoCap determine a vehicle's <em>pose</em> (position and attitude) from &quot;visual&quot; information.
The main difference between them is the frame perspective:</p> <ul><li>VIO uses <em>onboard sensors</em> to get pose data from the vehicle's perspective (see <a href="https://en.wikipedia.org/wiki/Visual_odometry#Egomotion" target="_blank" rel="noopener noreferrer">egomotion<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</li> <li>MoCap uses a system of <em>off-board cameras</em> to get vehicle pose data in a 3D space (i.e. it is an external system that tells the vehicle its pose).</li></ul> <p>Pose data from either type of system can be used to update a PX4-based autopilot's local position estimate (relative to the local origin) and also can optionally also be fused into the vehicle attitude estimation. Additionally, if the external pose system also provides linear velocity measurements, it can be used to improve the state estimate (fusion of linear velocity measurements is only supported by the EKF2).</p> <p>This topic explains how to configure a PX4-based system to get data from MoCap/VIO systems (either via ROS or some other MAVLink system) and more specifically how to set up MoCap systems like VICON and Optitrack, and vision-based estimation systems like <a href="https://github.com/ethz-asl/rovio" target="_blank" rel="noopener noreferrer">ROVIO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/uzh-rpg/rpg_svo" target="_blank" rel="noopener noreferrer">SVO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/ethz-asl/ethzasl_ptam" target="_blank" rel="noopener noreferrer">PTAM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</p> <div class="custom-block note"><p class="custom-block-title">Note</p> <p>The instructions differ depending on whether you are using the EKF2 or LPE estimator.</p></div> <h2 id="px4-mavlink-integration"><a href="#px4-mavlink-integration" class="header-anchor">#</a> PX4 MAVLink Integration</h2> <p>PX4 uses the following MAVLink messages for getting external position information, and maps them to <a href="/v1.test/en/middleware/uorb.html">uORB topics</a>:</p> <table><thead><tr><th>MAVLink</th> <th>uORB</th></tr></thead> <tbody><tr><td><a href="https://mavlink.io/en/messages/common.html#VISION_POSITION_ESTIMATE" target="_blank" rel="noopener noreferrer">VISION_POSITION_ESTIMATE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>vehicle_visual_odometry</code></td></tr> <tr><td><a href="https://mavlink.io/en/messages/common.html#ODOMETRY" target="_blank" rel="noopener noreferrer">ODOMETRY<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<code>frame_id =</code> <a href="https://mavlink.io/en/messages/common.html#MAV_FRAME_LOCAL_FRD" target="_blank" rel="noopener noreferrer">MAV_FRAME_LOCAL_FRD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</td> <td><code>vehicle_visual_odometry</code></td></tr> <tr><td><a href="https://mavlink.io/en/messages/common.html#ATT_POS_MOCAP" target="_blank" rel="noopener noreferrer">ATT_POS_MOCAP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>vehicle_mocap_odometry</code></td></tr> <tr><td><a href="https://mavlink.io/en/messages/common.html#ODOMETRY" target="_blank" rel="noopener noreferrer">ODOMETRY<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<code>frame_id =</code> <a href="https://mavlink.io/en/messages/common.html#MAV_FRAME_MOCAP_NED" target="_blank" rel="noopener noreferrer">MAV_FRAME_MOCAP_NED<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</td> <td><code>vehicle_mocap_odometry</code></td></tr></tbody></table> <p>EKF2 only subscribes to <code>vehicle_visual_odometry</code> topics and can hence only process the first two messages
(a MoCap system must generate these messages to work with EKF2). The odometry message is the only message that can send also linear velocities to PX4.
The LPE estimator subscribes to both topics, and can hence process all the above messages.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>EFK2 is the default estimator used by PX4.
It is better tested and supported than LPE, and should be used by preference.</p></div> <p>The messages should be streamed at between 30Hz (if containing covariances) and 50 Hz.
If the message rate is too low, EKF2 will not fuse the external vision messages.</p> <p>The following MAVLink &quot;vision&quot; messages are not currently supported by PX4:
<a href="https://mavlink.io/en/messages/common.html#GLOBAL_VISION_POSITION_ESTIMATE" target="_blank" rel="noopener noreferrer">GLOBAL_VISION_POSITION_ESTIMATE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,
<a href="https://mavlink.io/en/messages/common.html#VISION_SPEED_ESTIMATE" target="_blank" rel="noopener noreferrer">VISION_SPEED_ESTIMATE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,
<a href="https://mavlink.io/en/messages/common.html#VICON_POSITION_ESTIMATE" target="_blank" rel="noopener noreferrer">VICON_POSITION_ESTIMATE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="reference-frames"><a href="#reference-frames" class="header-anchor">#</a> Reference Frames</h2> <p>PX4 uses FRD (X <strong>F</strong>orward, Y <strong>R</strong>ight and Z <strong>D</strong>own) for the local body frame as well for the reference frame. When using the heading of the magnetometer, the PX4 reference frame x axis will be aligned with north, so therefore it is called NED (X <strong>N</strong>orth, Y <strong>E</strong>ast, Z <strong>D</strong>own). The heading of the reference frame of the PX4 estimator and the one of the external pose estimate will not match in most cases.
Therefore the reference frame of the external pose estimate is named differently, it is called <a href="https://mavlink.io/en/messages/common.html#MAV_FRAME_LOCAL_FRD" target="_blank" rel="noopener noreferrer">MAV_FRAME_LOCAL_FRD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Depending on the source of your reference frame, you will need to apply a custom transformation to the pose estimate before sending the MAVLink Vision/MoCap message.
This is necessary to change the orientation of the parent and child frame of the pose estimate, such that it fits the PX4 convention. Have a look at the MAVROS <a href="https://github.com/mavlink/mavros/blob/master/mavros_extras/src/plugins/odom.cpp" target="_blank" rel="noopener noreferrer"><em>odom</em> plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for the necessary transformations.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>ROS users can find more detailed instructions below in <a href="#reference-frames-and-ros">Reference Frames and ROS</a>.</p></div> <p>For example, if using the Optitrack framework the local frame has <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" viewBox="0 -442 572 453" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="78" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="TeXAtom" transform="translate(572, 0)"></g></g></g></svg></mjx-container> and <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.052ex" height="1.025ex" viewBox="0 -442 465 453" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="7A" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="TeXAtom" transform="translate(465, 0)"></g></g></g></svg></mjx-container> on the horizontal plane (<em>x</em> front and <em>z</em> right) while <em>y</em> axis is vertical and pointing up.
A simple trick is swapping axis in order to obtained NED convention.</p> <p>If <code>x_{mav}</code>, <code>y_{mav}</code> and <code>z_{mav}</code> are the coordinates that are sent through MAVLink as position feedback, then we obtain:</p> <div class="language- extra-class"><pre class="language-text"><code>x_{mav} = x_{mocap}
y_{mav} = z_{mocap}
z_{mav} = - y_{mocap}
</code></pre></div><p>Regarding the orientation, keep the scalar part <em>w</em> of the quaternion the same and swap the vector part <em>x</em>, <em>y</em> and <em>z</em> in the same way.
You can apply this trick with every system - if you need to obtain a NED frame, look at your MoCap output and swap axis accordingly.</p> <h2 id="ekf2-tuning-configuration"><a href="#ekf2-tuning-configuration" class="header-anchor">#</a> EKF2 Tuning/Configuration</h2> <p>Note: this is a quick overview.
For more detailed information, check the <a href="/v1.test/en/advanced_config/tuning_the_ecl_ekf.html">EKF2 tuning guide</a></p> <p>The following parameters must be set to use external position information with EKF2 (these can be set in <em>QGroundControl</em> &gt; <strong>Vehicle Setup &gt; Parameters &gt; EKF2</strong>).</p> <table><thead><tr><th>Parameter</th> <th>Setting for External Position Estimation</th></tr></thead> <tbody><tr><td><a href="/v1.test/en/advanced_config/parameter_reference.html#EKF2_AID_MASK">EKF2_AID_MASK</a></td> <td>Set <em>vision position fusion</em>, <em>vision velocity fusion</em>, <em>vision yaw fusion</em> and <em>external vision rotation</em> accoring to your desired fusion model.</td></tr> <tr><td><a href="/v1.test/en/advanced_config/parameter_reference.html#EKF2_HGT_MODE">EKF2_HGT_MODE</a></td> <td>Set to <em>Vision</em> to use the vision a primary source for altitude estimation.</td></tr> <tr><td><a href="/v1.test/en/advanced_config/parameter_reference.html#EKF2_EV_DELAY">EKF2_EV_DELAY</a></td> <td>Set to the difference between the timestamp of the measurement and the &quot;actual&quot; capture time. For more information see <a href="#tuning-EKF2_EV_DELAY">below</a>.</td></tr> <tr><td><a href="/v1.test/en/advanced_config/parameter_reference.html#EKF2_EV_POS_X">EKF2_EV_POS_X</a>, <a href="/v1.test/en/advanced_config/parameter_reference.html#EKF2_EV_POS_Y">EKF2_EV_POS_Y</a>, <a href="/v1.test/en/advanced_config/parameter_reference.html#EKF2_EV_POS_Z">EKF2_EV_POS_Z</a></td> <td>Set the position of the vision sensor (or MoCap markers) with respect to the robot's body frame.</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Reboot the flight controller in order for parameter changes to take effect.</p></div> <p><a id="tuning-EKF2_EV_DELAY"></a></p> <h4 id="tuning-ekf2-ev-delay"><a href="#tuning-ekf2-ev-delay" class="header-anchor">#</a> Tuning EKF2_EV_DELAY</h4> <p><a href="/v1.test/en/advanced_config/parameter_reference.html#EKF2_EV_DELAY">EKF2_EV_DELAY</a> is the <em>Vision Position Estimator delay relative to IMU measurements</em>.</p> <p>Or in other words, it is the difference between the vision system timestamp and the &quot;actual&quot; capture time that would have been recorded by the IMU clock (the &quot;base clock&quot; for EKF2).</p> <p>Technically this can be set to 0 if there is correct timestamping (not just arrival time) and timesync (e.g NTP) between MoCap and (for example) ROS computers.
In reality, this needs some empirical tuning since delays in the entire MoCap-&gt;PX4 chain are very setup-specific.
It is rare that a system is setup with an entirely synchronised chain!</p> <p>A rough estimate of the delay can be obtained from logs by checking the offset between IMU rates and the EV rates.
To enable logging of EV rates set bit 7 (Computer Vision and Avoidance) of <a href="/v1.test/en/advanced_config/parameter_reference.html#SDLOG_PROFILE">SDLOG_PROFILE</a>.</p> <p><img src="/v1.test/assets/img/ekf2_ev_delay_tuning.e77364d5.png" alt="ekf2_ev_delay log"></p> <div class="custom-block note"><p class="custom-block-title">Note</p> <p>A plot of external data vs. onboard estimate (as above) can be generated using <a href="/v1.test/en/log/flight_log_analysis.html#flightplot">FlightPlot</a> or similar flight analysis tools.
At time of writing (July 2021) neither <a href="/v1.test/en/log/flight_log_analysis.html#flight-review-online-tool">Flight Review</a> nor <a href="/v1.test/en/log/flight_log_analysis.html#mavgcl">MAVGCL</a> support this functionality.</p></div> <p>The value can further be tuned by varying the parameter to find the value that yields the lowest EKF innovations during dynamic maneuvers.</p> <h2 id="lpe-tuning-configuration"><a href="#lpe-tuning-configuration" class="header-anchor">#</a> LPE Tuning/Configuration</h2> <p>You will first need to <a href="/v1.test/en/advanced/switching_state_estimators.html">switch to the LPE estimator</a> by setting the <a href="/v1.test/en/advanced_config/parameter_reference.html#SYS_MC_EST_GROUP">SYS_MC_EST_GROUP</a> parameter.</p> <div class="custom-block note"><p class="custom-block-title">Note</p> <p>If targeting <code>px4_fmu-v2</code> hardware you will also need to use a firmware version that includes the LPE module (firmware for other FMU-series hardware includes both LPE and EKF).
The LPE version can be found in the zip file for each PX4 release or it can be built from source using the build command <code>make px4_fmu-v2_lpe</code>.
See <a href="/v1.test/en/dev_setup/building_px4.html">Building the Code</a> for more details.</p></div> <h3 id="enabling-external-pose-input"><a href="#enabling-external-pose-input" class="header-anchor">#</a> Enabling External Pose Input</h3> <p>The following parameters must be set to use external position information with LPE (these can be set in <em>QGroundControl</em> &gt; <strong>Vehicle Setup &gt; Parameters &gt; Local Position Estimator</strong>).</p> <table><thead><tr><th>Parameter</th> <th>Setting for External Position Estimation</th></tr></thead> <tbody><tr><td><a href="/v1.test/en/advanced_config/parameter_reference.html#LPE_FUSION">LPE_FUSION</a></td> <td>Vision integration is enabled if <em>fuse vision position</em> is checked (it is enabled by default).</td></tr> <tr><td><a href="/v1.test/en/advanced_config/parameter_reference.html#ATT_EXT_HDG_M">ATT_EXT_HDG_M</a></td> <td>Set to 1 or 2 to enable external heading integration. Setting it to 1 will cause vision to be used, while 2 enables MoCap heading use.</td></tr></tbody></table> <h3 id="disabling-barometer-fusion"><a href="#disabling-barometer-fusion" class="header-anchor">#</a> Disabling Barometer Fusion</h3> <p>If a highly accurate altitude is already available from VIO or MoCap information, it may be useful to disable the baro correction in LPE to reduce drift on the Z axis.</p> <p>This can be done by in <em>QGroundControl</em> by unchecking the <em>fuse baro</em> option in the <a href="/v1.test/en/advanced_config/parameter_reference.html#LPE_FUSION">LPE_FUSION</a> parameter.</p> <h3 id="tuning-noise-parameters"><a href="#tuning-noise-parameters" class="header-anchor">#</a> Tuning Noise Parameters</h3> <p>If your vision or MoCap data is highly accurate, and you just want the estimator to track it tightly, you should reduce the standard deviation parameters: <a href="/v1.test/en/advanced_config/parameter_reference.html#LPE_VIS_XY">LPE_VIS_XY</a> and <a href="/v1.test/en/advanced_config/parameter_reference.html#LPE_VIS_Z">LPE_VIS_Z</a> (for VIO) or <a href="/v1.test/en/advanced_config/parameter_reference.html#LPE_VIC_P">LPE_VIC_P</a> (for MoCap).
Reducing them will cause the estimator to trust the incoming pose estimate more.
You may need to set them lower than the allowed minimum and force-save.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>If performance is still poor, try increasing the <a href="/v1.test/en/advanced_config/parameter_reference.html#LPE_PN_V">LPE_PN_V</a> parameter.
This will cause the estimator to trust measurements more during velocity estimation.</p></div> <h2 id="working-with-ros"><a href="#working-with-ros" class="header-anchor">#</a> Working with ROS</h2> <p>ROS is not <em>required</em> for supplying external pose information, but is highly recommended as it already comes with good integrations with VIO and MoCap systems.
PX4 must already have been set up as above.</p> <h3 id="getting-pose-data-into-ros"><a href="#getting-pose-data-into-ros" class="header-anchor">#</a> Getting Pose Data Into ROS</h3> <p>VIO and MoCap systems have different ways of obtaining pose data, and have their own setup and topics.</p> <p>The setup for specific systems is covered <a href="#setup_specific_systems">below</a>.
For other systems consult the vendor setup documentation.</p> <p><a id="relaying_pose_data_to_px4"></a></p> <h3 id="relaying-pose-data-to-px4"><a href="#relaying-pose-data-to-px4" class="header-anchor">#</a> Relaying Pose Data to PX4</h3> <p>MAVROS has plugins to relay a visual estimation from a VIO or MoCap system using the following pipelines:</p> <table><thead><tr><th>ROS</th> <th>MAVLink</th> <th>uORB</th></tr></thead> <tbody><tr><td>/mavros/vision_pose/pose</td> <td><a href="https://mavlink.io/en/messages/common.html#VISION_POSITION_ESTIMATE" target="_blank" rel="noopener noreferrer">VISION_POSITION_ESTIMATE<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>vehicle_visual_odometry</code></td></tr> <tr><td>/mavros/odometry/out (<code>frame_id = odom</code>, <code>child_frame_id = base_link</code>)</td> <td><a href="https://mavlink.io/en/messages/common.html#ODOMETRY" target="_blank" rel="noopener noreferrer">ODOMETRY<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<code>frame_id =</code> <a href="https://mavlink.io/en/messages/common.html#MAV_FRAME_LOCAL_FRD" target="_blank" rel="noopener noreferrer">MAV_FRAME_LOCAL_FRD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</td> <td><code>vehicle_visual_odometry</code></td></tr> <tr><td>/mavros/mocap/pose</td> <td><a href="https://mavlink.io/en/messages/common.html#ATT_POS_MOCAP" target="_blank" rel="noopener noreferrer">ATT_POS_MOCAP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><code>vehicle_mocap_odometry</code></td></tr> <tr><td>/mavros/odometry/out (<code>frame_id = odom</code>, <code>child_frame_id = base_link</code>)</td> <td><a href="https://mavlink.io/en/messages/common.html#ODOMETRY" target="_blank" rel="noopener noreferrer">ODOMETRY<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (<code>frame_id =</code> <a href="https://mavlink.io/en/messages/common.html#MAV_FRAME_LOCAL_FRD" target="_blank" rel="noopener noreferrer">MAV_FRAME_LOCAL_FRD<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</td> <td><code>vehicle_mocap_odometry</code></td></tr></tbody></table> <p>You can use any of the above pipelines with LPE.</p> <p>If you're working with EKF2, only the &quot;vision&quot; pipelines are supported.
To use MoCap data with EKF2 you will have to <a href="http://wiki.ros.org/roslaunch/XML/remap" target="_blank" rel="noopener noreferrer">remap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> the pose topic that you get from MoCap:</p> <ul><li>MoCap ROS topics of type <code>geometry_msgs/PoseStamped</code> or <code>geometry_msgs/PoseWithCovarianceStamped</code> must be remapped to <code>/mavros/vision_pose/pose</code>.
The <code>geometry_msgs/PoseStamped</code> topic is most common as MoCap doesn't usually have associated covariances to the data.</li> <li>If you get data through a <code>nav_msgs/Odometry</code> ROS message then you will need to remap it to <code>/mavros/odometry/out</code>, making sure to update the <code>frame_id</code> and <code>child_frame_id</code> accordingly.</li> <li>The odometry frames <code>frame_id = odom</code>, <code>child_frame_id = base_link</code> can be changed by updating the file in <code>mavros/launch/px4_config.yaml</code>. However, the current version of mavros (<code>1.3.0</code>) needs to be able to use the tf tree to find a transform from <code>frame_id</code> to the hardcoded frame <code>odom_ned</code>. The same applies to the <code>child_frame_id</code>, which needs to be connected in the tf tree to the hardcoded frame <code>base_link_frd</code>. If you are using mavros <code>1.2.0</code> and you didn't update the file <code>mavros/launch/px4_config.yaml</code>, then you can safely use the odometry frames <code>frame_id = odom</code>, <code>child_frame_id = base_link</code> without much worry.</li> <li>Note that if you are sending odometry data to px4 using <code>child_frame_id = base_link</code>, then you need to make sure that the <code>twist</code> portion of the <code>nav_msgs/Odometry</code> message is <strong>expressed in body frame</strong>, <strong>not in inertial frame!!!!!</strong>.</li></ul> <h3 id="reference-frames-and-ros"><a href="#reference-frames-and-ros" class="header-anchor">#</a> Reference Frames and ROS</h3> <p>The local/world and world frames used by ROS and PX4 are different.</p> <table><thead><tr><th>Frame</th> <th>PX4</th> <th>ROS</th></tr></thead> <tbody><tr><td>Body</td> <td>FRD (X <strong>F</strong>orward, Y <strong>R</strong>ight, Z <strong>D</strong>own)</td> <td>FLU (X <strong>F</strong>orward, Y <strong>L</strong>eft, Z <strong>U</strong>p), usually named <code>base_link</code></td></tr> <tr><td>World</td> <td>FRD or NED (X <strong>N</strong>orth, Y <strong>E</strong>ast, Z <strong>D</strong>own)</td> <td>FLU or ENU (X <strong>E</strong>ast, Y <strong>N</strong>orth, Z <strong>U</strong>p), with the naming being <code>odom</code> or <code>map</code></td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>See <a href="http://www.ros.org/reps/rep-0105.html" target="_blank" rel="noopener noreferrer">REP105: Coordinate Frames for Mobile Platforms<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more information about ROS frames.</p></div> <p>Both frames are shown in the image below (FRD on the left/FLU on the right).</p> <p><img src="/v1.test/assets/img/ref_frames.b0d97b5d.png" alt="Reference frames"></p> <p>With EKF2 when using external heading estimation, magnetic north can either be ignored and or the heading offset to magnetic north can be calculated and compensated. Depending on your choice the yaw angle is given with respect to either magnetic north or local <em>x</em>.</p> <div class="custom-block note"><p class="custom-block-title">Note</p> <p>When creating the rigid body in the MoCap software, remember to first align the robot's local <em>x</em> axis with the world <em>x</em> axis otherwise the yaw estimate will have an offset. This can stop the external pose estimate fusion from working properly.
Yaw angle should be zero when body and reference frame align.</p></div> <p>Using MAVROS, this operation is straightforward.
ROS uses ENU frames as convention, therefore position feedback must be provided in ENU.
If you have an Optitrack system you can use <a href="https://github.com/ros-drivers/mocap_optitrack" target="_blank" rel="noopener noreferrer">mocap_optitrack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> node which streams the object pose on a ROS topic already in ENU.
With a remapping you can directly publish it on <code>mocap_pose_estimate</code> as it is without any transformation and MAVROS will take care of NED conversions.</p> <p>The MAVROS odometry plugin makes it easy to handle the coordinate frames.
It uses ROS's tf package. Your external pose system might have a completely different frame convention that does not match the one of PX4.
The body frame of the external pose estimate can depend on how you set the body frame in the MOCAP software or on how you mount the VIO sensor on the drone.
The MAVROS odometry plugin needs to know how the external pose's child frame is oriented with respect to either the airframe's FRD or FLU body frame known by MAVROS.
You therefore have to add the external pose's body frame to the tf tree. This can be done by including an adapted version of the following line into your ROS launch file.</p> <div class="language- extra-class"><pre class="language-text"><code>  &lt;node pkg=&quot;tf&quot; type=&quot;static_transform_publisher&quot; name=&quot;tf_baseLink_externalPoseChildFrame&quot;
        args=&quot;0 0 0 &lt;yaw&gt; &lt;pitch&gt; &lt;roll&gt; base_link &lt;external_pose_child_frame&gt; 1000&quot;/&gt;
</code></pre></div><p>Make sure that you change the values of yaw, pitch and roll such that it properly attaches the external pose's body frame to the <code>base_link</code> or <code>base_link_frd</code>.
Have a look at the <a href="http://wiki.ros.org/tf#static_transform_publisher" target="_blank" rel="noopener noreferrer">tf package<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for further help on how to specify the transformation between the frames.
You can use rviz to check if you attached the frame right. The name of the <code>external_pose_child_frame</code> has to match the child_frame_id of your <code>nav_msgs/Odometry</code> message.
The same also applies for the reference frame of the external pose. You have to attach the reference frame of the external pose as child to either the <code>odom</code> or <code>odom_frd</code> frame. Adapt therefore the following code line accordingly.</p> <div class="language- extra-class"><pre class="language-text"><code>  &lt;node pkg=&quot;tf&quot; type=&quot;static_transform_publisher&quot; name=&quot;tf_odom_externalPoseParentFrame&quot;
        args=&quot;0 0 0 &lt;yaw&gt; &lt;pitch&gt; &lt;roll&gt; odom &lt;external_pose_parent_frame&gt; 1000&quot;/&gt;
</code></pre></div><p>If the reference frame has the z axis pointing upwards you can attached it without any rotation (yaw=0, pitch=0, roll=0) to the <code>odom</code> frame.
The name of <code>external_pose_parent_frame</code> has to match the frame_id of the odometry message.</p> <div class="custom-block note"><p class="custom-block-title">Note</p> <p>When using the MAVROS <em>odom</em> plugin, it is important that no other node is publishing a transform between the external pose's reference and child frame.
This might break the <em>tf</em> tree.</p></div> <p><a id="setup_specific_systems"></a></p> <h2 id="specific-system-setups"><a href="#specific-system-setups" class="header-anchor">#</a> Specific System Setups</h2> <h3 id="optitrack-mocap"><a href="#optitrack-mocap" class="header-anchor">#</a> OptiTrack MoCap</h3> <p>The following steps explain how to feed position estimates from an <a href="https://optitrack.com/motion-capture-robotics/" target="_blank" rel="noopener noreferrer">OptiTrack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> system to PX4.
It is assumed that the MoCap system is calibrated.
See <a href="https://www.youtube.com/watch?v=cNZaFEghTBU" target="_blank" rel="noopener noreferrer">this video<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for a tutorial on the calibration process.</p> <h4 id="steps-on-the-motive-mocap-software"><a href="#steps-on-the-motive-mocap-software" class="header-anchor">#</a> Steps on the <em>Motive</em> MoCap software</h4> <ul><li>Align your robot's forward direction with the <a href="https://v20.wiki.optitrack.com/index.php?title=Template:Coordinate_System" target="_blank" rel="noopener noreferrer">system +x-axis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.youtube.com/watch?v=1e6Qqxqe-k0" target="_blank" rel="noopener noreferrer">Define a rigid body in the Motive software<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Give the robot a name that does not contain spaces, e.g. <code>robot1</code> instead of <code>Rigidbody 1</code></li> <li><a href="https://www.youtube.com/watch?v=yYRNG58zPFo" target="_blank" rel="noopener noreferrer">Enable Frame Broadacst and VRPN streaming<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Set the Up axis to be the Z axis (the default is Y)</li></ul> <h4 id="getting-pose-data-into-ros-2"><a href="#getting-pose-data-into-ros-2" class="header-anchor">#</a> Getting pose data into ROS</h4> <ul><li>Install the <code>vrpn_client_ros</code> package</li> <li>You can get each rigid body pose on an individual topic by running<div class="language-bash extra-class"><pre class="language-bash"><code>roslaunch vrpn_client_ros sample.launch server:<span class="token operator">=</span><span class="token operator">&lt;</span>mocap machine ip<span class="token operator">&gt;</span>
</code></pre></div></li></ul> <p>If you named the rigidbody as <code>robot1</code>, you will get a topic like <code>/vrpn_client_node/robot1/pose</code></p> <h4 id="relaying-remapping-pose-data"><a href="#relaying-remapping-pose-data" class="header-anchor">#</a> Relaying/remapping Pose Data</h4> <p>MAVROS provides a plugin to relay pose data published on <code>/mavros/vision_pose/pose</code> to PX4.
Assuming that MAVROS is running, you just need to <strong>remap</strong> the pose topic that you get from MoCap <code>/vrpn_client_node/&lt;rigid_body_name&gt;/pose</code> directly to <code>/mavros/vision_pose/pose</code>.
Note that there is also a <code>mocap</code> topic that MAVROS provides to feed <code>ATT_POS_MOCAP</code> to PX4, but it is not applicable for EKF2.
However, it is applicable with LPE.</p> <div class="custom-block note"><p class="custom-block-title">Note</p> <p>Remapping pose topics is covered above <a href="#relaying_pose_data_to_px4">Relaying pose data to PX4</a> (<code>/vrpn_client_node/&lt;rigid_body_name&gt;/pose</code> is of type <code>geometry_msgs/PoseStamped</code>).</p></div> <p>Assuming that you have configured EKF2 parameters as described above, PX4 now is set and fusing MoCap data.</p> <p>You are now set to proceed to the first flight.</p> <h2 id="first-flight"><a href="#first-flight" class="header-anchor">#</a> First Flight</h2> <p>After setting up one of the (specific) systems described above you should now be ready to test.
The instructions below show how to do so for MoCap and VIO systems</p> <h3 id="check-external-estimate"><a href="#check-external-estimate" class="header-anchor">#</a> Check external estimate</h3> <p>Be sure to perform the following checks before your first flight:</p> <ul><li>Set the PX4 parameter <code>MAV_ODOM_LP</code> to 1.
PX4 will then stream back the received external pose as MAVLink <a href="https://mavlink.io/en/messages/common.html#ODOMETRY" target="_blank" rel="noopener noreferrer">ODOMETRY<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> messages.</li> <li>You can check these MAVLink messages with the <em>QGroundControl</em> <a href="https://docs.qgroundcontrol.com/en/analyze_view/mavlink_inspector.html" target="_blank" rel="noopener noreferrer">MAVLink Inspector<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
In order to do this, yaw the vehicle until the quaternion of the <code>ODOMETRY</code> message is very close to a unit quaternion. (w=1, x=y=z=0)</li> <li>At this point the body frame is aligned with the reference frame of the external pose system.
If you do not manage to get a quaternion close to the unit quaternion without rolling or pitching your vehicle, your frame probably still have a pitch or roll offset.
Do not proceed if this is the case and check your coordinate frames again.</li> <li>Once aligned you can pick the vehicle up from the ground and you should see the position's z coordinate decrease.
Moving the vehicle in forward direction, should increase the position's x coordinate.
While moving the vehicle to the right should increase the y coordinate.
In the case you send also linear velocities from the external pose system, you should also check the linear velocities.
Check that the linear velocities are in expressed in the <em>FRD</em> body frame reference frame.</li> <li>Set the PX4 parameter <code>MAV_ODOM_LP</code> back to 0. PX4 will stop streaming this message back.</li></ul> <p>If those steps are consistent, you can try your first flight.</p> <p>Put the robot on the ground and start streaming MoCap feedback.
Lower your left (throttle) stick and arm the motors.</p> <p>At this point, with the left stick at the lowest position, switch to position control.
You should have a green light.
The green light tells you that position feedback is available and position control is now activated.</p> <p>Put your left stick at the middle, this is the dead zone.
With this stick value, the robot maintains its altitude;
raising the stick will increase the reference altitude while lowering the value will decrease it.
Same for right stick on x and y.</p> <p>Increase the value of the left stick and the robot will take off,
put it back to the middle right after. Check if it is able to keep its position.</p> <p>If it works, you may want to set up an <a href="/v1.test/en/ros/offboard_control.html">offboard</a> experiment by sending position-setpoint from a remote ground station.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/PX4/px4_user_guide/edit/master/en/ros/external_position_estimation.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/18/2021, 10:41:18 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      
      <a href="/v1.test/en/ros/raspberrypi_installation.html" class="prev">
        ROS/MAVROS Installation on RPi
      </a></span> <span class="next"><a href="/v1.test/en/robotics/dronekit.html">
        DroneKit
      </a>
      
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div><!--after-vue-ssr-outlet-->
    <!--before-scripts--><script src="/v1.test/assets/js/app.2e5e6452.js" defer></script><script src="/v1.test/assets/js/3.a2fd870b.js" defer></script><script src="/v1.test/assets/js/159.5a9db5c9.js" defer></script><!--after-scripts-->
  </body>
</html>
