(window.webpackJsonp=window.webpackJsonp||[]).push([[553],{2675:function(e,t,r){"use strict";r.r(t);var a=r(19),_=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"точна-посадка"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#точна-посадка"}},[e._v("#")]),e._v(" Точна посадка")]),e._v(" "),a("p",[e._v("PX4 підтримує точне приземлення для "),a("em",[e._v("Multicopters")]),e._v(" на стаціонарних або рухомих цілях. Ціль може бути надана вбудованим ІЧ-датчиком та приземленням, або зовнішньою системою позиціонування.")]),e._v(" "),a("p",[e._v("Пристрій для точного приземлення може бути "),a("a",{attrs:{href:"#initiating-a-precision-landing"}},[e._v("запущений/ініційований")]),e._v(" як частина "),a("a",{attrs:{href:"#mission"}},[e._v("місії")]),e._v(", у режимі "),a("a",{attrs:{href:"#return-mode-precision-landing"}},[e._v("повернення")]),e._v(" на посадку або при вході у режим польоту "),a("a",{attrs:{href:"#precision-landing-flight-mode"}},[a("em",[e._v("Точна посадка")])]),e._v(".")]),e._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v("Точна посадка можлива лише з дійсною глобальною позицією (через обмеження в поточній реалізації контролера позиції).")])]),e._v(" "),a("h2",{attrs:{id:"загальнии-огляд"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#загальнии-огляд"}},[e._v("#")]),e._v(" Загальний огляд")]),e._v(" "),a("h3",{attrs:{id:"режими-посадки"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#режими-посадки"}},[e._v("#")]),e._v(" Режими посадки")]),e._v(" "),a("p",[e._v('Точну посадку можна налаштувати як "обов\'язкову" або "вигідну". Вибір режиму впливає на те, як виконується точна посадка.')]),e._v(" "),a("h4",{attrs:{id:"required-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#required-mode"}},[e._v("#")]),e._v(" Required Mode")]),e._v(" "),a("p",[e._v("У "),a("em",[e._v("Required Mode")]),e._v(" транспортний засіб буде шукати ціль, якщо нічого не видно під час початку посадки. Транспортний засіб виконає точну посадку, якщо ціль буде знайдена.")]),e._v(" "),a("p",[e._v("Процедура пошуку полягає у підйомі на висоту пошуку ("),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_SRCH_ALT"}},[e._v("PLD_SRCH_ALT")]),e._v("). Якщо мішень все ще не видно на висоті пошуку після закінчення часу пошуку ("),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_SRCH_TOUT"}},[e._v("PLD_SRCH_TOUT")]),e._v("), то ініціюється звичайна посадка на поточному місці.")],1),e._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v("Якщо використовується позамежна система позиціонування, PX4 передбачає, що ціль буде видима, коли отримує повідомлення MAVLink "),a("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#LANDING_TARGET",target:"_blank",rel:"noopener noreferrer"}},[e._v("LANDING_TARGET"),a("OutboundLink")],1),e._v(".")])]),e._v(" "),a("h4",{attrs:{id:"opportunistic-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#opportunistic-mode"}},[e._v("#")]),e._v(" Opportunistic Mode")]),e._v(" "),a("p",[e._v("У режимі "),a("em",[e._v("Opportunistic Mode")]),e._v(" транспортний засіб використовуватиме точну посадку, "),a("em",[e._v("якщо")]),e._v(" (і тільки якщо) ціль буде видима, коли розпочинається посадка. Якщо ціль не видно, транспортний засіб негайно виконує "),a("em",[e._v("звичайну")]),e._v(" посадку на поточному місці.")]),e._v(" "),a("h3",{attrs:{id:"фази-посадки"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#фази-посадки"}},[e._v("#")]),e._v(" Фази посадки")]),e._v(" "),a("p",[e._v("Режим Точної посадки має три етапи:")]),e._v(" "),a("ol",[a("li",[a("p",[a("strong",[e._v("Horizontal approach:")]),e._v(" The vehicle approaches the target horizontally while keeping its current altitude. Once the position of the target relative to the vehicle is below a threshold ("),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_HACC_RAD"}},[e._v("PLD_HACC_RAD")]),e._v("), the next phase is entered. If the target is lost during this phase (not visible for longer than "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_BTOUT"}},[e._v("PLD_BTOUT")]),e._v("), a search procedure is initiated (during a required precision landing) or the vehicle does a normal landing (during an opportunistic precision landing).")],1)]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Descent over target:")]),e._v(" The vehicle descends, while remaining centered over the target. If the target is lost during this phase (not visible for longer than "),a("code",[e._v("PLD_BTOUT")]),e._v("), a search procedure is initiated (during a required precision landing) or the vehicle does a normal landing (during an opportunistic precision landing).")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Final approach:")]),e._v(" When the vehicle is close to the ground (closer than "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_FAPPR_ALT"}},[e._v("PLD_FAPPR_ALT")]),e._v("), it descends while remaining centered over the target. If the target is lost during this phase, the descent is continued independent of the kind of precision landing.")],1)])]),e._v(" "),a("p",[e._v("Search procedures are initiated in the first and second steps, and will run at most "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_MAX_SRCH"}},[e._v("PLD_MAX_SRCH")]),e._v(" times. Landing Phases Flow Diagram")],1),e._v(" "),a("p",[e._v("A flow diagram showing the phases can be found in "),a("a",{attrs:{href:"#landing-phases-flow-diagram"}},[e._v("landing phases flow Diagram")]),e._v(" below.")]),e._v(" "),a("h2",{attrs:{id:"початок-точноі-посадки"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#початок-точноі-посадки"}},[e._v("#")]),e._v(" Початок точної посадки")]),e._v(" "),a("p",[e._v("Точне приземлення можна використовувати у місіях, під час фази посадки у режимі "),a("em",[e._v("Повернення")]),e._v(", або ввійшовши в режим "),a("em",[e._v("Точна посадка")]),e._v(".")]),e._v(" "),a("p",[a("a",{attrs:{id:"mission"}})]),e._v(" "),a("h3",{attrs:{id:"mission-precision-landing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mission-precision-landing"}},[e._v("#")]),e._v(" Mission Precision Landing")]),e._v(" "),a("p",[e._v("Точне приземлення може бути запущено як частина "),a("RouterLink",{attrs:{to:"/uk/flying/missions.html"}},[e._v("місії")]),e._v(", використовуючи "),a("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#MAV_CMD_NAV_LAND",target:"_blank",rel:"noopener noreferrer"}},[e._v("MAV_CMD_NAV_LAND"),a("OutboundLink")],1),e._v(" з відповідно встановленим "),a("code",[e._v("param2")]),e._v(":")],1),e._v(" "),a("ul",[a("li",[a("code",[e._v("0")]),e._v(": Normal landing without using the target.")]),e._v(" "),a("li",[a("code",[e._v("1")]),e._v(": "),a("a",{attrs:{href:"#opportunistic-mode"}},[e._v("Opportunistic")]),e._v(" режим точної посадки")]),e._v(" "),a("li",[a("code",[e._v("2")]),e._v(": "),a("a",{attrs:{href:"#required-mode"}},[e._v("Required")]),e._v(" режим точної посадки")])]),e._v(" "),a("h3",{attrs:{id:"return-mode-precision-landing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#return-mode-precision-landing"}},[e._v("#")]),e._v(" Return Mode Precision Landing")]),e._v(" "),a("p",[e._v("Precision landing can be used in the "),a("RouterLink",{attrs:{to:"/uk/flight_modes/return.html"}},[e._v("Return mode")]),e._v(" landing phase.")],1),e._v(" "),a("p",[e._v("This is enabled using the parameter "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#RTL_PLD_MD"}},[e._v("RTL_PLD_MD")]),e._v(", which takes the following values:")],1),e._v(" "),a("ul",[a("li",[a("code",[e._v("0")]),e._v(": Precision landing disabled (land as normal).")]),e._v(" "),a("li",[a("code",[e._v("1")]),e._v(": "),a("a",{attrs:{href:"#opportunistic-mode"}},[e._v("Opportunistic")]),e._v(" режим точної посадки")]),e._v(" "),a("li",[a("code",[e._v("2")]),e._v(": "),a("a",{attrs:{href:"#required-mode"}},[e._v("Required")]),e._v(" режим точної посадки")])]),e._v(" "),a("h3",{attrs:{id:"precision-landing-flight-mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#precision-landing-flight-mode"}},[e._v("#")]),e._v(" Precision Landing Flight Mode")]),e._v(" "),a("p",[e._v("Precision landing can be enabled by switching to the "),a("em",[e._v("Precision Landing")]),e._v(" flight mode.")]),e._v(" "),a("p",[e._v("You can verify this using the "),a("RouterLink",{attrs:{to:"/uk/debug/mavlink_shell.html#qgroundcontrol-mavlink-console"}},[a("em",[e._v("QGroundControl")]),e._v(" MAVLink Console")]),e._v(" to enter the following command:")],1),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("commander mode auto:precland\n")])])]),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v('When switching to the mode in this way, the precision landing is always "required"; there is no way to specify the type of landing.')])]),e._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v("At time of writing is no "),a("em",[e._v("convenient")]),e._v(" way to directly invoke precision landing (other than commanding return mode):")]),e._v(" "),a("ul",[a("li",[a("em",[e._v("QGroundControl")]),e._v(" does not provide it as a UI option.")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#MAV_CMD_NAV_LAND",target:"_blank",rel:"noopener noreferrer"}},[e._v("MAV_CMD_NAV_LAND"),a("OutboundLink")],1),e._v(" only works in missions.")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_MODE",target:"_blank",rel:"noopener noreferrer"}},[e._v("MAV_CMD_DO_SET_MODE"),a("OutboundLink")],1),e._v(" should work, but you will need to determine the appropriate base and custom modes used by PX4 to represent the precision landing mode.")])])]),e._v(" "),a("h2",{attrs:{id:"налаштування-обладнання"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#налаштування-обладнання"}},[e._v("#")]),e._v(" Налаштування обладнання")]),e._v(" "),a("h3",{attrs:{id:"ir-sensor-beacon-setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ir-sensor-beacon-setup"}},[e._v("#")]),e._v(" IR Sensor/Beacon Setup")]),e._v(" "),a("p",[e._v("Рішення з інфрачервоним датчиком/посадковим маяком потребує датчика "),a("a",{attrs:{href:"https://irlock.com/products/ir-lock-sensor-precision-landing-kit",target:"_blank",rel:"noopener noreferrer"}},[e._v("IR-LOCK"),a("OutboundLink")],1),e._v(" та напрямленого донизу "),a("RouterLink",{attrs:{to:"/uk/sensor/rangefinders.html"}},[e._v("датчика відстані")]),e._v(", підключеного до автопілота, а також інфрачервоного маяка в якості цілі (наприклад, "),a("a",{attrs:{href:"https://irlock.com/collections/markone",target:"_blank",rel:"noopener noreferrer"}},[e._v("IR-LOCK MarkOne"),a("OutboundLink")],1),e._v("). Це дозволяє приземлитися з точністю приблизно 10 см (в той час як точність GPS може бути в декілька метрів).")],1),e._v(" "),a("p",[e._v("Встановіть датчик IR-LOCK, слідуючи "),a("a",{attrs:{href:"https://irlock.readme.io/v2.0/docs",target:"_blank",rel:"noopener noreferrer"}},[e._v("офіційному посібнику"),a("OutboundLink")],1),e._v(". Переконайтеся, що ось x сенсора вирівняна з осью y транспортного засобу, а ось y сенсора вирівняна з напрямком -x транспортного засобу (це відбувається, якщо камера нахилена вниз на 90 градусів від напрямку вперед).")]),e._v(" "),a("p",[e._v("Встановіть датчик відстані (LidarLite v3 виявився працездатним).")]),e._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v("Багато датчиків дальності на основі інфрачервоного випромінювання погано працюють в присутності маяка IR-LOCK.\nЗверніться до посібника з IR-LOCK для інших сумісних датчиків.")])]),e._v(" "),a("h2",{attrs:{id:"позабортне-позиціонування"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#позабортне-позиціонування"}},[e._v("#")]),e._v(" Позабортне позиціонування")]),e._v(" "),a("p",[e._v("Для позабортового рішення потрібна система позиціонування, яка реалізує "),a("a",{attrs:{href:"https://mavlink.io/en/services/landing_target.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Landing Target Protocol"),a("OutboundLink")],1),e._v(" MAVLink. Це може використовувати будь-який механізм позиціонування для визначення місця посадки, наприклад комп'ютерного зору та візуального маркера.")]),e._v(" "),a("p",[e._v("The system must publish the coordinates of the target in the "),a("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#LANDING_TARGET",target:"_blank",rel:"noopener noreferrer"}},[e._v("LANDING_TARGET"),a("OutboundLink")],1),e._v(" message. Note that PX4 "),a("em",[e._v("requires")]),e._v(" "),a("code",[e._v("LANDING_TARGET.frame")]),e._v(" to be "),a("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#MAV_FRAME_LOCAL_NED",target:"_blank",rel:"noopener noreferrer"}},[e._v("MAV_FRAME_LOCAL_NED"),a("OutboundLink")],1),e._v(" and only populates the fields "),a("code",[e._v("x")]),e._v(", "),a("code",[e._v("y")]),e._v(", and "),a("code",[e._v("z")]),e._v(". The origin of the local NED frame [0,0] is the home position (you can map this home position to global coordinates using "),a("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#GPS_GLOBAL_ORIGIN",target:"_blank",rel:"noopener noreferrer"}},[e._v("GPS_GLOBAL_ORIGIN"),a("OutboundLink")],1),e._v(").")]),e._v(" "),a("p",[e._v("PX4 does not explicitly require a "),a("RouterLink",{attrs:{to:"/uk/sensor/rangefinders.html"}},[e._v("distance sensor")]),e._v(" or other sensors, but will perform better if it can more precisely determine its own position.")],1),e._v(" "),a("h2",{attrs:{id:"конфігурація-прошивки"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#конфігурація-прошивки"}},[e._v("#")]),e._v(" Конфігурація прошивки")]),e._v(" "),a("p",[e._v("Для точної посадки потрібні модулі "),a("code",[e._v("irlock")]),e._v(" та "),a("code",[e._v("landing_target_estimator")]),e._v(". Ці модулі включені до прошивки PX4 за замовчуванням для більшості польотних контролерів.")]),e._v(" "),a("p",[e._v("Вони не включені за замовчуванням на контролерах, що базуються на FMUv2. На цих та інших платах, де вони не включені, ви можете додати їх, встановивши наступні ключі на 'y' у відповідному конфігураційному файлі для вашого автопілота (наприклад, як зроблено тут для FMUv5: "),a("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot/blob/main/boards/px4/fmu-v5/default.px4board",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4-Autopilot/boards/px4/fmu-v5/default.px4board"),a("OutboundLink")],1),e._v("):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("CONFIG_DRIVERS_IRLOCK=y\nCONFIG_MODULES_LANDING_TARGET_ESTIMATOR=y\n")])])]),a("h2",{attrs:{id:"конфігурація-px4-параметри"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#конфігурація-px4-параметри"}},[e._v("#")]),e._v(" Конфігурація PX4 (параметри)")]),e._v(" "),a("p",[e._v("Датчик IR-Lock вимкнено за замовчуванням. Увімкніть його, встановивши "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#SENS_EN_IRLOCK"}},[e._v("SENS_EN_IRLOCK")]),e._v(" на "),a("code",[e._v("1")]),e._v(" (true).")],1),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#LTEST_MODE"}},[e._v("LTEST_MODE")]),e._v(" визначає, чи припускається, що ціль є нерухомою або рухливою. Якщо параметр "),a("code",[e._v("LTEST_MODE")]),e._v(" встановлено на значення moving (наприклад, він встановлений на транспортний засіб, на який має сісти багтроплан), вимірювання цілі використовуються лише для генерації цілейових точок позиції в контролері точної посадки. Якщо параметр "),a("code",[e._v("LTEST_MODE")]),e._v(" встановлено ​​на значення stationary, вимірювання цілі також використовуються оцінювачем позиції транспортного засобу (EKF2 або LPE).")],1),e._v(" "),a("p",[e._v("Інші важливі параметри перераховані в посиланнях на параметри в референсі параметрів під "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#landing-target-estimator"}},[e._v("Landing_target estimator")]),e._v(" та "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#precision-land"}},[e._v("Precision land")]),e._v(". Деякі з найбільш корисних перераховані нижче.")],1),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Параметр")]),e._v(" "),a("th",[e._v("Опис")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{id:"SENS_EN_IRLOCK"}}),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#SENS_EN_IRLOCK"}},[e._v("SENS_EN_IRLOCK")])],1),e._v(" "),a("td",[e._v("IR-LOCK Sensor (external I2C). Disable: "),a("code",[e._v("0")]),e._v(" (default): Enable: "),a("code",[e._v("1")]),e._v(").")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{id:"LTEST_MODE"}}),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#LTEST_MODE"}},[e._v("LTEST_MODE")])],1),e._v(" "),a("td",[e._v("Landing target is moving ("),a("code",[e._v("0")]),e._v(") or stationary ("),a("code",[e._v("1")]),e._v("). Default is moving.")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{id:"PLD_HACC_RAD"}}),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_HACC_RAD"}},[e._v("PLD_HACC_RAD")])],1),e._v(" "),a("td",[e._v("Horizontal acceptance radius, within which the vehicle will start descending. Default is 0.2m.")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{id:"PLD_BTOUT"}}),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_BTOUT"}},[e._v("PLD_BTOUT")])],1),e._v(" "),a("td",[e._v("Landing Target Timeout, after which the target is assumed lost. Default is 5 seconds.")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{id:"PLD_FAPPR_ALT"}}),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_FAPPR_ALT"}},[e._v("PLD_FAPPR_ALT")])],1),e._v(" "),a("td",[e._v("Final approach altitude. Default is 0.1 metres.")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{id:"PLD_MAX_SRCH"}}),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#PLD_MAX_SRCH"}},[e._v("PLD_MAX_SRCH")])],1),e._v(" "),a("td",[e._v("Maximum number of search attempts in an required landing.")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{id:"RTL_PLD_MD"}}),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#RTL_PLD_MD"}},[e._v("RTL_PLD_MD")])],1),e._v(" "),a("td",[e._v("RTL precision land mode. "),a("code",[e._v("0")]),e._v(": disabled, "),a("code",[e._v("1")]),e._v(": "),a("a",{attrs:{href:"#opportunistic-mode"}},[e._v("Opportunistic")]),e._v(", "),a("code",[e._v("2")]),e._v(": "),a("a",{attrs:{href:"#required-mode"}},[e._v("Required")]),e._v(".")])])])]),e._v(" "),a("h3",{attrs:{id:"масштабування-іч-маяка"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#масштабування-іч-маяка"}},[e._v("#")]),e._v(" Масштабування ІЧ-маяка")]),e._v(" "),a("p",[e._v("Масштабування вимірювань може бути необхідним через спотворення об'єктива датчика IR-LOCK.")]),e._v(" "),a("p",[a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#LTEST_SCALE_X"}},[e._v("LTEST_SCALE_X")]),e._v(" та "),a("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#LTEST_SCALE_Y"}},[e._v("LTEST_SCALE_Y")]),e._v(" можуть бути використані для масштабування вимірів маяка, перед тим як вони будуть використані для оцінки позиції та швидкості маяка відносно транспортного засобу. Зверніть увагу, що "),a("code",[e._v("LTEST_SCALE_X")]),e._v(" та "),a("code",[e._v("LTEST_SCALE_Y")]),e._v(" вважаються в рамках датчика, а не в рамках транспортного засобу.")],1),e._v(" "),a("p",[e._v("Щоб калібрувати ці параметри масштабу, встановіть "),a("code",[e._v("LTEST_MODE")]),e._v(" на значення moving, підніміть свій багатокоптер вище за маяк і виконайте рухи вперед-назад та ліворуч-праворуч з транспортним засобом, під час цього "),a("RouterLink",{attrs:{to:"/uk/dev_log/logging.html#configuration"}},[e._v("записуючи")]),e._v(" дані з "),a("code",[e._v("landing_target_pose")]),e._v(" та "),a("code",[e._v("vehicle_local_position")]),e._v(". Потім порівняйте "),a("code",[e._v("landing_target_pose.vx_rel")]),e._v(" та "),a("code",[e._v("landing_target_pose.vy_rel")]),e._v(" з "),a("code",[e._v("vehicle_local_position.vx")]),e._v(" та "),a("code",[e._v("vehicle_local_position.vy")]),e._v(" відповідно (обидва виміри у системі координат NED). Якщо оцінювані швидкості маяка завжди менші або більші за швидкості транспортного засобу, налаштуйте параметри масштабування для компенсації.")],1),e._v(" "),a("p",[e._v("Якщо ви спостерігаєте повільні бокові коливання літального апарата під час точної посадки з параметром "),a("code",[e._v("LTEST_MODE")]),e._v(", встановленим на стаціонарний, ймовірно, вимірювання маяка занадто високі, і вам слід зменшити параметр масштабування у відповідному напрямку.")]),e._v(" "),a("h2",{attrs:{id:"моделювання"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#моделювання"}},[e._v("#")]),e._v(" Моделювання")]),e._v(" "),a("p",[e._v("Точне приземлення з датчиком IR-LOCK та маяком може бути симульоване в "),a("RouterLink",{attrs:{to:"/uk/sim_gazebo_classic/"}},[e._v("Gazebo Classic")]),e._v(".")],1),e._v(" "),a("p",[e._v("Щоб запустити симуляцію зі світом, що містить маяк IR-LOCK та транспортний засіб із датчиком дальності та камерою IR-LOCK, виконайте наступну команду:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" px4_sitl gazebo-classic_iris_irlock\n")])])]),a("p",[e._v("Ви можете змінити розташування маяка або перемістивши її в Gazebo Classic GUI або змінивши її місце в "),a("a",{attrs:{href:"https://github.com/PX4/PX4-SITL_gazebo-classic/blob/main/worlds/iris_irlock.world#L42",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gazebo World"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"operating-principles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operating-principles"}},[e._v("#")]),e._v(" Operating Principles")]),e._v(" "),a("h3",{attrs:{id:"оцінювач-цілеи-посадки"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#оцінювач-цілеи-посадки"}},[e._v("#")]),e._v(" Оцінювач цілей посадки")]),e._v(" "),a("p",[a("code",[e._v("landing_target_estimator")]),e._v(" бере вимірювання з драйвера irlock, а також оцінює висоту місцевості для оцінки позиції маяка відносно транспортного засобу.")]),e._v(" "),a("p",[e._v("The measurements in "),a("code",[e._v("irlock_report")]),e._v(' містять тангенс кутів від центру зображення до маяка. Іншими словами, вимірювання - це компоненти x та y вектора, що вказує на маяк, де компонент z має довжину "1". Це означає, що масштабування вимірювання за відстанню від камери до маяка призводить до вектора від камери до маяка. Ця відносна позиція потім повертається у зіставлений з півночі, рівномірний корпусний каркас за допомогою оцінки польоту засобами повітряного судна. Обидва компоненти x та y відносного вимірювання позиції фільтруються в окремих фільтрах Калмана, які діють як прості фільтри згладжування з низькою пропускною спроможністю, що також генерують оцінку швидкості та дозволяють відкидати викиди.')]),e._v(" "),a("p",[a("code",[e._v("landing_target_estimator")]),e._v(" публікує приблизну відносну позицію і швидкість щоразу, коли новий звіт про "),a("code",[e._v("irlock_report")]),e._v(" об'єднується в оцінку. Нічого не публікується, якщо маяк не бачиться або вимірювання маяка відхиляються. The landing target estimate is published in the "),a("code",[e._v("landing_target_pose")]),e._v(" uORB message.")]),e._v(" "),a("h3",{attrs:{id:"покращена-оцінка-положення-транспортного-засобу"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#покращена-оцінка-положення-транспортного-засобу"}},[e._v("#")]),e._v(" Покращена оцінка положення транспортного засобу")]),e._v(" "),a("p",[e._v("Якщо ціль вказана як стаціонарна за допомогою параметра "),a("code",[e._v("LTEST_MODE")]),e._v(", оцінку положення/швидкості транспортного засобу можна покращити за допомогою вимірів цілі. Це виконується шляхом злиття швидкості цілі як вимірювання від'ємної швидкості транспортного засобу.")]),e._v(" "),a("h3",{attrs:{id:"діаграма-потоку-фаз-посадки"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#діаграма-потоку-фаз-посадки"}},[e._v("#")]),e._v(" Діаграма потоку фаз посадки")]),e._v(" "),a("p",[e._v("Це зображення показує "),a("a",{attrs:{href:"#landing-phases"}},[e._v("фази посадки")]),e._v(" у вигляді діаграми потоку.")]),e._v(" "),a("p",[a("img",{attrs:{src:r(493),alt:"Precision Landing Flow Diagram"}})])])}),[],!1,null,null,null);t.default=_.exports},493:function(e,t,r){e.exports=r.p+"assets/img/precland-flow-diagram.82d35141.png"}}]);