(window.webpackJsonp=window.webpackJsonp||[]).push([[1174],{2732:function(e,t,o){"use strict";o.r(t);var i=o(19),a=Object(i.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"px4-vision-autonomy-development-kit"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#px4-vision-autonomy-development-kit"}},[e._v("#")]),e._v(" PX4 Vision Autonomy Development Kit")]),e._v(" "),i("p",[e._v("["),i("em",[e._v("PX4 Vision Autonomy Development Kit")]),e._v("] (https://holybro.com/collections/multicopter-kit/PX4-Vision) - це надійний і недорогий комплект для створення систем комп'ютерного зору на автономних пристроях.")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1637),alt:"Overview"}})]),e._v(" "),i("p",[e._v("Комплект містить майже готовий до польоту квадрокоптер з вуглецевого волокна, оснащений польотним контролером "),i("em",[e._v("Pixhawk 4")]),e._v(" або "),i("em",[e._v("Pixhawk 6C")]),e._v(" (на версії 1.5), комп'ютером-компаньйоном "),i("em",[e._v("UP Core")]),e._v(" (4 ГБ пам'яті та 64 ГБ eMMC), а також камерою глибини Occipital "),i("em",[e._v("Structure Core")]),e._v(" .")]),e._v(" "),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("Цей пристрій не має попередньо встановленого програмного забезпечення.\nДо комплекту входить карта пам'яті USB з прикладом реалізації функції "),i("RouterLink",{attrs:{to:"/uk/computer_vision/obstacle_avoidance.html"}},[e._v("уникнення перешкод")]),e._v(", на основі проекту "),i("a",{attrs:{href:"https://github.com/PX4/PX4-Avoidance",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4 Avoidance"),i("OutboundLink")],1),e._v(". Цей приклад є орієнтовним і слугує для демонстрації можливостей платформи. Програмне забезпечення не сумісне з останньою версією PX4, а також не підтримується і не обслуговується.")],1)]),e._v(" "),i("p",[e._v("Посібник надає інформацію про мінімальне додаткове налаштування, потрібне для того, щоб підготувати апарат до польоту (встановлення системи дистанційного керування та акумулятора). Він також описує перший політ і те, як почати модифікацію коду комп'ютерного зору.")]),e._v(" "),i("h2",{attrs:{id:"де-купити"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#де-купити"}},[e._v("#")]),e._v(" Де купити")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://holybro.com/collections/multicopter-kit/products/px4-vision-dev-kit-v1-5",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4 Vision Dev Kit v1.5"),i("OutboundLink")],1)]),e._v(" "),i("li",[i("a",{attrs:{href:"https://holybro.com/collections/multicopter-kit/products/px4-vision",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4 Vision Dev Kit v1 (Знято з виробництва)"),i("OutboundLink")],1)])]),e._v(" "),i("h2",{attrs:{id:"зміст-посібника-px4-vision-guide"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#зміст-посібника-px4-vision-guide"}},[e._v("#")]),e._v(" Зміст посібника Px4 Vision Guide")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"#warnings-and-notifications"}},[e._v("Попередження та сповіщення")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#what-is-inside"}},[e._v("Що всередині")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#what-else-do-you-need"}},[e._v("Що ще вам потрібно")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#first-time-setup"}},[e._v("Первинне налаштування")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#fly-the-drone-with-avoidance"}},[e._v("Керування дроном з запобіганням зіткнень")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#development-using-the-kit"}},[e._v("Розробка з використанням комплекту")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#px4-vision-carrier-board-pinouts"}},[e._v("Розпіновка плати PX4 Vision Carrier")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#other-development-resources"}},[e._v("Інші ресурси для розробників")])]),e._v(" "),i("li",[i("a",{attrs:{href:"#how-to-get-technical-support"}},[e._v("Як отримати технічну підтримку")])])]),e._v(" "),i("h2",{attrs:{id:"попередження-та-сповіщення"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#попередження-та-сповіщення"}},[e._v("#")]),e._v(" Попередження та сповіщення")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Комплект призначений для проєктів комп'ютерного зору, які використовують камеру, спрямовану вперед (він не має камер глибини, спрямованих вниз або назад).\nОтже, його не можна використовувати (без модифікації) для тестування [Безпечної посадки] (../computer_vision/safe_landing.md) або інших функцій, для яких потрібна камера, спрямована вниз.")])]),e._v(" "),i("li",[i("p",[e._v("Уникання перешкод у місіях можна тестувати лише за наявності сигналу GPS (місії використовують GPS-координати).\nЗапобігання зіткненням можна перевірити в режимі позиціювання за умови, що є стійке захоплення позиції, отримане або з GPS, або з оптичного потоку.")])]),e._v(" "),i("li",[i("p",[e._v("Порт, позначений "),i("code",[e._v("USB1")]),e._v(", може глушити GPS, якщо його використовувати з периферійним пристроєм "),i("em",[e._v("USB3")]),e._v(" (вимкніть GPS-залежні функції, зокрема місії).\nСаме тому образ завантаження постачається на флешці "),i("em",[e._v("USB2.0")]),e._v(".")])]),e._v(" "),i("li",[i("p",[e._v("PX4 Vision v1 з ECN 010 або вище (несуча плата RC05 і вище), "),i("em",[e._v("UP Core")]),e._v(" може живитися як від розетки постійного струму, так і від акумулятора.")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1638),alt:"RC Number"}}),e._v(" "),i("img",{attrs:{src:o(1639),alt:"ECN Number"}})])]),e._v(" "),i("li",[i("p",[e._v("Всі PX4 Vision v1.5 "),i("em",[e._v("UP Core")]),e._v(" можна живити як від мережі постійного струму, так і від батареї.")])])]),e._v(" "),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),i("p",[e._v("For PX4 Vision v1 with ECN below 010/carrier board below RC04, the "),i("em",[e._v("UP Core")]),e._v(" should only be powered using the battery (do not remove the "),i("em",[e._v("UP Core power")]),e._v(" socket safety cover). This does not apply to PX4 Vision v1.5")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1640),alt:"Warning - do not connect power port"}})])]),e._v(" "),i("h2",{attrs:{id:"що-всередині"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#що-всередині"}},[e._v("#")]),e._v(" Що всередині")]),e._v(" "),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("Відмінності між PX4 Vision V1 і V1.5 можна знайти "),i("a",{attrs:{href:"https://docs.holybro.com/drone-development-kit/px4-vision-dev-kit-v1.5/v1-and-v1.5-difference",target:"_blank",rel:"noopener noreferrer"}},[e._v("тут"),i("OutboundLink")],1)])]),e._v(" "),i("p",[i("img",{attrs:{src:o(1641),alt:"PV4 Vision v1.5"}})]),e._v(" "),i("p",[e._v("Про те, що знаходиться всередині PX4 Vision V1, можна дізнатися тут [PX4 v1.13 Docs here] (https://docs.px4.io/v1.13/en/complete_vehicles/px4_vision_kit.html#what-is-inside).")]),e._v(" "),i("p",[e._v("PX4 Vision DevKit містить наступні компоненти:")]),e._v(" "),i("ul",[i("li",[i("p",[e._v("Основні компоненти:")]),e._v(" "),i("ul",[i("li",[e._v("1x Pixhawk 4 або Pixhawk 6C (для v1.5) польотний контролер")]),e._v(" "),i("li",[e._v("1x оптичний датчик потоку PMW3901")]),e._v(" "),i("li",[e._v("1x датчик відстані TOF інфрачервоного діапазону (PSK‐CM8JL65‐CC5)")]),e._v(" "),i("li",[e._v("1x камера глибини Structure Core\n"),i("ul",[i("li",[e._v("Камера з широким кутом огляду 160 градусів")]),e._v(" "),i("li",[e._v("Стерео-інфрачервоні камери")]),e._v(" "),i("li",[e._v("Вбудований ІМП (інерціальний модуль)")]),e._v(" "),i("li",[e._v("Потужний багатоядерний процесор глибини NU3000")])])]),e._v(" "),i("li",[e._v("1x комп'ютер "),i("em",[e._v("UP Core")]),e._v(" (4 ГБ оперативної пам'яті та 64 ГБ eMMC з Ubuntu та PX4 униканням)\n"),i("ul",[i("li",[e._v("Intel® Atom™ x5-z8350 (до1.92 GHz)")]),e._v(" "),i("li",[e._v("Сумісні ОС: повна версія Microsoft Windows 10, Linux (ubilinux, Ubuntu, Yocto), Android")]),e._v(" "),i("li",[e._v("FTDI UART підключений до контролера польоту")]),e._v(" "),i("li",[i("code",[e._v("USB1")]),e._v(": USB3.0 Порт, який використовується для завантаження середовища уникнення PX4 з флешки USB2.0 (підключення периферійного пристрою USB3.0 може заглушити GPS).")]),e._v(" "),i("li",[i("code",[e._v("USB2")]),e._v(": Порт USB2.0 на роз'ємі JST-GH. Може бути використаний для другої камери, LTE тощо (або клавіатури/миші під час розробки).")]),e._v(" "),i("li",[i("code",[e._v("USB3")]),e._v(": Порт USB2.0 JST-GH, підключений до камери глибини")]),e._v(" "),i("li",[i("code",[e._v("HDMI")]),e._v(": HDMI вихід")]),e._v(" "),i("li",[e._v("SD карта")]),e._v(" "),i("li",[e._v("WiFi 802.11 b/g/n @ 2,4 ГГц (підключений до зовнішньої антени №1). Дозволяє комп'ютеру отримати доступ до домашньої WiFi-мережі для доступу до Інтернету та оновлень.")])])])])]),e._v(" "),i("li",[i("p",[e._v("Механічні характеристики:")]),e._v(" "),i("ul",[i("li",[e._v("Каркас: Цілісна 5-міліметрова саржа з вуглецевого волокна 3k")]),e._v(" "),i("li",[e._v("Мотори: T-MOTOR KV1750")]),e._v(" "),i("li",[e._v("ESC: BEHEli-S 20A ESC")]),e._v(" "),i("li",[e._v("GPS: M8N GPS модуль")]),e._v(" "),i("li",[e._v("Модуль живлення: Holybro PM07")]),e._v(" "),i("li",[e._v("Колісна база: 286мм")]),e._v(" "),i("li",[e._v("Вага: 854 грами без акумулятора або гвинтів")]),e._v(" "),i("li",[e._v("Телеметрія: ESP8266 підключений до польотного контролера (приєднаний до зовнішньої антени №2). Вмикає бездротове з'єднання з наземною станцією.")])])]),e._v(" "),i("li",[i("p",[e._v("Флеш-накопичувач USB2.0 з попередньо завантаженим програмним забезпеченням, яке включає в себе:")]),e._v(" "),i("ul",[i("li",[e._v("Ubuntu 18.04 LTS")]),e._v(" "),i("li",[e._v("ROS Melodic")]),e._v(" "),i("li",[e._v("Occipital Structure Core ROS драйвер")]),e._v(" "),i("li",[e._v("MAVROS")]),e._v(" "),i("li",[i("a",{attrs:{href:"https://github.com/PX4/PX4-Avoidance",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4 Avoidance"),i("OutboundLink")],1)])])]),e._v(" "),i("li",[i("p",[e._v("Різноманітні кабелі, 8x гвинти, 2x ремінці для акумулятора (встановлені) та інші аксесуари (їх можна використовувати для підключення додаткових периферійних пристроїв).")])])]),e._v(" "),i("h2",{attrs:{id:"що-ще-потрібно"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#що-ще-потрібно"}},[e._v("#")]),e._v(" Що ще потрібно")]),e._v(" "),i("p",[e._v("Комплект містить усе необхідне обладнання для керування дроном, окрім акумулятора та системи радіоуправління, які необхідно придбати окремо:")]),e._v(" "),i("ul",[i("li",[e._v("Батарея:\n"),i("ul",[i("li",[e._v("4S LiPo з гніздом XT60")]),e._v(" "),i("li",[e._v("Довжина менше 115 мм (щоб поміститися між роз'ємом живлення та GPS-антеною)")])])]),e._v(" "),i("li",[e._v("Системи радіо керування\n"),i("ul",[i("li",[e._v("Будь-яка "),i("RouterLink",{attrs:{to:"/uk/getting_started/rc_transmitter_receiver.html"}},[e._v("PX4-сумісна RC система")]),e._v(" може бути використана.")],1),e._v(" "),i("li",[e._v("Передавач "),i("em",[e._v("FrSky Taranis")]),e._v(" з приймачем R-XSR - одна з найпопулярніших комбінацій.")])])]),e._v(" "),i("li",[e._v("Шестигранний ключ H2.0 (для відкручування верхньої панелі, з метою підключення пульта дистанційного керування)")])]),e._v(" "),i("p",[e._v("In addition, users will need ground station hardware/software:")]),e._v(" "),i("ul",[i("li",[e._v("Laptop or tablet running "),i("a",{attrs:{href:"https://docs.qgroundcontrol.com/master/en/qgc-user-guide/getting_started/download_and_install.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("QGroundControl"),i("OutboundLink")],1),e._v(" (QGC).")])]),e._v(" "),i("h2",{attrs:{id:"first-time-setup"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#first-time-setup"}},[e._v("#")]),e._v(" First-time Setup")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Attach a "),i("RouterLink",{attrs:{to:"/uk/getting_started/rc_transmitter_receiver.html#connecting-receivers"}},[e._v("compatible RC receiver")]),e._v(" to the vehicle (not supplied with kit):")],1),e._v(" "),i("ul",[i("li",[e._v("Remove/unscrew the top plate (where the battery goes) using an H2.0 hex key tool.")]),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/assembly/quick_start_pixhawk4.html#radio-control"}},[e._v("Connect the receiver to the flight controller")]),e._v(".")],1),e._v(" "),i("li",[e._v("Re-attach the top plate.")]),e._v(" "),i("li",[e._v("Mount the RC receiver on the "),i("em",[e._v("UP Core")]),e._v(" carrier board plate at the back of the vehicle (use zipties or double-sided tape).")]),e._v(" "),i("li",[e._v("Ensure the antennas are clear of any obstructions and electrically isolated from the frame (e.g. secure them under the carrier board or to the vehicle arms or legs).")])])]),e._v(" "),i("li",[i("p",[i("RouterLink",{attrs:{to:"/uk/getting_started/rc_transmitter_receiver.html#binding"}},[e._v("Bind")]),e._v(" the RC ground and air units (if not already done).\nThe binding procedure depends on the specific radio system used (read the receiver manual).")],1)]),e._v(" "),i("li",[i("p",[e._v("Raise the GPS mast to the vertical position and screw the cover onto the holder on the base plate. (Not required for v1.5)")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1642),alt:"Raise GPS mast"}})])]),e._v(" "),i("li",[i("p",[e._v("Insert the pre-imaged USB2.0 stick from the kit into the "),i("em",[e._v("UP Core")]),e._v(" port labeled "),i("code",[e._v("USB1")]),e._v(" (highlighted below).")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1643),alt:"UP Core: USB1 Port "}})])]),e._v(" "),i("li",[i("p",[e._v("Power the vehicle with a fully charged battery.")]),e._v(" "),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("Ensure propellers are removed before connecting the battery.")])])])]),e._v(" "),i("p",[e._v(":::")]),e._v(" "),i("ol",{attrs:{start:"6"}},[i("li",[i("p",[e._v("Connect the ground station to the vehicle WiFi network (after a few seconds) using the following default credentials:")]),e._v(" "),i("ul",[i("li",[i("strong",[e._v("SSID:")]),e._v(" pixhawk4")]),e._v(" "),i("li",[i("strong",[e._v("Password:")]),e._v(" pixhawk4")])]),e._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),i("p",[e._v("WiFi network SSID, password, and other credentials may be changed after connecting (if desired), by using a web browser to open the URL: "),i("code",[e._v("http://192.168.4.1")]),e._v(".\nThe baud rate must not be changed from 921600.")])])])]),e._v(" "),i("p",[e._v(":::")]),e._v(" "),i("ol",{attrs:{start:"7"}},[i("li",[i("p",[e._v("Start "),i("em",[e._v("QGroundControl")]),e._v(" on the ground station.")])]),e._v(" "),i("li",[i("p",[i("RouterLink",{attrs:{to:"/uk/config/"}},[e._v("Configure/calibrate")]),e._v(" the vehicle:")],1),e._v(" "),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("The vehicle should arrive pre-calibrated (e.g. with firmware, airframe, battery, and sensors all setup).\nYou will however need to calibrate the radio system (that you just connected) and it is often worth re-doing the compass calibration.")])])])]),e._v(" "),i("p",[e._v(":::")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/uk/config/radio.html"}},[e._v("Calibrate the Radio System")])],1),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/config/compass.html"}},[e._v("Calibrate the Compass")])],1)]),e._v(" "),i("ol",{attrs:{start:"9"}},[i("li",[i("p",[e._v("(Optional) Configure a "),i("RouterLink",{attrs:{to:"/uk/config/flight_mode.html"}},[e._v("Flight Mode selector switch")]),e._v(" on the remote controller.")],1),e._v(" "),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("Modes can also be changed using "),i("em",[e._v("QGroundControl")])])])])]),e._v(" "),i("p",[e._v(":::")]),e._v(" "),i("p",[e._v("We recommend RC controller switches are define for:")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/uk/flight_modes_mc/position.html"}},[e._v("Position Mode")]),e._v(" - a safe manual flight mode that can be used to test collision prevention.")],1),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/flight_modes_mc/mission.html"}},[e._v("Mission Mode")]),e._v(" - run missions and test obstacle avoidance.")],1),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/flight_modes_mc/return.html"}},[e._v("Return Mode")]),e._v(" - return vehicle safely to its launch point and land.")],1)]),e._v(" "),i("ol",{attrs:{start:"10"}},[i("li",[i("p",[e._v("Attach the propellers with the rotations as shown:")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1644),alt:"Motor Order Diagram"}})]),e._v(" "),i("ul",[i("li",[i("p",[e._v("The propellers directions can be determined from the labels: "),i("em",[e._v("6045")]),e._v(" (normal, counter-clockwise) and "),i("em",[e._v("6045")]),i("strong",[e._v("R")]),e._v(" (reversed, clockwise).")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1645),alt:"Propeller identification"}})])]),e._v(" "),i("li",[i("p",[e._v("Screw down firmly using the provided propellor nuts:")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1646),alt:"Propeller nuts"}})])])])])]),e._v(" "),i("h2",{attrs:{id:"fly-the-drone-with-avoidance"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#fly-the-drone-with-avoidance"}},[e._v("#")]),e._v(" Fly the Drone with Avoidance")]),e._v(" "),i("p",[e._v("When the vehicle setup described above is complete:")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Connect the battery to power the vehicle.")])]),e._v(" "),i("li",[i("p",[e._v("Wait until the boot sequence completes and the avoidance system has started (the vehicle will reject arming commands during boot).")]),e._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),i("p",[e._v("The boot/startup process takes around 1 minute from the supplied USB stick (or 30 seconds from "),i("a",{attrs:{href:"#install_image_mission_computer"}},[e._v("internal memory")]),e._v(").")])])])]),e._v(" "),i("p",[e._v(":::")]),e._v(" "),i("ol",{attrs:{start:"3"}},[i("li",[i("p",[e._v("Check that the avoidance system has started properly:")]),e._v(" "),i("ul",[i("li",[i("p",[e._v("The "),i("em",[e._v("QGroundControl")]),e._v(" notification log displays the message: "),i("strong",[e._v("Avoidance system connected")]),e._v(".")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1647),alt:"QGC Log showing avoidance system has started"}})])]),e._v(" "),i("li",[i("p",[e._v("A red laser is visible on the front of the "),i("em",[e._v("Structure Core")]),e._v(" camera.")])])])]),e._v(" "),i("li",[i("p",[e._v("Wait for the GPS LED to turn green.\nThis means that the vehicle has a GPS fix and is ready to fly!")])]),e._v(" "),i("li",[i("p",[e._v("Connect the ground station to the vehicle WiFi network.")])]),e._v(" "),i("li",[i("p",[e._v("Find a safe outdoor location for flying, ideally with a tree or some other convenient obstacle for testing PX4 Vision.")])]),e._v(" "),i("li",[i("p",[e._v("To test "),i("RouterLink",{attrs:{to:"/uk/computer_vision/collision_prevention.html"}},[e._v("collision prevention")]),e._v(", enable "),i("RouterLink",{attrs:{to:"/uk/flight_modes_mc/position.html"}},[e._v("Position Mode")]),e._v(" and fly manually towards an obstacle.\nThe vehicle should slow down and then stop within 6m of the obstacle (the distance can be "),i("RouterLink",{attrs:{to:"/uk/advanced_config/parameters.html"}},[e._v("changed")]),e._v(" using the "),i("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#CP_DIST"}},[e._v("CP_DIST")]),e._v(" parameter).")],1)]),e._v(" "),i("li",[i("p",[e._v("To test "),i("RouterLink",{attrs:{to:"/uk/computer_vision/obstacle_avoidance.html"}},[e._v("obstacle avoidance")]),e._v(", create a mission where the path is blocked by an obstacle.\nThen switch to "),i("RouterLink",{attrs:{to:"/uk/flight_modes_mc/mission.html"}},[e._v("Mission Mode")]),e._v(" to run the mission, and observe the vehicle moving around the obstacle and then returning to the planned course.")],1)])]),e._v(" "),i("h2",{attrs:{id:"development-using-the-kit"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#development-using-the-kit"}},[e._v("#")]),e._v(" Development using the Kit")]),e._v(" "),i("p",[e._v("The following sections explain how to use the kit as an environment for developing computer vision software.")]),e._v(" "),i("h3",{attrs:{id:"px4-avoidance-overview"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#px4-avoidance-overview"}},[e._v("#")]),e._v(" PX4 Avoidance Overview")]),e._v(" "),i("p",[e._v("The "),i("em",[e._v("PX4 Avoidance")]),e._v(" system consists of computer vision software running on a companion computer (with attached depth camera) that provides obstacle and/or route information to the PX4 flight stack running on a "),i("em",[e._v("flight controller")]),e._v(".")]),e._v(" "),i("p",[e._v("Documentation about the companion computer vision/planning software can be found on github here: "),i("a",{attrs:{href:"https://github.com/PX4/PX4-Avoidance",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4/PX4-Avoidance"),i("OutboundLink")],1),e._v(".\nThe project provides a number of different planner implementations (packaged as ROS nodes):")]),e._v(" "),i("ul",[i("li",[e._v("The PX4 Vision Kit runs the "),i("em",[e._v("localplanner")]),e._v(" by default and this is the recommended starting point for your own software.")]),e._v(" "),i("li",[e._v("The "),i("em",[e._v("globalplanner")]),e._v(" has not been tested with this kit.")]),e._v(" "),i("li",[e._v("The "),i("em",[e._v("landing planner")]),e._v(" requires a downward facing camera, and cannot used without first modifying the camera mounting.")])]),e._v(" "),i("p",[e._v("PX4 and the companion computer exchange data over "),i("a",{attrs:{href:"https://mavlink.io/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MAVLink"),i("OutboundLink")],1),e._v(" using these interfaces:")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/uk/computer_vision/path_planning_interface.html"}},[e._v("Path Planning Interface")]),e._v(" - API for implementing avoidance features in automatic modes.")],1),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/computer_vision/collision_prevention.html"}},[e._v("Collision Prevention Interface")]),e._v(" - API for vehicle based avoidance in manual position mode based on an obstacle map (currently used for collision prevention).")],1)]),e._v(" "),i("p",[i("a",{attrs:{id:"install_image_mission_computer"}})]),e._v(" "),i("h3",{attrs:{id:"installing-the-image-on-the-companion-computer"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-image-on-the-companion-computer"}},[e._v("#")]),e._v(" Installing the image on the Companion Computer")]),e._v(" "),i("p",[e._v("You can install the image on the "),i("em",[e._v("UP Core")]),e._v(" and boot from internal memory (instead of the USB stick).")]),e._v(" "),i("p",[e._v("This is recommended because booting from internal memory is much faster, frees up a USB port, and may well provide more memory than your USB stick.")]),e._v(" "),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("Booting from internal memory takes around 30 seconds while booting from the supplied USB2 stick boots in about a minute (other cards may take several times longer).")])]),e._v(" "),i("p",[e._v("To flash the USB image to the "),i("em",[e._v("UP Core")]),e._v(":")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Insert the pre-flashed USB drive into the "),i("em",[e._v("UP Core")]),e._v(" port labeled "),i("code",[e._v("USB1")]),e._v(".")])]),e._v(" "),i("li",[i("p",[i("a",{attrs:{href:"#login_mission_computer"}},[e._v("Login to the companion computer")]),e._v(" (as described above).")])]),e._v(" "),i("li",[i("p",[e._v("Open a terminal and run the following command to copy the image onto internal memory (eMMC).\nThe terminal will prompt for a number of responses during the flashing process.")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[i("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/catkin_ws/src/px4vision_ros/tools\n"),i("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ./flash_emmc.sh\n")])])]),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("All information saved in the "),i("em",[e._v("UP Core")]),e._v(" computer will be removed when executing this script.")])])])]),e._v(" "),i("p",[e._v(":::")]),e._v(" "),i("ol",{attrs:{start:"4"}},[i("li",[i("p",[e._v("Pull out the USB stick.")])]),e._v(" "),i("li",[i("p",[e._v("Restart the vehicle.\nThe "),i("em",[e._v("UP Core")]),e._v(" computer will now boot from internal memory (eMMC).")])])]),e._v(" "),i("h3",{attrs:{id:"boot-the-companion-computer"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#boot-the-companion-computer"}},[e._v("#")]),e._v(" Boot the Companion Computer")]),e._v(" "),i("p",[e._v("First insert the provided USB2.0 stick into the "),i("em",[e._v("UP Core")]),e._v(" port labeled "),i("code",[e._v("USB1")]),e._v(", and then power the vehicle using a 4S battery.\nThe avoidance system should start within about 1 minute (though this does depend on the USB stick supplied).")]),e._v(" "),i("div",{staticClass:"custom-block tip"},[i("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),i("p",[i("a",{attrs:{href:"#fly-the-drone-with-avoidance"}},[e._v("Fly the Drone with Avoidance")]),e._v(" additionally explains how to verify that the avoidance system is active.")])]),e._v(" "),i("p",[e._v("If you've already "),i("a",{attrs:{href:"#install_image_mission_computer"}},[e._v("installed the image on the companion computer")]),e._v(" you can just power the vehicle (i.e. no USB stick is needed).\nThe avoidance system should be up and running within around 30 seconds.")]),e._v(" "),i("p",[e._v("Once started the companion computer can be used both as a computer vision development environment and for running the software.")]),e._v(" "),i("p",[i("a",{attrs:{id:"login_mission_computer"}})]),e._v(" "),i("h3",{attrs:{id:"login-to-the-companion-computer"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#login-to-the-companion-computer"}},[e._v("#")]),e._v(" Login to the Companion Computer")]),e._v(" "),i("p",[e._v("To login to the companion computer:")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Connect a keyboard and mouse to the "),i("em",[e._v("UP Core")]),e._v(" via port "),i("code",[e._v("USB2")]),e._v(":")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1648),alt:"UP Core: USB2"}})]),e._v(" "),i("ul",[i("li",[i("p",[e._v("Use the USB-JST cable from the kit to get a USB A connector")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1649),alt:"USB to JST cable"}})])]),e._v(" "),i("li",[i("p",[e._v("A USB hub can be attached to the cable if the keyboard and mouse have separate connectors.")])])])]),e._v(" "),i("li",[i("p",[e._v("Connect a monitor to the "),i("em",[e._v("UP Core")]),e._v(" HDMI port.")]),e._v(" "),i("p",[i("img",{attrs:{src:o(1650),alt:"UP Core: HDMI port"}})]),e._v(" "),i("p",[e._v("The Ubuntu login screen should then appear on the monitor.")])]),e._v(" "),i("li",[i("p",[e._v("Login to the "),i("em",[e._v("UP Core")]),e._v(" using the credentials:")]),e._v(" "),i("ul",[i("li",[i("strong",[e._v("Username:")]),e._v(" px4vision")]),e._v(" "),i("li",[i("strong",[e._v("Password:")]),e._v(" px4vision")])])])]),e._v(" "),i("h3",{attrs:{id:"developing-extending-px4-avoidance"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#developing-extending-px4-avoidance"}},[e._v("#")]),e._v(" Developing/Extending PX4 Avoidance")]),e._v(" "),i("p",[e._v("The PX4 Vision's "),i("em",[e._v("UP Core")]),e._v(" computer provides a complete and fully configured environment for extending PX4 Avoidance software (and more generally, for developing new computer vision algorithms using ROS 2).\nYou should develop and test your software on the vehicle, sync it to your own git repository, and share any fixes and improvements with the wider PX4 community on the github "),i("a",{attrs:{href:"https://github.com/PX4/PX4-Avoidance",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4/PX4-Avoidance"),i("OutboundLink")],1),e._v(" repo.")]),e._v(" "),i("p",[e._v("The catkin workspace is at "),i("code",[e._v("~/catkin_ws")]),e._v(", and is preconfigured for running the PX4 avoidance local planner.\nThe launch-from-boot file ("),i("code",[e._v("avoidance.launch")]),e._v(") is in the "),i("code",[e._v("px4vision_ros")]),e._v(" package (modify this file to change what planner is launched).")]),e._v(" "),i("p",[e._v("The avoidance package is started on boot.\nTo integrate a different planner, this needs to be disabled.")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Disable the avoidance process using the following command:")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[e._v("systemctl stop avoidance.service\n")])])]),i("p",[e._v("You can simply reboot the machine to restart the service.")]),e._v(" "),i("p",[e._v("Other useful commands are:")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[i("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# restart service")]),e._v("\nsystemctl start avoidance.service\n\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# disable service (stop service and do not restart after boot)")]),e._v("\nsystemctl disable avoidance.service\n\n"),i("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# enable service (start service and enable restart after boot)")]),e._v("\nsystemctl "),i("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("enable")]),e._v(" avoidance.service\n")])])])]),e._v(" "),i("li",[i("p",[e._v("The source code of the obstacle avoidance package can be found in https://github.com/PX4/PX4-Avoidance which is located in "),i("code",[e._v("~/catkin_ws/src/avoidance")]),e._v(".")])]),e._v(" "),i("li",[i("p",[e._v("Make changes to the code! To get the latest code of avoidance pull the code from the avoidance repo:")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[i("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" pull origin\n"),i("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" checkout origin/master\n")])])])]),e._v(" "),i("li",[i("p",[e._v("Build the package")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[e._v("catkin build local_planner\n")])])])])]),e._v(" "),i("p",[e._v("The ROS workspace is placed in "),i("code",[e._v("~/catkin_ws")]),e._v(".\nFor reference on developing in ROS and using the catkin workspace, see the "),i("a",{attrs:{href:"http://wiki.ros.org/catkin/Tutorials",target:"_blank",rel:"noopener noreferrer"}},[e._v("ROS catkin tutorials"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("h3",{attrs:{id:"developing-px4-firmware"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#developing-px4-firmware"}},[e._v("#")]),e._v(" Developing PX4 Firmware")]),e._v(" "),i("p",[e._v("The kit is designed for creating computer vision software that runs on the companion computer, and which integrates with PX4’s flexible path planning and collision prevention interfaces.")]),e._v(" "),i("p",[e._v("You can also modify PX4 itself, and "),i("RouterLink",{attrs:{to:"/uk/config/firmware.html#custom"}},[e._v("install it as custom firmware")]),e._v(":")],1),e._v(" "),i("ul",[i("li",[e._v("You will need to connect "),i("em",[e._v("QGroundControl")]),e._v(" to the kit's "),i("em",[e._v("Pixhawk")]),e._v(" "),i("strong",[e._v("via USB")]),e._v(" in order to update firmware.")]),e._v(" "),i("li",[e._v("Select the "),i("em",[e._v("PX4 Vision DevKit")]),e._v(" airframe after loading new firmware:\n"),i("img",{attrs:{src:o(1651),alt:"Airframe Selection - PX4 Vision DevKit"}})])]),e._v(" "),i("div",{staticClass:"custom-block note"},[i("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),i("p",[e._v("Modification of PX4 code is not "),i("em",[e._v("needed")]),e._v(" to meet most computer vision use cases.\nTo discuss the interfaces or how to integrate other features join the "),i("RouterLink",{attrs:{to:"/uk/contribute/support.html"}},[e._v("PX4 support channels")]),e._v(".")],1)]),e._v(" "),i("h2",{attrs:{id:"px4-vision-carrier-board-pinouts"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#px4-vision-carrier-board-pinouts"}},[e._v("#")]),e._v(" PX4 Vision Carrier Board Pinouts")]),e._v(" "),i("p",[e._v("Information for the PX4 Vision 1.15 can be found at "),i("a",{attrs:{href:"https://docs.holybro.com/drone-development-kit/px4-vision-dev-kit-v1.5",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://docs.holybro.com"),i("OutboundLink")],1),e._v(".\nThe carrier board pinouts and other information are in the "),i("a",{attrs:{href:"https://docs.holybro.com/drone-development-kit/px4-vision-dev-kit-v1.5/downloads",target:"_blank",rel:"noopener noreferrer"}},[e._v("downloads section"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("h2",{attrs:{id:"other-development-resources"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#other-development-resources"}},[e._v("#")]),e._v(" Other Development Resources")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://github.com/up-board/up-community/wiki/Ubuntu",target:"_blank",rel:"noopener noreferrer"}},[i("em",[e._v("UP Core")]),e._v(" Wiki"),i("OutboundLink")],1),e._v(" - "),i("em",[e._v("Up Core")]),e._v(" companion computer technical information")]),e._v(" "),i("li",[i("a",{attrs:{href:"https://structure.io/developers",target:"_blank",rel:"noopener noreferrer"}},[e._v("Occipital Developer Forum"),i("OutboundLink")],1),e._v(" - "),i("em",[e._v("Structure Core")]),e._v(" camera information")]),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/flight_controller/pixhawk4.html"}},[e._v("Pixhawk 4 Overview")])],1),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/flight_controller/pixhawk6c.html"}},[e._v("Pixhawk 6C Overview")])],1),e._v(" "),i("li",[i("a",{attrs:{href:"https://github.com/PX4/PX4-Avoidance",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4 Avoidance software/documentation"),i("OutboundLink")],1)]),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/computer_vision/path_planning_interface.html"}},[e._v("Path Planning Interface")])],1)]),e._v(" "),i("h2",{attrs:{id:"how-to-get-technical-support"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#how-to-get-technical-support"}},[e._v("#")]),e._v(" How to get Technical Support")]),e._v(" "),i("p",[e._v("For hardware issues, please contact Holybro at: "),i("a",{attrs:{href:"mailto:productservice@holybro.com"}},[e._v("productservice@holybro.com")]),e._v(".")]),e._v(" "),i("p",[e._v("For software issues, use the following community support channels:")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"https://wikifactory.com/+holybro/px4-vision",target:"_blank",rel:"noopener noreferrer"}},[e._v("Holybro PX4 Vision Wikifactory"),i("OutboundLink")],1)]),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/uk/contribute/support.html"}},[e._v("PX4 Support channels")])],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);