(window.webpackJsonp=window.webpackJsonp||[]).push([[550],{2661:function(t,e,a){"use strict";a.r(e);var o=a(19),r=Object(o.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"завантаження-завантажувача-px4-на-системи-betaflight"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#завантаження-завантажувача-px4-на-системи-betaflight"}},[t._v("#")]),t._v(" Завантаження завантажувача PX4 на системи Betaflight")]),t._v(" "),o("p",[t._v("Ця сторінка документує, як прошивати завантажувач PX4 на плати, які вже мають прошивку Betaflight (наприклад, <0>OmnibusF4 SD</0> або <1>Kakute F7</1>).")]),t._v(" "),o("p",[t._v("Є три інструменти, які можна використовувати для прошивки завантажувача PX4: "),o("em",[t._v("Конфігуратор Betaflight")]),t._v(", "),o("a",{attrs:{href:"http://dfu-util.sourceforge.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("командний рядок dfu-util"),o("OutboundLink")],1),t._v(" або графічний інструмент "),o("a",{attrs:{href:"https://www.st.com/en/development-tools/stsw-stm32080.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("dfuse"),o("OutboundLink")],1),t._v(" (тільки для Windows).")]),t._v(" "),o("div",{staticClass:"custom-block note"},[o("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),o("p",[o("em",[t._v("Конфігуратор Betaflight")]),t._v("  є найпростішим використанням, але більш нові версії можуть не підтримувати оновлення завантажувача, який не є частиною Betaflight. Ви можете спробувати це спочатку, але скористайтеся іншими методами, якщо оновлення мікропрограми не працює.")])]),t._v(" "),o("h2",{attrs:{id:"оновлення-завантажувача-в-конфігураторі-betaflight"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#оновлення-завантажувача-в-конфігураторі-betaflight"}},[t._v("#")]),t._v(" Оновлення завантажувача в конфігураторі Betaflight")]),t._v(" "),o("div",{staticClass:"custom-block note"},[o("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),o("p",[o("em",[t._v("Betaflight Configurator")]),t._v(" може не підтримувати оновлення PX4 Bootloader, на травень 2023 року. Давні версії повинні працювати, хоча точні версії не відомі.")])]),t._v(" "),o("p",[t._v("Для встановлення завантажувача PX4 за допомогою "),o("em",[t._v("Конфігуратора Betaflight")]),t._v(":")]),t._v(" "),o("ol",[o("li",[t._v("Завантажте або зіберіть "),o("a",{attrs:{href:"#bootloader-firmware"}},[t._v("прошивку завантажувача")]),t._v(" для плати, яку ви хочете прошивати.")]),t._v(" "),o("li",[t._v("Завантажте "),o("a",{attrs:{href:"https://github.com/betaflight/betaflight-configurator/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Конфігуратор Betaflight"),o("OutboundLink")],1),t._v(" для вашої платформи.")])]),t._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),o("p",[t._v("Якщо ви користуєтеся веб-браузером "),o("em",[t._v("Chrome")]),t._v(", простий крос-платформений альтернативний варіант - встановити конфігуратор як "),o("a",{attrs:{href:"https://chrome.google.com/webstore/detail/betaflight-configurator/kdaghagfopacdngbohiknlhcocjccjao",target:"_blank",rel:"noopener noreferrer"}},[t._v("розширення звідси"),o("OutboundLink")],1),t._v(".")])]),t._v(" "),o("ol",[o("li",[t._v("Підключіть плату до комп'ютера і запустіть конфігуратор.")]),t._v(" "),o("li",[t._v("Натисніть кнопку "),o("strong",[t._v("Завантажити прошивку [Локально]")]),t._v(". "),o("img",{attrs:{src:a(461),alt:"Betaflight Configurator - Local Firmware"}})]),t._v(" "),o("li",[t._v("Виберіть бінарний файл завантажувача з файлової системи, а потім прошейте плату.")])]),t._v(" "),o("p",[t._v("Тепер ви повинні змогти встановити прошивку PX4 на плату.")]),t._v(" "),o("h2",{attrs:{id:"оновлення-завантажувача-через-dfu"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#оновлення-завантажувача-через-dfu"}},[t._v("#")]),t._v(" Оновлення завантажувача через DFU")]),t._v(" "),o("p",[t._v("Цей розділ пояснює, як перепрошити завантажувач PX4 за допомогою інструменту "),o("a",{attrs:{href:"http://dfu-util.sourceforge.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("dfu-util"),o("OutboundLink")],1),t._v(" або графічного інструменту "),o("a",{attrs:{href:"https://www.st.com/en/development-tools/stsw-stm32080.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("dfuse"),o("OutboundLink")],1),t._v(" (тільки для Windows).")]),t._v(" "),o("p",[t._v("Спершу вам потрібно завантажити або зібрати "),o("a",{attrs:{href:"#bootloader-firmware"}},[t._v("прошивку завантажувача")]),t._v(" для плати, яку ви хочете прошивати (нижче це зазначено як "),o("code",[t._v("<target.bin>")]),t._v(").")]),t._v(" "),o("div",{staticClass:"custom-block note"},[o("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),o("p",[t._v('Усі наведені нижче методи є безпечними, оскільки мікроконтролер STM32 не може бути "заблокованим"!\nDFU не може бути перезаписано при прошивці і завжди дозволяє встановити нову прошивку, навіть якщо процес прошивки завершиться невдало.')])]),t._v(" "),o("h3",{attrs:{id:"dfu-mode"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#dfu-mode"}},[t._v("#")]),t._v(" DFU mode")]),t._v(" "),o("p",[t._v("Обидва інструменти вимагають, щоб плата перебувала в режимі DFU. Щоб увійти в режим DFU, утримуйте кнопку завантаження (boot button) натиснутою під час підключення USB-кабеля до вашого комп'ютера. Кнопку можна відпустити після того, як плата буде ввімкнена.")]),t._v(" "),o("h3",{attrs:{id:"dfu-util"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#dfu-util"}},[t._v("#")]),t._v(" dfu-util")]),t._v(" "),o("div",{staticClass:"custom-block note"},[o("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),o("p",[t._v("Контролери польоту "),o("RouterLink",{attrs:{to:"/uk/flight_controller/kakuteh7v2.html"}},[t._v("Holybro Kakute H7 v2")]),t._v(" м та міні можуть вимагати виконання додаткової команди для стирання параметрів флеш-пам'яті (щоб виправити проблеми зі збереженням параметрів):")],1),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("dfu-util -a 0 --dfuse-address 0x08000000:force:mass-erase:leave -D build/<target>/<target>.bin\n")])])]),o("p",[t._v("Ця команда може викликати помилку, яку можна ігнорувати. Після завершення введіть режим DFU ще раз, щоб завершити звичайне оновлення.")])]),t._v(" "),o("p",[t._v("Для прошивки загрузчика на контролер польоту:")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("dfu-util -a 0 --dfuse-address 0x08000000 -D  build/<target>/<target>.bin\n")])])]),o("p",[t._v("Перезавантажте контролер польоту і дайте йому завантажитися без утримування кнопки завантаження.")]),t._v(" "),o("h3",{attrs:{id:"dfuse"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#dfuse"}},[t._v("#")]),t._v(" dfuse")]),t._v(" "),o("p",[t._v("Керівництво dfuse можна знайти тут: https://www.st.com/resource/en/user_manual/cd00155676.pdf")]),t._v(" "),o("p",[t._v("Використовуйте інструмент для прошивки "),o("code",[t._v("<target>.bin")]),t._v(" файлу.")]),t._v(" "),o("h2",{attrs:{id:"прошивка-завантажувача"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#прошивка-завантажувача"}},[t._v("#")]),t._v(" Прошивка завантажувача")]),t._v(" "),o("p",[t._v("Інструменти вище прошивають вбудоване програмне забезпечення завантажувача. Прошивка завантажувача може бути побудована для більшості цілей за допомогою звичайного вихідного коду PX4, тоді як для інших цілей можна використовувати вихідний код з репозиторію завантажувача.")]),t._v(" "),o("p",[t._v("Плати управління політами, які мають цільові PX4-Autopilot "),o("code",[t._v("make")]),t._v(" для завантажувача, можуть збудувати завантажувач із вихідного коду PX4-Autopilot. Список контролерів, яких це стосується, можна отримати, виконавши наступну команду "),o("code",[t._v("make")]),t._v(" і зазначивши цілі "),o("code",[t._v("make")]),t._v(", які закінчуються на "),o("code",[t._v("_bootloader")])]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("$make list_config_targets\n\n...\ncuav_nora_bootloader\ncuav_x7pro_bootloader\ncubepilot_cubeorange_bootloader\nholybro_durandal-v1_bootloader\nholybro_kakuteh7_bootloader\nholybro_kakuteh7v2_bootloader\nholybro_kakuteh7mini_bootloader\nmatek_h743-mini_bootloader\nmatek_h743-slim_bootloader\nmodalai_fc-v2_bootloader\nmro_ctrl-zero-classic_bootloader\nmro_ctrl-zero-h7_bootloader\nmro_ctrl-zero-h7-oem_bootloader\nmro_pixracerpro_bootloader\npx4_fmu-v6u_bootloader\npx4_fmu-v6x_bootloader\n")])])]),o("p",[t._v("Щоб створити для цих контролерів польоту, завантажте та створіть "),o("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot",target:"_blank",rel:"noopener noreferrer"}},[t._v("джерело PX4-Autopilot"),o("OutboundLink")],1),t._v(", а потім створіть ціль за допомогою таких команд:")]),t._v(" "),o("div",{staticClass:"language-sh extra-class"},[o("pre",{pre:!0,attrs:{class:"language-sh"}},[o("code",[o("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone --recursive https://github.com/PX4/PX4-Autopilot.git\n"),o("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" PX4-Autopilot\n"),o("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("target"),o("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),o("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# For example: holybro_kakuteh7mini_bootloader")]),t._v("\n")])])]),o("p",[t._v("Для інших контролерів польоту завантажте репозиторій "),o("a",{attrs:{href:"https://github.com/PX4/Bootloader",target:"_blank",rel:"noopener noreferrer"}},[t._v("PX4/Bootloader"),o("OutboundLink")],1),t._v(" і створіть вихідний код, використовуючи відповідні цілі:")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[t._v("git clone --recursive  https://github.com/PX4/Bootloader.git\ncd Bootloader\nmake <target> # For example: omnibusf4sd_bl or kakutef7_bl\n")])])]),o("h2",{attrs:{id:"перевстановіть-betaflight"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#перевстановіть-betaflight"}},[t._v("#")]),t._v(" Перевстановіть Betaflight")]),t._v(" "),o("p",[t._v("Для переключення назад на Betaflight:")]),t._v(" "),o("ol",[o("li",[t._v("Резервне копіювання параметрів PX4. Ви можете зробити це, "),o("RouterLink",{attrs:{to:"/uk/advanced/parameters_and_configurations.html#exporting-and-loading-parameters"}},[t._v("експортуючи")]),t._v(" їх на SD-карту.")],1),t._v(" "),o("li",[t._v("Натисніть і утримуйте кнопку "),o("strong",[t._v("завантажувача")]),t._v(", підключивши USB-кабель.")]),t._v(" "),o("li",[t._v("Flash "),o("em",[t._v("Betaflight")]),t._v(" як зазвичай за допомогою "),o("em",[t._v("Betaflight-configurator")]),t._v(".")])])])}),[],!1,null,null,null);e.default=r.exports},461:function(t,e,a){t.exports=a.p+"assets/img/betaflight_configurator.9445e122.jpg"}}]);