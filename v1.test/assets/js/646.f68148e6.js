(window.webpackJsonp=window.webpackJsonp||[]).push([[646],{3437:function(t,e,o){"use strict";o.r(e);var r=o(19),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"польоти-з-використанням-систем-захоплення-руху-vicon-nokov-optitrack"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#польоти-з-використанням-систем-захоплення-руху-vicon-nokov-optitrack"}},[t._v("#")]),t._v(" Польоти з використанням систем захоплення руху (VICON, NOKOV, Optitrack)")]),t._v(" "),r("p",[t._v("::: попередження "),r("strong",[t._v("РОБОТА В ПРОЦЕСІ")])]),t._v(" "),r("p",[t._v("Ця тема має значні перекриття з "),r("RouterLink",{attrs:{to:"/uk/ros/external_position_estimation.html"}},[t._v("Зовнішня оцінка позиції (ROS)")]),t._v(".\n:::")],1),t._v(" "),r("p",[t._v("Системи захоплення руху у приміщенні, такі як VICON, NOKOV та Optitrack, можуть бути використані для надання даних про положення та орієнтацію для оцінки стану транспортного засобу або можуть бути використані як основа для аналізу. Дані з систем захоплення руху можуть бути використані для оновлення локальної оцінки положення PX4 відносно локального початку координат Курс (поворот) з системи захоплення руху також може бути опціонально інтегрований оцінювачем положення.")]),t._v(" "),r("p",[t._v("Дані про положення (позицію та орієнтацію) з системи захоплення руху надсилаються автопілоту через MAVLink, використовуючи повідомлення "),r("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#ATT_POS_MOCAP",target:"_blank",rel:"noopener noreferrer"}},[t._v("ATT_POS_MOCAP"),r("OutboundLink")],1),t._v(". Дивіться розділ нижче про системи координат для норм представлення даних. ROS-Mavlink інтерфейс "),r("RouterLink",{attrs:{to:"/uk/ros/mavros_installation.html"}},[t._v("mavros")]),t._v(" має стандартний плагін для надсилання цього повідомлення. Їх також можна надсилати, використовуючи чистий код на мовах програмування C/C++ та бібліотеки MAVLink.")],1),t._v(" "),r("h2",{attrs:{id:"архітектура-обчислювальних-систем"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#архітектура-обчислювальних-систем"}},[t._v("#")]),t._v(" Архітектура обчислювальних систем")]),t._v(" "),r("p",[r("strong",[t._v("Дуже рекомендується")]),t._v(" надсилати дані захоплення руху через "),r("strong",[t._v("бортовий")]),t._v(" комп'ютер (наприклад, Raspberry Pi, ODroid і т. д.) для надійного зв'язку. The onboard computer can be connected to the motion capture computer through WiFi, which offers reliable, high-bandwidth connection.")]),t._v(" "),r("p",[t._v("Most standard telemetry links like 3DR/SiK radios are "),r("strong",[t._v("not")]),t._v(" suitable for high-bandwidth motion capture applications.")]),t._v(" "),r("h2",{attrs:{id:"coordinate-frames"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#coordinate-frames"}},[t._v("#")]),t._v(" Coordinate Frames")]),t._v(" "),r("p",[t._v("This section shows how to setup the system with the proper reference frames. There are various representations but we will use two of them: ENU and NED.")]),t._v(" "),r("ul",[r("li",[t._v("ENU is a ground-fixed frame where "),r("strong",[t._v("X")]),t._v(" axis points East, "),r("strong",[t._v("Y")]),t._v(" points North and "),r("strong",[t._v("Z")]),t._v(" up. The robot/vehicle body frame is "),r("strong",[t._v("X")]),t._v(" towards the front, "),r("strong",[t._v("Z")]),t._v(" up and "),r("strong",[t._v("Y")]),t._v(" towards the left.")]),t._v(" "),r("li",[t._v("NED has "),r("strong",[t._v("X")]),t._v(" towards North, "),r("strong",[t._v("Y")]),t._v(" East and "),r("strong",[t._v("Z")]),t._v(" down. The robot/vehicle body frame has "),r("strong",[t._v("X")]),t._v(" towards the front, "),r("strong",[t._v("Z")]),t._v(" down and "),r("strong",[t._v("Y")]),t._v(" accordingly.")])]),t._v(" "),r("p",[t._v("Frames are shown in the image below. NED on the left, ENU on the right:")]),t._v(" "),r("p",[r("img",{attrs:{src:o(347),alt:"Reference frames"}})]),t._v(" "),r("p",[t._v("With the external heading estimation, however, magnetic North is ignored and faked with a vector corresponding to world "),r("em",[t._v("x")]),t._v(" axis (which can be placed freely at mocap calibration); yaw angle will be given respect to local "),r("em",[t._v("x")]),t._v(".")]),t._v(" "),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),r("p",[t._v("When creating the rigid body in the motion capture software, remember to first align the robot with the world "),r("strong",[t._v("X")]),t._v(" axis otherwise yaw estimation will have an initial offset.")])]),t._v(" "),r("h2",{attrs:{id:"estimator-choice"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#estimator-choice"}},[t._v("#")]),t._v(" Estimator Choice")]),t._v(" "),r("p",[t._v("EKF2 is recommended for GPS-enabled systems (LPE is deprecated, and hence no longer supported or maintained). The Q-Estimator is recommended if you don't have GPS, as it works without a magnetometer or barometer.")]),t._v(" "),r("p",[t._v("See "),r("RouterLink",{attrs:{to:"/uk/advanced/switching_state_estimators.html"}},[t._v("Switching State Estimators")]),t._v(" for more information.")],1),t._v(" "),r("h3",{attrs:{id:"ekf2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ekf2"}},[t._v("#")]),t._v(" EKF2")]),t._v(" "),r("p",[t._v("The ROS topic for motion cap "),r("code",[t._v("mocap_pose_estimate")]),t._v(" for mocap systems and "),r("code",[t._v("vision_pose_estimate")]),t._v(" for vision. Check "),r("a",{attrs:{href:"http://wiki.ros.org/mavros_extras",target:"_blank",rel:"noopener noreferrer"}},[t._v("mavros_extras"),r("OutboundLink")],1),t._v(" for further info.")]),t._v(" "),r("h2",{attrs:{id:"testing"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#testing"}},[t._v("#")]),t._v(" Testing")]),t._v(" "),r("h2",{attrs:{id:"troubleshooting"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[t._v("#")]),t._v(" Troubleshooting")])])}),[],!1,null,null,null);e.default=a.exports},347:function(t,e,o){t.exports=o.p+"assets/img/ref_frames.ec278837.png"}}]);