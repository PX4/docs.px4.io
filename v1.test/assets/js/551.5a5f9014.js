(window.webpackJsonp=window.webpackJsonp||[]).push([[551],{2668:function(t,e,a){"use strict";a.r(e);var r=a(19),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"налаштування-px4-ethernet"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#налаштування-px4-ethernet"}},[t._v("#")]),t._v(" Налаштування PX4 Ethernet")]),t._v(" "),r("p",[t._v("Підключення через Ethernet надає швидкий, надійний та гнучкий спосіб зв'язку, який може бути альтернативою використанню USB або інших послідовних з'єднань.")]),t._v(" "),r("p",[t._v("Воно може бути використане для підключення до наземних станцій, супутникових комп'ютерів та інших систем MAVLink. Це особливо рекомендується при підключенні до систем, які «природно» використовують Ethernet, наприклад, IP-радіо.")]),t._v(" "),r("p",[t._v("Ця тема охоплює:")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#px4-ethernet-setup"}},[t._v("PX4 Ethernet Setup")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#supported-flight-controllers"}},[t._v("Supported Flight Controllers")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#setting-up-the-ethernet-network"}},[t._v("Setting up the Ethernet Network")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"#px4-ethernet-network-setup"}},[t._v("PX4 Ethernet Network Setup")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#ubuntu-ethernet-network-setup"}},[t._v("Ubuntu Ethernet Network Setup")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#companion-computer-ethernet-network-setup"}},[t._v("Companion Computer Ethernet Network Setup")])])])]),t._v(" "),r("li",[r("a",{attrs:{href:"#px4-mavlink-serial-port-configuration"}},[t._v("PX4 MAVLink Serial Port Configuration")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#qgroundcontrol-setup-example"}},[t._v("QGroundControl Setup Example")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#mavsdk-python-setup-example"}},[t._v("MAVSDK-Python Setup Example")])]),t._v(" "),r("li",[r("a",{attrs:{href:"#ros-2-setup-example"}},[t._v("ROS 2 Setup Example")])])])])]),t._v(" "),r("h2",{attrs:{id:"підтримувані-контролери-польоту"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#підтримувані-контролери-польоту"}},[t._v("#")]),t._v(" Підтримувані контролери польоту")]),t._v(" "),r("p",[t._v("PX4 підтримує підключення по Ethernet на контролерах польоту "),r("a",{attrs:{href:"https://github.com/pixhawk/Pixhawk-Standards/blob/master/DS-011%20Pixhawk%20Autopilot%20v5X%20Standard.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pixhawk 5X-standard"),r("OutboundLink")],1),t._v(" (і пізніше), які мають порт Ethernet. Це також може бути підтримано на інших платах.")]),t._v(" "),r("p",[t._v("Підтримувані автопілоти включають:")]),t._v(" "),r("ul",[r("li",[r("RouterLink",{attrs:{to:"/uk/flight_controller/cuav_pixhawk_v6x.html"}},[t._v("CUAV Pixhawk V6X")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/uk/flight_controller/pixhawk5x.html"}},[t._v("Holybro Pixhawk 5X")])],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/uk/flight_controller/pixhawk6x.html"}},[t._v("Holybro Pixhawk 6X")])],1)]),t._v(" "),r("h2",{attrs:{id:"налаштування-мережі-ethernet"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#налаштування-мережі-ethernet"}},[t._v("#")]),t._v(" Налаштування мережі Ethernet")]),t._v(" "),r("p",[t._v("Для підключення систем по Ethernet потрібно налаштувати їх на роботу в одній IP-мережі, щоб кожна система мала унікальну IP-адресу та могла знаходити інші системи. Це можна зробити за допомогою DHCP-сервера для призначення адрес або вручну налаштувавши адреси кожної системи в мережі.")]),t._v(" "),r("p",[t._v("Немає єдиної «готової» конфігурації, яку ми можемо надати, яка обов’язково працюватиме у вашій локальній мережі. Отже, як приклад того, як можна налаштувати системи в IP-мережі зі статичними адресами в діапазоні "),r("code",[t._v("192.168.0.Xxx")]),t._v(", де PX4 має статично призначену адресу "),r("code",[t._v("192.168.0.4")]),t._v(", а комп'ютер має адресу "),r("code",[t._v("192.168.0.1")]),t._v(". Якщо ви хочете підключити компаньйонний комп'ютер або іншу систему до мережі і встановити статичну адресу, ви можете використати подібний підхід.")]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),r("p",[t._v("Немає нічого «особливого» щодо конфігурації мережі (крім можливо інструментів, які використовуються для зміни налаштувань мережі); вона працює майже так само, як будь-яка домашня або корпоративна мережа.\nТобто, знання про те, як працюють IP-мережі, є дуже бажаним!")])]),t._v(" "),r("h3",{attrs:{id:"налаштування-мережі-px4-ethernet"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#налаштування-мережі-px4-ethernet"}},[t._v("#")]),t._v(" Налаштування мережі PX4 Ethernet")]),t._v(" "),r("p",[t._v("PX4 використовує модуль "),r("RouterLink",{attrs:{to:"/uk/modules/modules_system.html#netman"}},[t._v("netman")]),t._v(" для застосування та оновлення налаштувань мережі.")],1),t._v(" "),r("p",[t._v("Налаштування мережі визначаються у файлі конфігурації "),r("code",[t._v("/fs/microsd/net.cfg")]),t._v(" на SD-карті. Це текстовий файл, який визначає кожне налаштування на новому рядку у вигляді пари "),r("code",[t._v("name=value")]),t._v(". Конфігураційний файл може виглядати так:")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("DEVICE=eth0\nBOOTPROTO=fallback\nIPADDR=192.168.0.4\nNETMASK=255.255.255.0\nROUTER=192.168.0.254\nDNS=192.168.0.254\n")])])]),r("p",[t._v("Де є значення:")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("DEVICE")]),t._v(": Interface name. Default is "),r("code",[t._v("eth0")]),t._v(".")]),t._v(" "),r("li",[r("code",[t._v("BOOTPROTO")]),t._v(": Protocol for getting PX4 IP address. Valid values for proto are: "),r("code",[t._v("dhcp")]),t._v(", "),r("code",[t._v("static")]),t._v(", "),r("code",[t._v("fallback")]),t._v(" (use DHCP but fall back to static address after time, if that fails)")]),t._v(" "),r("li",[r("code",[t._v("IPADDR")]),t._v(": Static IP address (used if BOOTPROTO is "),r("code",[t._v("static")]),t._v(" or "),r("code",[t._v("fallback")]),t._v(")")]),t._v(" "),r("li",[r("code",[t._v("NETMASK")]),t._v(": Network mask")]),t._v(" "),r("li",[r("code",[t._v("ROUTER")]),t._v(": The address of the default route.")]),t._v(" "),r("li",[r("code",[t._v("DNS")]),t._v(": The address of the DNS server.")])]),t._v(" "),r("p",[t._v('Щоб налаштувати вищезазначену "прикладну" конфігурацію за допомогою '),r("em",[t._v("QGroundControl")]),t._v(":")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("Підключіть авіоніку до комп'ютера за допомогою USB-кабелю.")])]),t._v(" "),r("li",[r("p",[t._v("Відкрийте "),r("strong",[t._v("QGroundcontrol > Аналіз інструментів > MAVLink")])])]),t._v(" "),r("li",[r("p",[t._v('Введіть команди "like" до наведених нижче у '),r("em",[t._v("Консоль MAVLink")]),t._v(" (щоб записати значення у файл конфігурації):")]),t._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DEVICE")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("eth0 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /fs/microsd/net.cfg\n"),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("BOOTPROTO")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("fallback "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /fs/microsd/net.cfg\n"),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("IPADDR")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.4 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" /fs/microsd/net.cfg\n"),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NETMASK")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("255.255")]),t._v(".255.0 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("/fs/microsd/net.cfg\n"),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ROUTER")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.254 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("/fs/microsd/net.cfg\n"),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DNS")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".0.254 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("/fs/microsd/net.cfg\n")])])])]),t._v(" "),r("li",[r("p",[t._v("Після встановлення конфігурації мережі можна від’єднати кабель USB.")])]),t._v(" "),r("li",[r("p",[t._v("Перезавантажте контролер польоту, щоб застосувати налаштування.")])])]),t._v(" "),r("p",[t._v("Зверніть увагу, що вищевказана настройка надає контролеру польоту адресу в мережі Ethernet. Вам також потрібно "),r("a",{attrs:{href:"#px4-mavlink-serial-port-configuration"}},[t._v("налаштувати порт Ethernet")]),t._v(" для використання MAVLink.")]),t._v(" "),r("h3",{attrs:{id:"налаштування-мережі-ubuntu-ethernet"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#налаштування-мережі-ubuntu-ethernet"}},[t._v("#")]),t._v(" Налаштування мережі Ubuntu Ethernet")]),t._v(" "),r("p",[t._v("Якщо ви використовуєте Ubuntu для вашої земної станції (або компаньйон-комп'ютера), то ви можете використовувати "),r("a",{attrs:{href:"https://netplan.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("netplan"),r("OutboundLink")],1),t._v(" для налаштування мережі.")]),t._v(" "),r("p",[t._v('Нижче ми показуємо, як ви можете записати налаштування у файл конфігурації netplan "'),r("code",[t._v("/etc/netplan/01-network-manager-all.yaml")]),t._v('", яке буде працювати в тій же мережі, що і налаштування PX4, наведене вище. Зверніть увагу, що в документації з '),r("a",{attrs:{href:"https://netplan.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("netplan"),r("OutboundLink")],1),t._v(" є багато інших "),r("a",{attrs:{href:"https://netplan.io/examples/",target:"_blank",rel:"noopener noreferrer"}},[t._v("прикладів"),r("OutboundLink")],1),t._v(" та інструкцій.")]),t._v(" "),r("p",[t._v("Для установки Ubuntu комп'ютера:")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("У терміналі створіть та відкрийте конфігураційний файл "),r("code",[t._v("netplan")]),t._v(": "),r("code",[t._v("/etc/netplan/01-network-manager-all.yaml")]),t._v(". Нижче ми робимо це за допомогою текстового редактора "),r("em",[t._v("nano")]),t._v(".")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("sudo nano /etc/netplan/01-network-manager-all.yaml\n")])])])]),t._v(" "),r("li",[r("p",[t._v("Скопіюйте та вставте наступну конфігураційну інформацію у файл (зверніть увагу: відступи мають значення!):")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("network:\n  version: 2\n  renderer: NetworkManager\n  ethernets:\n      enp2s0:\n          addresses:\n              - 192.168.0.1/24\n          nameservers:\n              addresses: [192.168.0.1]\n          routes:\n              - to: 192.168.0.1\n                via: 192.168.0.1\n")])])]),r("p",[t._v("Збережіть і закрийте файл.")])]),t._v(" "),r("li",[r("p",[t._v("Застосуйте конфігурацію "),r("em",[t._v("netplan")]),t._v(", введіть наступну команду в термінал Ubuntu.")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("sudo netplan apply\n")])])])])]),t._v(" "),r("h3",{attrs:{id:"companion-computer-ethernet-network-setup"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#companion-computer-ethernet-network-setup"}},[t._v("#")]),t._v(" Companion Computer Ethernet Network Setup")]),t._v(" "),r("p",[t._v("Налаштування компаньйонного комп'ютера залежить від операційної системи компаньйонного комп'ютера.")]),t._v(" "),r("p",[t._v("Операційна система Linux може підтримувати "),r("code",[t._v("netplan")]),t._v(", у такому разі інструкції будуть такі ж, як вище, але з використанням унікальної IP-адреси.")]),t._v(" "),r("h2",{attrs:{id:"конфігурація-послідовного-порту-px4-mavlink"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#конфігурація-послідовного-порту-px4-mavlink"}},[t._v("#")]),t._v(" Конфігурація послідовного порту PX4 MAVLink")]),t._v(" "),r("p",[t._v("Конфігурація порту Ethernet встановлює властивості "),r("em",[t._v("серійного зв'язку")]),t._v(" (яким чином PX4 бачить з'єднання Ethernet). Це включає набір повідомлень MAVLink, які передаються, швидкість передачі даних, UDP-порти, на які може підключатися віддалена система, тощо.")]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),r("p",[t._v("Ви повинні окремо налаштувати IP-адресу PX4 та інші "),r("em",[t._v("налаштування мережі")]),t._v(" ("),r("a",{attrs:{href:"#px4-ethernet-network-setup"}},[t._v("як показано раніше")]),t._v(").")])]),t._v(" "),r("p",[t._v("PX4 налаштовує серійний порт для підключення до GCS через MAVLink, використовуючи параметри, показані нижче:")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("Параметр")]),t._v(" "),r("th",[t._v("Значення")]),t._v(" "),r("th",[t._v("Опис")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_CONFIG"}},[t._v("MAV_2_CONFIG")])],1),t._v(" "),r("td",[t._v("1000")]),t._v(" "),r("td",[t._v("Налаштування Ethernet порту")])]),t._v(" "),r("tr",[r("td",[r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_BROADCAST"}},[t._v("MAV_2_BROADCAST")])],1),t._v(" "),r("td",[t._v("1")]),t._v(" "),r("td",[t._v("Трансляція повідомлень "),r("code",[t._v("HEARTBEAT")])])]),t._v(" "),r("tr",[r("td",[r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_MODE"}},[t._v("MAV_2_MODE")])],1),t._v(" "),r("td",[t._v("0")]),t._v(" "),r("td",[t._v("Надіслати «звичайний» набір повідомлень MAVLink (тобто набір GCS)")])]),t._v(" "),r("tr",[r("td",[r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_RADIO_CTL"}},[t._v("MAV_2_RADIO_CTL")])],1),t._v(" "),r("td",[t._v("0")]),t._v(" "),r("td",[t._v("Вимкнути програмне регулювання трафіку MAVLink")])]),t._v(" "),r("tr",[r("td",[r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_RATE"}},[t._v("MAV_2_RATE")])],1),t._v(" "),r("td",[t._v("100000")]),t._v(" "),r("td",[t._v("Maximum sending rate")])]),t._v(" "),r("tr",[r("td",[r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT"}},[t._v("MAV_2_REMOTE_PRT")])],1),t._v(" "),r("td",[t._v("14550")]),t._v(" "),r("td",[t._v("MAVLink Remote Port of 14550 (GCS)")])]),t._v(" "),r("tr",[r("td",[r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_UDP_PRT"}},[t._v("MAV_2_UDP_PRT")])],1),t._v(" "),r("td",[t._v("14550")]),t._v(" "),r("td",[t._v("MAVLink Network Port of 14550 (GCS)")])])])]),t._v(" "),r("p",[t._v("Зазвичай співпрацюючий комп'ютер використовуватиме порт "),r("code",[t._v("14540")]),t._v(" (замість "),r("code",[t._v("14550")]),t._v(") та передаватиме набір повідомлень MAVLink, вказаний у профілі "),r("code",[t._v("Onboard")]),t._v(". You can configure this setup by changing "),r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT"}},[t._v("MAV_2_REMOTE_PRT")]),t._v(" and "),r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_UDP_PRT"}},[t._v("MAV_2_UDP_PRT")]),t._v(" to "),r("code",[t._v("14540")]),t._v(" and "),r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_MODE"}},[t._v("MAV_2_MODE")]),t._v(" to "),r("code",[t._v("2")]),t._v(" (Onboard). Проте слід зауважити, що це все одно працюватиме, використовуючи профіль GCS.")],1),t._v(" "),r("p",[t._v("Для отримання додаткової інформації про налаштування серійного порту MAVLink дивіться "),r("RouterLink",{attrs:{to:"/uk/peripherals/mavlink_peripherals.html"}},[t._v("Пристрої MAVLink (GCS/OSD/Супутник)")]),t._v(".")],1),t._v(" "),r("h2",{attrs:{id:"qgroundcontrol-setup-example"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#qgroundcontrol-setup-example"}},[t._v("#")]),t._v(" QGroundControl Setup Example")]),t._v(" "),r("p",[t._v("Припускаючи, що ви вже налаштували "),r("a",{attrs:{href:"#setting-up-the-ethernet-network"}},[t._v("мережу Ethernet")]),t._v(", щоб ваш комп'ютер земної станції та PX4 працювали в одній мережі, і")]),t._v(" "),r("p",[t._v("Для підключення QGroundControl до PX4 по Ethernet:")]),t._v(" "),r("ol",[r("li",[r("p",[r("a",{attrs:{href:"#setting-up-the-ethernet-network"}},[t._v("Налаштуйте мережу Ethernet")]),t._v("  так, щоб ваш комп'ютер земної станції та PX4 працювали в одній мережі.")])]),t._v(" "),r("li",[r("p",[t._v("Підключіть комп'ютер земної станції та PX4 за допомогою кабелю Ethernet.")])]),t._v(" "),r("li",[r("p",[t._v("Запустіть QGroundControl та "),r("a",{attrs:{href:"https://docs.qgroundcontrol.com/master/en/SettingsView/SettingsView.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("визначте комунікаційний канал"),r("OutboundLink")],1),t._v(" ("),r("strong",[t._v("Налаштування додатка > Канали зв'язку")]),t._v("), вказавши "),r("em",[t._v("адресу сервера")]),t._v(" та порт як IP-адресу та порт, призначений в PX4, відповідно.")]),t._v(" "),r("p",[t._v("Припускаючи, що значення встановлені так, як описано в решті цієї теми, налаштування виглядатиме наступним чином:")]),t._v(" "),r("p",[r("img",{attrs:{src:a(483),alt:"QGC comm link for ethernet setup"}})])]),t._v(" "),r("li",[r("p",[t._v("Після цього QGroundControl має підключитися, якщо ви виберете це посилання.")])])]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),r("p",[t._v("Конфігурація "),r("a",{attrs:{href:"#px4-ethernet-network-setup"}},[t._v("порту Ethernet PX4")]),t._v(" не повинна бути потрібною (за замовчуванням вона відповідна для GCS).")])]),t._v(" "),r("h2",{attrs:{id:"приклад-налаштування-mavsdk-python"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#приклад-налаштування-mavsdk-python"}},[t._v("#")]),t._v(" Приклад налаштування MAVSDK-Python")]),t._v(" "),r("p",[t._v("Щоб налаштувати роботу MAVSDK-Python на комп’ютері-супутнику:")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("Щоб налаштувати роботу MAVSDK-Python на комп’ютері-супутнику:")])]),t._v(" "),r("li",[r("p",[t._v("Змініть "),r("a",{attrs:{href:"#px4-ethernet-network-setup"}},[t._v("Конфігурацію порту Ethernet PX4")]),t._v(" для підключення до комп’ютера-супутника. Ви можете змінити параметри "),r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_REMOTE_PRT"}},[t._v("MAV_2_REMOTE_PRT")]),t._v(" і "),r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_UDP_PRT"}},[t._v("MAV_2_UDP_PRT")]),t._v(" на "),r("code",[t._v("14540")]),t._v(", а "),r("RouterLink",{attrs:{to:"/uk/advanced_config/parameter_reference.html#MAV_2_MODE"}},[t._v("MAV_2_MODE")]),t._v(" на "),r("code",[t._v("2")]),t._v(" (На борту).")],1)]),t._v(" "),r("li",[r("p",[t._v("Дотримуйтесь інструкцій у "),r("a",{attrs:{href:"https://github.com/mavlink/MAVSDK-Python",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAVSDK-python"),r("OutboundLink")],1),t._v(", щоб установити та використовувати MAVSDK.")]),t._v(" "),r("p",[t._v("Наприклад, ваш код буде підключатися до PX4 за допомогою:")]),t._v(" "),r("div",{staticClass:"language-python extra-class"},[r("pre",{pre:!0,attrs:{class:"language-python"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" drone"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connect"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("system_address"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"udp://192.168.0.4:14540"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("MAVSDK")]),t._v(" "),r("p",[t._v("може підключитися до PX4 за адресою порту "),r("code",[t._v("14550")]),t._v(", якщо ви не змінюєте конфігурацію мережевого порту PX4. Проте це не рекомендується, оскільки типова конфігурація оптимізована для зв'язку з наземним контролем (а не компаньйон комп'ютером).")])]),t._v(" "),r("h2",{attrs:{id:"ros-2-setup-example"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ros-2-setup-example"}},[t._v("#")]),t._v(" ROS 2 Setup Example")]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),r("p",[t._v("Попередні вимоги:")]),t._v(" "),r("ul",[r("li",[t._v("У вас є підтримуване апаратне забезпечення автопілота з мікропрограмою PX4, яка включає проміжне програмне забезпечення "),r("RouterLink",{attrs:{to:"/uk/middleware/uxrce_dds.html"}},[t._v("uXRCE-DDS")]),t._v(". Зауважте, що PX4 версії 1.14 і пізніших за замовчуванням включає необхідний модуль "),r("RouterLink",{attrs:{to:"/uk/modules/modules_system.html#uxrce-dds-client"}},[t._v("uxrce_dds_client")]),t._v(".")],1),t._v(" "),r("li",[r("RouterLink",{attrs:{to:"/uk/ros/ros2_comm.html"}},[t._v("ROS 2")]),t._v(" було правильно налаштовано на  компаньйон(комп’ютер-супутник)")],1),t._v(" "),r("li",[t._v("Ви виконали налаштування мережі Ethernet і портів, як описано вгорі цієї сторінки.")])])]),t._v(" "),r("p",[t._v("Налаштувати ROS 2:")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("Підключіть ваш автопілот і компаньйон комп'ютер за допомогою Ethernet.")])]),t._v(" "),r("li",[r("p",[r("RouterLink",{attrs:{to:"/uk/middleware/uxrce_dds.html#starting-the-client"}},[t._v("Запустіть клієнт uXRCE-DDS на PX4")]),t._v(" вручну або налаштувавши сценарій запуску системи. Зверніть увагу, що вам потрібно використовувати IP-адресу компаньйонного комп'ютера та UDP-порт, на якому агент слухає (приклад конфігурації вище встановлює IP-адресу компаньйонного комп'ютера на "),r("code",[t._v("192.168.0.1")]),t._v(", а UDP-порт агента встановлюється на "),r("code",[t._v("8888")]),t._v(" у наступному кроці).")],1)]),t._v(" "),r("li",[r("p",[r("RouterLink",{attrs:{to:"/uk/middleware/uxrce_dds.html#starting-the-agent"}},[t._v("Запустіть агент мікро XRCE-DDS на компаньйонному комп'ютері")]),t._v(". Наприклад, уведіть наступну команду в термінал, щоб запустити агента, який слухає порт UDP "),r("code",[t._v("8888")]),t._v(":")],1),t._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[t._v("MicroXRCEAgent udp4 -p "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("8888")]),t._v("\n")])])])]),t._v(" "),r("li",[r("p",[t._v("Виконайте команду "),r("RouterLink",{attrs:{to:"/uk/ros/ros2_comm.html#running-the-example"}},[t._v("listener node")]),t._v(" в новому терміналі, щоб підтвердити встановлене з'єднання.")],1),t._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" ~/ws_sensor_combined/install/setup.bash\nros2 launch px4_ros_com sensor_combined_listener.launch.py\n")])])]),r("p",[t._v("Якщо все налаштовано правильно, в терміналі повинен відображатися наступний вивід:")]),t._v(" "),r("div",{staticClass:"language-sh extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sh"}},[r("code",[t._v("RECEIVED SENSOR COMBINED DATA\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\nts: "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("855801598")]),t._v("\ngyro_rad"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": -0.00339938\ngyro_rad"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00440091")]),t._v("\ngyro_rad"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00513893")]),t._v("\ngyro_integral_dt: "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4997")]),t._v("\naccelerometer_timestamp_relative: "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\naccelerometer_m_s2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": -0.0324082\naccelerometer_m_s2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0392213")]),t._v("\naccelerometer_m_s2"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(": -9.77914\naccelerometer_integral_dt: "),r("span",{pre:!0,attrs:{class:"token number"}},[t._v("4997")]),t._v("\n")])])])])]),t._v(" "),r("h2",{attrs:{id:"see-also"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#see-also"}},[t._v("#")]),t._v(" See Also")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://px4.io/get-the-pixhawk-raspberry-pi-cm4-baseboard-by-holybro-talking-with-px4/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Отримати базову плату Pixhawk Raspberry Pi CM4 від Holybro, яка спілкується з PX4 "),r("OutboundLink")],1),t._v(" (блог px4.io):\n"),r("ul",[r("li",[t._v("Урок, який показує, як підключити Pixhawk 6X + Raspberry Pi на базі CM4 через провідний Ethernet.")]),t._v(" "),r("li",[t._v("Блог дублює багато матеріалу з цієї теми.")])])])])])}),[],!1,null,null,null);e.default=s.exports},483:function(t,e,a){t.exports=a.p+"assets/img/px4_ethernet_link_config.0dda4432.png"}}]);