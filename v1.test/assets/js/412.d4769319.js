(window.webpackJsonp=window.webpackJsonp||[]).push([[412],{2832:function(t,s,a){"use strict";a.r(s);var n=a(19),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"середовище-розробки-windows-засноване-на-cygwin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#середовище-розробки-windows-засноване-на-cygwin"}},[t._v("#")]),t._v(" Середовище розробки Windows (засноване на Cygwin)")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[t._v("Це середовище розробки "),n("RouterLink",{attrs:{to:"/uk/advanced/community_supported_dev_env.html"}},[t._v("підтримується та утримується спільнотою")]),t._v(". Воно може працювати або не працювати з поточними версіями PX4.")],1),t._v(" "),n("p",[t._v("Цей інструментарій був рекомендований раніше, але наразі не працює з PX4 v1.12 і новіше через проблеми з пакетами. Бажано використовувати "),n("RouterLink",{attrs:{to:"/uk/dev_setup/dev_env_windows_wsl.html"}},[t._v("Windows WSL2-Based Development Environment")]),t._v(".")],1),t._v(" "),n("p",[t._v("Дивіться "),n("RouterLink",{attrs:{to:"/uk/dev_setup/dev_env.html"}},[t._v("Встановлення інструментарію")]),t._v(" для отримання інформації про середовища та інструменти, які підтримуються основною командою розробників.")],1)]),t._v(" "),n("p",[t._v("Наступні інструкції пояснюють як налаштувати (на базі Cygwin) середовище розробки на Windows 10 для PX4. Це середовище можна використовувати для створення PX4:")]),t._v(" "),n("ul",[n("li",[t._v("Pixhawk та іншого апаратного забезпечення на основі NuttX")]),t._v(" "),n("li",[n("RouterLink",{attrs:{to:"/uk/sim_jmavsim/"}},[t._v("Симуляція jMAVSim")])],1)]),t._v(" "),n("p",[n("a",{attrs:{id:"installation"}})]),t._v(" "),n("h2",{attrs:{id:"інструкціі-з-установки"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#інструкціі-з-установки"}},[t._v("#")]),t._v(" Інструкції з установки")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Завантажте останню версію готового до використання MSI інсталятора з: "),n("a",{attrs:{href:"https://github.com/PX4/windows-toolchain/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github сторінки релізів"),n("OutboundLink")],1),t._v(" або "),n("a",{attrs:{href:"https://s3-us-west-2.amazonaws.com/px4-tools/PX4+Windows+Cygwin+Toolchain/PX4+Windows+Cygwin+Toolchain+0.9.msi",target:"_blank",rel:"noopener noreferrer"}},[t._v("Amazon S3"),n("OutboundLink")],1),t._v(" (швидке завантаження).")])]),t._v(" "),n("li",[n("p",[t._v("Запустіть, оберіть потрібне місце установки, дочекайтесь встановлення:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(756),alt:"jMAVSimOnWindows"}})])]),t._v(" "),n("li",[n("p",[t._v("Позначте прапорець в кінці інсталяції "),n("em",[t._v("клонувати репозиторій PX4, зібрати та запустити симуляцію з jMAVSim")]),t._v(" (це спрощує процес, щоб ви могли почати).")])])]),t._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),n("p",[t._v("Якщо ви пропустили цей крок, потрібно "),n("a",{attrs:{href:"#getting-started"}},[t._v("клонувати репозиторій PX4-Autopilot вручну")]),t._v(".")])]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[t._v("На момент написання встановлювачу бракує деяких залежностей (й ви не можете зібрати та додати їх, дивіться "),n("a",{attrs:{href:"https://github.com/PX4/PX4-windows-toolchain/issues/31",target:"_blank",rel:"noopener noreferrer"}},[t._v("PX4-windows-toolchain#31"),n("OutboundLink")],1),t._v(").")]),t._v(" "),n("p",[t._v("Щоб додати їх самостійно:")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Перейдіть в директорію встановлення інструментів (за замовчуванням "),n("strong",[t._v("C:\\PX4\\")]),t._v(")")])]),t._v(" "),n("li",[n("p",[t._v("Запустіть "),n("strong",[t._v("run-console.bat")]),t._v(" (подвійний клік), щоб запустити bash консоль у середовищі Cygwin подібному до Linux.")])]),t._v(" "),n("li",[n("p",[t._v("Введіть в консолі наступну команду:")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("pip3 "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --user kconfiglib jsonschema future\n")])])])])])]),t._v(" "),n("h2",{attrs:{id:"початок-роботи"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#початок-роботи"}},[t._v("#")]),t._v(" Початок роботи")]),t._v(" "),n("p",[t._v("Інструментарій використовує спеціально налаштовану консоль (яка запускається скриптом "),n("strong",[t._v("run-console.bat")]),t._v(") з якої ви можете запускати звичайні команди збірки PX4:")]),t._v(" "),n("ol",[n("li",[t._v("Перейдіть в директорію встановлення інструментів (за замовчуванням "),n("strong",[t._v("C:\\PX4\\")]),t._v(")")]),t._v(" "),n("li",[t._v("Запустіть "),n("strong",[t._v("run-console.bat")]),t._v(" (подвійний клік), щоб запустити bash консоль у Cygwin  (потрібно використовувати цю консоль для збірки PX4).")]),t._v(" "),n("li",[t._v("Клонуйте репозиторій PX4 PX4-Autopilot з цієї консолі:")])]),t._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),n("p",[t._v("Пропустіть цей крок, якщо ви обрали у встановлювачі "),n("em",[t._v("клонувати репозитарій PX4, зібрати та запустити симуляцію з jMAVSim")]),t._v(". Клонування потрібно зробити тільки один раз!")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Клонувати репозиторій PX4-Autopilot в домашню теку & підмодулі завантажують паралельно")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone --recursive -j8 https://github.com/PX4/PX4-Autopilot.git\n")])])]),n("p",[t._v("Тепер можна використовувати консоль/PX4-Autopilot репозиторій для збірки PX4.")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Наприклад, для запуску JMAVSim:")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Перейдіть до репозиторію PX4-Autopilot")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" Firmware\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Збирає і запускає SITL симуляцію з jMAVSim, щоб протестувати налаштування")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" px4_sitl jmavsim\n")])])]),n("p",[t._v("Після цього консоль покаже:")]),t._v(" "),n("p",[n("img",{attrs:{src:a(757),alt:"jMAVSimOnWindows"}})])])]),t._v(" "),n("h2",{attrs:{id:"наступні-кроки"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#наступні-кроки"}},[t._v("#")]),t._v(" Наступні кроки")]),t._v(" "),n("p",[t._v("Після того, як ви закінчите налаштування інструментів командного рядка:")]),t._v(" "),n("ul",[n("li",[t._v("Встановіть "),n("a",{attrs:{href:"https://docs.qgroundcontrol.com/master/en/qgc-user-guide/releases/daily_builds.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("денну збірку QGroundControl"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("li",[t._v("Переходьте до "),n("RouterLink",{attrs:{to:"/uk/dev_setup/building_px4.html"}},[t._v("інструкцій збірки")]),t._v(".")],1)]),t._v(" "),n("h2",{attrs:{id:"усунення-проблем"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#усунення-проблем"}},[t._v("#")]),t._v(" Усунення проблем")]),t._v(" "),n("h3",{attrs:{id:"інструменти-моніторингу-фаилів-проти-швидкості-інструментарію"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#інструменти-моніторингу-фаилів-проти-швидкості-інструментарію"}},[t._v("#")]),t._v(" Інструменти моніторингу файлів проти швидкості інструментарію")]),t._v(" "),n("p",[t._v("Антивірус та інші інструменти моніторингу файлів у фоні можуть суттєво сповільнити встановлення інструментів та збірки PX4.")]),t._v(" "),n("p",[t._v("Можливо знадобиться тимчасово зупинити їх під час збірки (на власний розсуд).")]),t._v(" "),n("h3",{attrs:{id:"особливі-випадки-windows-git"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#особливі-випадки-windows-git"}},[t._v("#")]),t._v(" Особливі випадки Windows & Git")]),t._v(" "),n("h4",{attrs:{id:"символи-закінчення-рядків-windows-cr-lf-проти-unix-lf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#символи-закінчення-рядків-windows-cr-lf-проти-unix-lf"}},[t._v("#")]),t._v(" Символи закінчення рядків Windows CR+LF проти Unix LF")]),t._v(" "),n("p",[t._v("Ми рекомендуємо примусити використання закінчення рядків Unix LF для кожного репозиторію, з яким ви працюєте з цим інструментарієм (також використовуйте редактор, який залишає  їх незмінними під час збереження змін, тобто Eclipse або VSCode). Компіляція файлів вихідного коду також працює з закінченнями рядків CR+LF отриманих локально, але є випадки у Cygwin (наприклад виконання скриптів оболонки) які потребують закінчення рядків Unix (інакше ви отримаєте помилки типу "),n("code",[t._v("$'\\r': Command not found.")]),t._v("). На щастя, git може це зробити для вас, якщо виконаєте дві команди в кореневому каталозі вашого репозиторію:")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config core.autocrlf "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config core.eol lf\n")])])]),n("p",[t._v("Якщо ви працюєте з цим інструментарієм в декількох репозиторіях, ви також можете встановити ці дві конфігурації глобально для вашого комп'ютера:")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])]),n("p",[t._v("Це не рекомендується, оскільки це може вплинути на будь-які інші (непов'язані) випадки використання git на вашій Windows машині.")]),t._v(" "),n("h4",{attrs:{id:"біт-виконання-прав-доступу-unix"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#біт-виконання-прав-доступу-unix"}},[t._v("#")]),t._v(" Біт виконання прав доступу Unix")]),t._v(" "),n("p",[t._v("Під Unix є прапорець в правах доступу кожного файлу, який вказує на те, чи дозволено файлу виконуватись. "),n("em",[t._v("git")]),t._v(" під Cygwin підтримує і враховує цей біт (навіть якщо файлова система Windows NTFS не використовує його). Це часто призводить до того що "),n("em",[t._v("git")]),t._v(' знаходить "хибнопозитивну" різницю в правах доступу. Вивід diff в результаті може виглядати так:')]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("diff")]),t._v(" --git "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nold mode "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v("\nnew mode "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100755")]),t._v("\n")])])]),n("p",[t._v("Ми рекомендуємо відключити глобально перевірку прав доступу у Windows, щоб уникнути проблем:")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# глобально відключити перевірку біту виконання для комп'ютера")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --global core.fileMode "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])])]),n("p",[t._v("Для наявних репозиторіїв, що мають цю проблему викликану локальною конфігурацією, додатково виконайте:")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# прибрати локальну конфігурацію, щоб застосувати глобальну")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --unset core.filemode\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# прибрати локальну конфігурацію для всіх підмодулів")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" submodule foreach --recursive "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config --unset core.filemode\n")])])])])}),[],!1,null,null,null);s.default=e.exports},756:function(t,s,a){t.exports=a.p+"assets/img/cygwin_toolchain_installer.650c2838.png"},757:function(t,s,a){t.exports=a.p+"assets/img/jmavsim_windows_cygwin.eb0ed1bb.png"}}]);