(window.webpackJsonp=window.webpackJsonp||[]).push([[1119],{2346:function(s,t,l){"use strict";l.r(t);var e=l(18),a=Object(e.a)({},(function(){var s=this,t=s.$createElement,l=s._self._c||t;return l("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[l("h1",{attrs:{id:"mavlink-shell"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#mavlink-shell"}},[s._v("#")]),s._v(" MAVLink Shell")]),s._v(" "),l("p",[s._v("MAVLink Shell 是一个可以通过串口（USB、数传或基于WIFI的UDP/TCP链路）使用MAVLink协议访问的 "),l("em",[s._v("NSH 控制台")]),s._v(" 。只适用于基于NuttX的系统，如：Pixhawk、Pixracer等。")]),s._v(" "),l("p",[s._v("它可用于启动系统指令与模块，并得到输出信息。 尽管它不能"),l("em",[s._v("直接")]),s._v("显示那些不是由它启动的模块的输出，但是可以间接的使用 "),l("code",[s._v("dmesg")]),s._v(" 命令来查询。执行 "),l("code",[s._v("dmesg -f &")]),s._v(" 可以打印出工作队列中其它模块和任务的输出信息。")]),s._v(" "),l("blockquote",[l("p",[l("strong",[s._v("Tip")]),s._v(" "),l("a",{attrs:{href:"#qgroundcontrol"}},[s._v("QGC地面站 MAVLink 控制台")]),s._v(" 是访问控制台最方便的方法。 如果系统未能正常启动，则应使用"),l("RouterLink",{attrs:{to:"/zh/debug/system_console.html"}},[s._v("System Console")]),s._v("。")],1)]),s._v(" "),l("h2",{attrs:{id:"启用-shell"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#启用-shell"}},[s._v("#")]),s._v(" 启用 Shell")]),s._v(" "),l("p",[l("a",{attrs:{id:"qgroundcontrol"}})]),s._v(" "),l("h3",{attrs:{id:"qgroundcontrol-mavlink-console"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#qgroundcontrol-mavlink-console"}},[s._v("#")]),s._v(" QGroundControl MAVLink Console")]),s._v(" "),l("p",[s._v("访问 shell 的最简单方式是使用 "),l("a",{attrs:{href:"https://docs.qgroundcontrol.com/en/analyze_view/mavlink_console.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("QGC地面站 MAVLink 控制台"),l("OutboundLink")],1),s._v(" (见"),l("strong",[s._v("Analyze View > Mavlink Console")]),s._v(")。")]),s._v(" "),l("h3",{attrs:{id:"mavlink-shell-py"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#mavlink-shell-py"}},[s._v("#")]),s._v(" mavlink_shell.py")]),s._v(" "),l("p",[s._v("您也可以使用 "),l("strong",[s._v("mavlink_shell.py")]),s._v(" 脚本从终端访问shell：")]),s._v(" "),l("ol",[l("li",[s._v("关闭 "),l("em",[s._v("QGroundControl")]),s._v(".")]),s._v(" "),l("li",[s._v("安装依赖项"),l("div",{staticClass:"language-sh extra-class"},[l("pre",{pre:!0,attrs:{class:"language-sh"}},[l("code",[l("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pip3 "),l("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" pymavlink pyserial\n")])])])]),s._v(" "),l("li",[s._v("Open terminal (in PX4-Autopilot directory) and start the shell:"),l("div",{staticClass:"language-sh extra-class"},[l("pre",{pre:!0,attrs:{class:"language-sh"}},[l("code",[l("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过串口")]),s._v("\n./Tools/mavlink_shell.py /dev/ttyACM0\n")])])]),l("div",{staticClass:"language-sh extra-class"},[l("pre",{pre:!0,attrs:{class:"language-sh"}},[l("code",[l("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过 WiFi 连接")]),s._v("\n./Tools/mavlink_shell.py "),l("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:14550\n")])])])])]),s._v(" "),l("p",[s._v("执行 "),l("code",[s._v("mavlink_shell.py -h")]),s._v(" 获取所有可用参数的描述。")]),s._v(" "),l("h2",{attrs:{id:"使用-mavlink-shell"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#使用-mavlink-shell"}},[s._v("#")]),s._v(" 使用 MAVLink Shell")]),s._v(" "),l("p",[s._v("详情见："),l("RouterLink",{attrs:{to:"/zh/debug/consoles.html#using_the_console"}},[s._v("PX4 控制台/Shells > 使用控制台/Shells")]),s._v("。")],1)])}),[],!1,null,null,null);t.default=a.exports}}]);