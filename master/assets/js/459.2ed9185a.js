(window.webpackJsonp=window.webpackJsonp||[]).push([[459],{1350:function(_,t,a){_.exports=a.p+"assets/img/ark_flow.36cc8dae.jpg"},1351:function(_,t,a){_.exports=a.p+"assets/img/ark_flow_orientation.62142fab.png"},2653:function(_,t,a){"use strict";a.r(t);var r=a(19),v=Object(r.a)({},(function(){var _=this,t=_.$createElement,r=_._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[r("h1",{attrs:{id:"ark-flow"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ark-flow"}},[_._v("#")]),_._v(" ARK Flow")]),_._v(" "),r("p",[_._v("ARK Flow는 오픈 소스 "),r("RouterLink",{attrs:{to:"/ko/uavcan/"}},[_._v("UAVCAN")]),_._v(" "),r("RouterLink",{attrs:{to:"/ko/sensor/optical_flow.html"}},[_._v("광류")]),_._v(", "),r("RouterLink",{attrs:{to:"/ko/sensor/rangefinders.html"}},[_._v("거리 센서")]),_._v(" 및 IMU 모듈입니다.")],1),_._v(" "),r("p",[r("img",{attrs:{src:a(1350),alt:"ARK Flow"}})]),_._v(" "),r("h2",{attrs:{id:"구매처"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#구매처"}},[_._v("#")]),_._v(" 구매처")]),_._v(" "),r("p",[_._v("이 모듈을 아래에서 주문하십시오.")]),_._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://arkelectron.com/product/ark-flow/",target:"_blank",rel:"noopener noreferrer"}},[_._v("ARK Electronics"),r("OutboundLink")],1),_._v(" (미국)")])]),_._v(" "),r("h2",{attrs:{id:"사양"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#사양"}},[_._v("#")]),_._v(" 사양")]),_._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/ARK-Electronics/ARK_Flow",target:"_blank",rel:"noopener noreferrer"}},[_._v("오픈 소스 회로도와 BOM"),r("OutboundLink")],1)]),_._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot/tree/master/boards/ark/can-flow",target:"_blank",rel:"noopener noreferrer"}},[_._v("PX4 오픈 소스 펌웨어"),r("OutboundLink")],1),_._v(" 실행")]),_._v(" "),r("li",[r("RouterLink",{attrs:{to:"/ko/uavcan/"}},[_._v("UAVCAN")]),_._v(" "),r("RouterLink",{attrs:{to:"/ko/uavcan/node_firmware.html"}},[_._v("펌웨어 업데이트")]),_._v(" 지원")],1),_._v(" "),r("li",[_._v("동적 "),r("RouterLink",{attrs:{to:"/ko/uavcan/"}},[_._v("UAVCAN")]),_._v(" 노드 열거")],1),_._v(" "),r("li",[_._v("센서\n"),r("ul",[r("li",[_._v("PixArt PAW3902 Optical Flow Sensor\n"),r("ul",[r("li",[_._v("9lux 이상의 매우 낮은 조명 조건에서 트랙")]),_._v(" "),r("li",[_._v("80mm에서 30m까지 넓은 작업 범위")]),_._v(" "),r("li",[_._v("최대 7.4 rad/s")])])]),_._v(" "),r("li",[_._v("9lux 이상의 매우 낮은 조명 조건에서 트랙")]),_._v(" "),r("li",[_._v("Broadcom AFBR-S50LV85D 비행시간 거리 센서\n"),r("ul",[r("li",[_._v("통합 850nm 레이저 광원")]),_._v(" "),r("li",[_._v("12.4  x 6.2°의 시야각 (FoV), 32 픽셀")]),_._v(" "),r("li",[_._v("최대 30m의 일반적인 거리 범위")]),_._v(" "),r("li",[_._v("최대 200k Lux 주변 조명 작동")]),_._v(" "),r("li",[_._v("모든 표면 조건에서 잘 작동")]),_._v(" "),r("li",[_._v("1~3 픽셀 사이를 비추는 2° x 2°의 송신기 빔")])])]),_._v(" "),r("li",[_._v("최대 7.4 rad/sPixArt PAW3902 광학식 유량 센서")])])]),_._v(" "),r("li",[_._v("STM32F412CEU6 MCU")]),_._v(" "),r("li",[_._v("Pixhawk 표준 CAN 커넥터 2 개\n"),r("ul",[r("li",[_._v("4 핀 JST GH")])])]),_._v(" "),r("li",[_._v("Pixhawk 표준 CAN 커넥터 2 개\n"),r("ul",[r("li",[_._v("4 핀 JST GH")])])]),_._v(" "),r("li",[_._v("소형 폼 팩터\n"),r("ul",[r("li",[_._v("3cm x 3cm x 1.4cm")])])]),_._v(" "),r("li",[_._v("LED 표시기")]),_._v(" "),r("li",[_._v("미국에서 제작")])]),_._v(" "),r("h3",{attrs:{id:"배선"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#배선"}},[_._v("#")]),_._v(" 배선")]),_._v(" "),r("p",[_._v("ARK Flow는 Pixhawk 표준 4 핀 JST GH 케이블을 사용하여 CAN 버스에 연결됩니다. 추가 센서를 ARK Flow의 두 번째 CAN 커넥터에 연결하여 여러 센서를 연결할 수 있습니다.")]),_._v(" "),r("p",[_._v("UAVCAN 배선 방법은 "),r("RouterLink",{attrs:{to:"/ko/uavcan/#wiring"}},[_._v("UAVCAN > 배선")]),_._v("을 참고하십시오.")],1),_._v(" "),r("p",[r("a",{attrs:{id:"mounting"}})]),_._v(" "),r("h3",{attrs:{id:"장착-및-방향"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#장착-및-방향"}},[_._v("#")]),_._v(" 장착 및 방향")]),_._v(" "),r("p",[_._v("권장 장착 방향은 다음 그림과 같이 보드의 커넥터가 "),r("strong",[_._v("차량 뒷면")]),_._v("을 향하는 것입니다.")]),_._v(" "),r("p",[r("img",{attrs:{src:a(1351),alt:"ARK Flow는 Pixhawk에 정렬"}})]),_._v(" "),r("p",[_._v("이는 매개변수 "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_ROT"}},[_._v("SENS_FLOW_ROT")]),_._v("의 기본값 ("),r("code",[_._v("0")]),_._v(")에 해당합니다. 다른 방향을 사용시에는 매개변수를 적절하게 변경하십시오.")],1),_._v(" "),r("p",[_._v("센서는 프레임의 어느 곳에 나 장착할 수 있지만, "),r("a",{attrs:{href:"#px4-configuration"}},[_._v("PX4 설정")]),_._v(" 중에 차량 무게 중심을 기준으로 초점 위치를 지정하여야 합니다.")]),_._v(" "),r("h2",{attrs:{id:"px4-설정"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#px4-설정"}},[_._v("#")]),_._v(" PX4 설정")]),_._v(" "),r("h3",{attrs:{id:"uavcan-활성화"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#uavcan-활성화"}},[_._v("#")]),_._v(" UAVCAN 활성화")]),_._v(" "),r("p",[_._v("ARK Flow 보드를 사용하려면 Pixhawk CAN 버스에 연결하고 동적 노드 할당을 위해 매개변수 "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_ENABLE"}},[_._v("UAVCAN_ENABLE")]),_._v("을 "),r("code",[_._v("2")]),_._v("로 설정하여 UAVCAN 드라이버를 활성화합니다 (또는 "),r("code",[_._v('<a href="../uavcan/escs.md">UAVCAN ESC</a>를 사용하는 경우 3')]),_._v(").")],1),_._v(" "),r("p",[_._v("단계는 아래와 같습니다:")]),_._v(" "),r("ul",[r("li",[r("em",[_._v("QGroundControl")]),_._v("에서 매개변수 "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_ENABLE"}},[_._v("UAVCAN_ENABLE")]),_._v("을 "),r("code",[_._v("2")]),_._v(" 또는 "),r("code",[_._v("3")]),_._v("로 설정하고 재부팅합니다 ("),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameters.html"}},[_._v("매개 변수 찾기 / 업데이트 ")]),_._v("참조).")],1),_._v(" "),r("li",[_._v("ARK Flow CAN을 Pixhawk CAN에 연결합니다.")])]),_._v(" "),r("p",[_._v("활성화되면 부팅시 모듈이 감지됩니다. 유량 데이터는 10Hz에 도달하여야 합니다.")]),_._v(" "),r("h3",{attrs:{id:"px4-설정-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#px4-설정-2"}},[_._v("#")]),_._v(" PX4 설정")]),_._v(" "),r("p",[r("RouterLink",{attrs:{to:"/ko/sensor/optical_flow.html#ekf2"}},[_._v("Optical Flow > 추정기 > EKF2 ")]),_._v(" 에서 EKF 광류 매개변수를 설정합니다.")],1),_._v(" "),r("ul",[r("li",[r("em",[_._v("QGroundControl")]),_._v("에서 수동으로 매개변수 "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_AID_MASK"}},[_._v("EKF2_AID_MASK")]),_._v("를 "),r("code",[_._v("2")]),_._v("로 설정하여 광학 흐름만 사용하거나 "),r("code",[_._v("3")]),_._v("으로 설정하여 GPS와 광학 흐름을 사용합니다. 값을 수동으로 설정하려면 "),r("code",[_._v("고급 설정")]),_._v("을 선택하고 "),r("code",[_._v("수동 입력")]),_._v("을 체크한 후 상단에 값을 입력하고 저장합니다.")],1),_._v(" "),r("li",[_._v("매개변수 "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_OF_POS_X"}},[_._v("EKF2_OF_POS_X")]),_._v(", "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_OF_POS_Y"}},[_._v("EKF2_OF_POS_Y")]),_._v(" 및 "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_OF_POS_Z"}},[_._v("EKF2_OF_POS_Z")]),_._v("는 차량 무게 중심에서 Ark Flow의 오프셋을 설명하도록 설정할 수 있습니다.")],1),_._v(" "),r("li",[r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_RNG_MAX"}},[_._v("UAVCAN_RNG_MIN")]),_._v("을 "),r("code",[_._v("0.08")]),_._v("로, "),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_RNG_MAX"}},[_._v("UAVCAN_RNG_MAX")]),_._v("를 "),r("code",[_._v("30")]),_._v("으로 설정합니다.")],1)]),_._v(" "),r("p",[_._v("또한 다음의 매개변수들을 설정할 수 있습니다.")]),_._v(" "),r("table",[r("thead",[r("tr",[r("th",[_._v("매개변수")]),_._v(" "),r("th",[_._v("설명")])])]),_._v(" "),r("tbody",[r("tr",[r("td",[r("a",{attrs:{id:"SENS_FLOW_MAXHGT"}}),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MAXHGT"}},[_._v("SENS_FLOW_MAXHGT")])],1),_._v(" "),r("td",[_._v("광학 흐름에 의존시 지상 최대 높이.")])]),_._v(" "),r("tr",[r("td",[r("a",{attrs:{id:"SENS_FLOW_MINHGT"}}),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MINHGT"}},[_._v("SENS_FLOW_MINHGT")])],1),_._v(" "),r("td",[_._v("광학 흐름에 의존시 지상 최소 높이.")])]),_._v(" "),r("tr",[r("td",[r("a",{attrs:{id:"SENS_FLOW_MAXR"}}),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MAXR"}},[_._v("SENS_FLOW_MAXR")])],1),_._v(" "),r("td",[_._v("광류 센서로 안정적으로 측정 기능한 최대 각 유량.")])]),_._v(" "),r("tr",[r("td",[r("a",{attrs:{id:"SENS_FLOW_ROT"}}),r("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_ROT"}},[_._v("SENS_FLOW_ROT")])],1),_._v(" "),r("td",[_._v("차체 프레임을 기준으로 한 보드의 요 회전.")])])])]),_._v(" "),r("h2",{attrs:{id:"ark-flow-펌웨어-빌드"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ark-flow-펌웨어-빌드"}},[_._v("#")]),_._v(" Ark Flow 펌웨어 빌드")]),_._v(" "),r("p",[_._v("Ark Flow는 최신 펌웨어로 빌드되어 판매됩니다. 최신 버전으로 업데이트하는 개발자는 일반 PX4 도구 모음 및 소스를 사용하여 직접 빌드하고 설치할 수 있습니다.")]),_._v(" "),r("p",[_._v("단계는 아래와 같습니다:")]),_._v(" "),r("ol",[r("li",[r("RouterLink",{attrs:{to:"/ko/dev_setup/dev_env.html"}},[_._v("PX4 도구 모음")]),_._v("을 설치합니다.")],1),_._v(" "),r("li",[r("em",[_._v("git")]),_._v("을 사용하여 Ark Flow를 포함한 PX4-Autopilot 소스를 복제합니다."),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[_._v("git clone https://github.com/PX4/PX4-Autopilot --recursive\ncd PX4-Autopilot\n")])])])]),_._v(" "),r("li",[r("em",[_._v("Ark Flow")]),_._v(" 펌웨어를 빌드합니다."),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[_._v("make ark_can-flow\n")])])])]),_._v(" "),r("li",[r("strong",[_._v("build/ark_can-flow_default")]),_._v("에 "),r("strong",[_._v("XX-X.X.XXXXXXXX.uavcan.bin")]),_._v("이라는 바이너리가 생성됩니다. 이 바이너리를 비행 컨트롤러 SD 카드의 루트 디렉터리에 저장하여 Ark Flow를 플래시합니다. 다음으로 SD 카드가 설치된 상태에서 비행 컨트롤러의 전원을 켜면 Ark Flow가 자동으로 깜박이고 바이너리가 더 이상 루트 디렉터리에 없고 이제  SD 카드의 ufw 디렉토리에 "),r("strong",[_._v("80.bin")]),_._v("이라는 파일이 생깁니다. :::note 전원을 켤 때 비행 컨트롤러에 SD 카드가 없으면, Ark Flow가 부팅되지 않습니다.\n:::")])]),_._v(" "),r("h2",{attrs:{id:"ark-flow-부트로더-업데이트"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ark-flow-부트로더-업데이트"}},[_._v("#")]),_._v(" Ark Flow 부트로더 업데이트")]),_._v(" "),r("p",[_._v("Ark Flow는 부트로더가 사전 설치된 상태로 판매됩니다. 그러나, PX4-Autopilot 환경에서 다시 빌드하고 다시 플래시할 수 있습니다.")]),_._v(" "),r("p",[_._v("단계는 다음과 같습니다:")]),_._v(" "),r("ol",[r("li",[_._v("Ark Flow 부트로더 펌웨어를 빌드합니다."),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[_._v("make ark_can-flow_canbootloader\n")])])])])]),_._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[_._v("VS")]),_._v(" "),r("p",[_._v("코드에서는 이렇게 하면, "),r("code",[_._v("launch.json")]),_._v(" 파일이 설정됩니다. Black Magic Probe 및 VS 코드를 사용하는 경우 이 파일 내의 "),r("code",[_._v("BMPGDBSerialPort")]),_._v("를 디버거가 연결된 올바른 포트로 업데이트해야 합니다. MacOS에서 포트 이름은 "),r("code",[_._v("cu.usbmodemE4CCA0E11")]),_._v("과 같아야 합니다.")])]),_._v(" "),r("ol",[r("li",[_._v("Black Magic Probe와 같은 GNU 프로젝트 디버거(GDB) 사용을 지원하는 직렬 와이어 디버깅(SWD) 장치에 Ark Flow를 연결한 다음 CAN 포트 중 하나를 통해 Ark Flow에 전원을 연결합니다.")]),_._v(" "),r("li",[r("code",[_._v("ark_can-flow_canbootloader")]),_._v("로 Ark Flow를 플래시합니다. VS 코드에서 그렇게 하려면, VS 코드의 하단 표시줄에 "),r("code",[_._v("CMake: [ark_can-flow_canbootloader]: Ready")]),_._v("가 표시되어 깜박이고 있음을 나타냅니다. 그런 다음, VS 코드의 실행 및 디버그 창에서 "),r("code",[_._v("디버깅 시작")]),_._v("을 선택한 다음 첫 번째 중단점 이후에 "),r("code",[_._v("계속")]),_._v("을 선택하여 부트로더를 플래시합니다.")]),_._v(" "),r("li",[_._v("부트로더가 플래시되면 위에서 설명한 대로 Ark Flow 펌웨어 "),r("code",[_._v("ark_can-flow_default")]),_._v("를 빌드하고 플래시할 준비가 된 것입니다.")])]),_._v(" "),r("h2",{attrs:{id:"led-신호의-의미"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#led-신호의-의미"}},[_._v("#")]),_._v(" LED 신호의 의미")]),_._v(" "),r("p",[_._v("ARK Flow가 깜박일 때 빨간색과 파란색 LED가 모두 표시되고, 제대로 실행 중이면 파란색 LED가 계속 켜져 있습니다.")]),_._v(" "),r("p",[_._v("빨간색 LED가 계속 켜져 있으면, 오류가 있으므로 다음 사항들을 확인하여야 합니다.")]),_._v(" "),r("ul",[r("li",[_._v("비행 콘트롤러에 SD 카드가 설치되어 있는지 확인하십시오.")]),_._v(" "),r("li",[r("code",[_._v("ark_can-flow_default")]),_._v("를 플래싱하기 전에 Ark Flow에 "),r("code",[_._v("ark_can-flow_canbootloader")]),_._v("가 설치되어 있는 지 확인하십시오.")]),_._v(" "),r("li",[_._v("SD 카드의 루트 및 ufw 디렉토리에서 바이너리를 제거하고 빌드 및 플래시를 다시 시도하십시오.")])]),_._v(" "),r("h2",{attrs:{id:"비디오"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#비디오"}},[_._v("#")]),_._v(" 비디오")]),_._v(" "),r("p",[_._v("@"),r("a",{attrs:{href:"https://www.youtube.com/watch?v=SAbRe1fi7bU&list=PLUepQApgwSozmwhOo-dXnN33i2nBEl1c0",target:"_blank",rel:"noopener noreferrer"}},[_._v("유튜브"),r("OutboundLink")],1),_._v(" "),r("em",[_._v("속도 추정을 위해 ARK Flow 센서를 사용한 PX4 고정 위치("),r("RouterLink",{attrs:{to:"/ko/flight_modes/position_mc.html"}},[_._v("위치 모드")]),_._v("에서)")],1)])])}),[],!1,null,null,null);t.default=v.exports}}]);