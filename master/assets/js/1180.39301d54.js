(window.webpackJsonp=window.webpackJsonp||[]).push([[1180],{2517:function(t,a,r){"use strict";r.r(a);var s=r(18),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"模块参考-控制器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#模块参考-控制器"}},[t._v("#")]),t._v(" 模块参考：控制器")]),t._v(" "),r("h2",{attrs:{id:"airship-att-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#airship-att-control"}},[t._v("#")]),t._v(" airship_att_control")]),t._v(" "),r("p",[t._v("Source: "),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/airship_att_control",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/airship_att_control"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"描述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),r("p",[t._v("This implements the airship attitude and rate controller. Ideally it would take attitude setpoints ("),r("code",[t._v("vehicle_attitude_setpoint")]),t._v(") or rate setpoints (in acro mode via "),r("code",[t._v("manual_control_setpoint")]),t._v(" topic) as inputs and outputs actuator control messages.")]),t._v(" "),r("p",[t._v("This implements the multicopter attitude and rate controller. It takes attitude setpoints ("),r("code",[t._v("vehicle_attitude_setpoint")]),t._v(") or rate setpoints (in acro mode via "),r("code",[t._v("manual_control_setpoint")]),t._v(" topic) as inputs and outputs actuator control messages.")]),t._v(" "),r("h3",{attrs:{id:"实现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),r("p",[t._v("为了降低控制延时，该模块会直接轮训 IMU 驱动发布的陀螺仪（gyro）主题消息。")]),t._v(" "),r("p",[r("a",{attrs:{id:"airship_att_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"描述-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述-2"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("airship_att_control <command> [arguments...]\n wind_estimator &lt;command&gt; [arguments...]\n Commands:\n   start\n\n   stop\n\n   status        打印状态信息\n")])])]),r("h2",{attrs:{id:"fw-att-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fw-att-control"}},[t._v("#")]),t._v(" fw_att_control")]),t._v(" "),r("p",[t._v("源码："),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/fw_att_control",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/fw_att_control"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"参数描述"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数描述"}},[t._v("#")]),t._v(" 参数描述")]),t._v(" "),r("p",[t._v("fw_att_control 是固定翼姿态控制器。")]),t._v(" "),r("p",[r("a",{attrs:{id:"fw_att_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"描述-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述-3"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("fw_att_control <command> [arguments...]\n Commands:\n   start\n     [vtol]      VTOL mode\n\n   stop\n\n   status        print status info\n")])])]),r("h2",{attrs:{id:"fw-pos-control-l1"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fw-pos-control-l1"}},[t._v("#")]),t._v(" fw_pos_control_l1")]),t._v(" "),r("p",[t._v("源码："),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/fw_pos_control_l1",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/fw_pos_control_l1"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"参数描述-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数描述-2"}},[t._v("#")]),t._v(" 参数描述")]),t._v(" "),r("p",[t._v("fw_pos_control_l1 是针对固定翼飞机的位置控制器。")]),t._v(" "),r("p",[r("a",{attrs:{id:"fw_pos_control_l1_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("fw_pos_control_l1 <command> [arguments...]\n Commands:\n   start\n\n   stop\n\n   status        打印状态信息\n Commands:\n   start\n     [vtol]      VTOL mode\n\n   stop\n\n   status        print status info\n")])])]),r("h2",{attrs:{id:"mc-att-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mc-att-control"}},[t._v("#")]),t._v(" mc_att_control")]),t._v(" "),r("p",[t._v("源码："),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/mc_att_control",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/mc_att_control"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"描述-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述-4"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),r("p",[t._v("This implements the multicopter attitude controller. It takes attitude setpoints ("),r("code",[t._v("vehicle_attitude_setpoint")]),t._v(") as inputs and outputs a rate setpoint.")]),t._v(" "),r("p",[t._v("The controller has two loops: a P loop for angular error and a PID loop for angular rate error.")]),t._v(" "),r("p",[t._v("The controller has two loops: a P loop for position error and a PID loop for velocity error. Output of the velocity controller is thrust vector that is split to thrust direction (i.e. rotation matrix for multicopter orientation) and thrust scalar (i.e. multicopter thrust itself).")]),t._v(" "),r("p",[t._v("https://www.research-collection.ethz.ch/bitstream/handle/20.500.11850/154099/eth-7387-01.pdf")]),t._v(" "),r("p",[r("a",{attrs:{id:"mc_att_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-2"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("mc_att_control <command> [arguments...]\n Commands:\n   start\n     [vtol]      VTOL mode\n\n   stop\n\n   status        print status info\n")])])]),r("h2",{attrs:{id:"mc-pos-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mc-pos-control"}},[t._v("#")]),t._v(" mc_pos_control")]),t._v(" "),r("p",[t._v("源码："),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/mc_pos_control",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/mc_pos_control"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"描述-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#描述-5"}},[t._v("#")]),t._v(" 描述")]),t._v(" "),r("p",[t._v("控制器有两个回路：一个针对位置误差的比例（P）控制回路和一个针对速度误差的 PID 控制回路。 速度控制器的输出是一个推力矢量，该矢量可分割成推力的方向（即，多旋翼姿态的旋转矩阵）和推力的大小（即，多旋翼推力本身）")]),t._v(" "),r("p",[t._v("The different internal modes are implemented as separate classes that inherit from a common base class "),r("code",[t._v("NavigatorMode")]),t._v(". The member "),r("code",[t._v("_navigation_mode")]),t._v(" contains the current active mode.")]),t._v(" "),r("p",[r("a",{attrs:{id:"mc_pos_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-3"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("mc_pos_control <command> [arguments...]\n Commands:\n   start\n\n   stop\n\n   status        打印状态信息\n Commands:\n   start\n     [vtol]      VTOL mode\n\n   stop\n\n   status        print status info\n")])])]),r("h2",{attrs:{id:"mc-rate-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mc-rate-control"}},[t._v("#")]),t._v(" mc_rate_control")]),t._v(" "),r("p",[t._v("Navigator publishes position setpoint triplets ("),r("code",[t._v("position_setpoint_triplet_s")]),t._v("), which are then used by the position controller.")]),t._v(" "),r("h3",{attrs:{id:"参数描述-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数描述-3"}},[t._v("#")]),t._v(" 参数描述")]),t._v(" "),r("p",[t._v("This implements the multicopter rate controller. It takes rate setpoints (in acro mode via "),r("code",[t._v("manual_control_setpoint")]),t._v(" topic) as inputs and outputs actuator control messages.")]),t._v(" "),r("p",[t._v("The controller has a PID loop for angular rate error.")]),t._v(" "),r("p",[r("a",{attrs:{id:"mc_rate_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-4"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("mc_rate_control <command> [arguments...]\n Commands:\n   start\n     [vtol]      VTOL mode\n\n   stop\n\n   status        print status info\n")])])]),r("h2",{attrs:{id:"navigator"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#navigator"}},[t._v("#")]),t._v(" navigator")]),t._v(" "),r("p",[t._v("源码："),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/navigator",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/navigator"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"参数描述-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数描述-4"}},[t._v("#")]),t._v(" 参数描述")]),t._v(" "),r("p",[t._v("Module that is responsible for autonomous flight modes. This includes missions (read from dataman), takeoff and RTL. It is also responsible for geofence violation checking. 这里面包括了飞行任务 (从 dataman 中读取)，起飞和 RTL。 它还负责检查飞机是否跨越了地理围栏。")]),t._v(" "),r("h3",{attrs:{id:"实现-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实现-2"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),r("p",[t._v("不同的内部模式都是以单独的类实现的，这些类都是从公共基类 "),r("code",[t._v("NavigatorMode")]),t._v(" 的子类。 成员变量 "),r("code",[t._v("_navigation_mode")]),t._v(" 包含了当前活跃的模式。")]),t._v(" "),r("p",[t._v("Navigator 发布位置期望值三元组 ("),r("code",[t._v("position_setpoint_triplet_s")]),t._v(")，该期望值会被位置控制器使用。")]),t._v(" "),r("p",[r("a",{attrs:{id:"navigator_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-5"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("navigator <command> [arguments...]\n navigator <command> [arguments...]\n Commands:\n   start\n\n   fencefile     load a geofence file from SD card, stored at etc/geofence.txt\n\n   fake_traffic  publishes 3 fake transponder_report_s uORB messages\n\n   stop\n\n   status        print status info\n")])])]),r("h2",{attrs:{id:"rover-pos-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rover-pos-control"}},[t._v("#")]),t._v(" rover_pos_control")]),t._v(" "),r("p",[t._v("Source: "),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/rover_pos_control",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/rover_pos_control"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"参数描述-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数描述-5"}},[t._v("#")]),t._v(" 参数描述")]),t._v(" "),r("p",[t._v("Controls the position of a ground rover using an L1 controller.")]),t._v(" "),r("p",[t._v("Publishes "),r("code",[t._v("actuator_controls_0")]),t._v(" messages at a constant 250Hz.")]),t._v(" "),r("h3",{attrs:{id:"实现-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实现-3"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),r("p",[t._v("Currently, this implementation supports only a few modes:")]),t._v(" "),r("ul",[r("li",[t._v("Full manual: Throttle and yaw controls are passed directly through to the actuators")]),t._v(" "),r("li",[t._v("Auto mission: The rover runs missions")]),t._v(" "),r("li",[t._v("Loiter: The rover will navigate to within the loiter radius, then stop the motors")])]),t._v(" "),r("h3",{attrs:{id:"示例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),r("p",[t._v("CLI 命令行用法示例：")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("rover_pos_control start\nrover_pos_control status\nrover_pos_control stop\n")])])]),r("p",[r("a",{attrs:{id:"rover_pos_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-6"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("rover_pos_control <command> [arguments...]\n wind_estimator &lt;command&gt; [arguments...]\n Commands:\n   start\n\n   stop\n\n   status        打印状态信息\n")])])]),r("h2",{attrs:{id:"uuv-att-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#uuv-att-control"}},[t._v("#")]),t._v(" uuv_att_control")]),t._v(" "),r("p",[t._v("Source: "),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/uuv_att_control",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/uuv_att_control"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"参数描述-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数描述-6"}},[t._v("#")]),t._v(" 参数描述")]),t._v(" "),r("p",[t._v("Controls the attitude of an unmanned underwater vehicle (UUV).")]),t._v(" "),r("p",[t._v("Publishes "),r("code",[t._v("actuator_controls_0")]),t._v(" messages at a constant 250Hz.")]),t._v(" "),r("h3",{attrs:{id:"实现-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实现-4"}},[t._v("#")]),t._v(" 实现")]),t._v(" "),r("p",[t._v("Currently, this implementation supports only a few modes:")]),t._v(" "),r("ul",[r("li",[t._v("Full manual: Roll, pitch, yaw, and throttle controls are passed directly through to the actuators")]),t._v(" "),r("li",[t._v("Auto mission: The uuv runs missions")])]),t._v(" "),r("h3",{attrs:{id:"示例-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[t._v("#")]),t._v(" 示例")]),t._v(" "),r("p",[t._v("CLI 命令行用法示例：")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("uuv_att_control start\nuuv_att_control status\nuuv_att_control stop\n")])])]),r("p",[r("a",{attrs:{id:"uuv_att_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-7"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("uuv_att_control <command> [arguments...]\n mc_att_control <command> [arguments...]\n Commands:\n   start\n\n   stop\n\n   status        打印状态信息\n")])])]),r("h2",{attrs:{id:"vtol-att-control"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vtol-att-control"}},[t._v("#")]),t._v(" vtol_att_control")]),t._v(" "),r("p",[t._v("Source: "),r("a",{attrs:{href:"https://github.com/PX4/Firmware/tree/master/src/modules/vtol_att_control",target:"_blank",rel:"noopener noreferrer"}},[t._v("modules/vtol_att_control"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"参数描述-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参数描述-7"}},[t._v("#")]),t._v(" 参数描述")]),t._v(" "),r("p",[t._v("fw_att_control 是固定翼姿态控制器。")]),t._v(" "),r("p",[r("a",{attrs:{id:"vtol_att_control_usage"}})]),t._v(" "),r("h3",{attrs:{id:"用法-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-8"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("vtol_att_control <command> [arguments...]\n fw_att_control <command> [arguments...]\n Commands:\n\n   stop\n\n   status        打印状态信息\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);