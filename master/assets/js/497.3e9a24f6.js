(window.webpackJsonp=window.webpackJsonp||[]).push([[497],{1415:function(t,_,e){t.exports=e.p+"assets/img/ark_flow.36cc8dae.jpg"},1416:function(t,_,e){t.exports=e.p+"assets/img/ark_flow_orientation.62142fab.png"},2788:function(t,_,e){"use strict";e.r(_);var a=e(19),r=Object(a.a)({},(function(){var t=this,_=t.$createElement,a=t._self._c||_;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ark-flow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ark-flow"}},[t._v("#")]),t._v(" ARK Flow")]),t._v(" "),a("p",[t._v("ARK Flow는 오픈 소스 "),a("RouterLink",{attrs:{to:"/ko/uavcan/"}},[t._v("UAVCAN")]),t._v(" "),a("RouterLink",{attrs:{to:"/ko/sensor/optical_flow.html"}},[t._v("광류")]),t._v(", "),a("RouterLink",{attrs:{to:"/ko/sensor/rangefinders.html"}},[t._v("거리 센서")]),t._v(" 및 IMU 모듈입니다.")],1),t._v(" "),a("p",[a("img",{attrs:{src:e(1415),alt:"ARK Flow"}})]),t._v(" "),a("h2",{attrs:{id:"구매처"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#구매처"}},[t._v("#")]),t._v(" 구매처")]),t._v(" "),a("p",[t._v("이 모듈을 아래에서 주문하십시오.")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://arkelectron.com/product/ark-flow/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ARK Electronics"),a("OutboundLink")],1),t._v(" (미국)")])]),t._v(" "),a("h2",{attrs:{id:"사양"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#사양"}},[t._v("#")]),t._v(" 사양")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ARK-Electronics/ARK_Flow",target:"_blank",rel:"noopener noreferrer"}},[t._v("오픈 소스 회로도와 BOM"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot/tree/master/boards/ark/can-flow",target:"_blank",rel:"noopener noreferrer"}},[t._v("PX4 오픈 소스 펌웨어"),a("OutboundLink")],1),t._v(" 실행")]),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/ko/uavcan/"}},[t._v("UAVCAN")]),t._v(" "),a("RouterLink",{attrs:{to:"/ko/uavcan/node_firmware.html"}},[t._v("펌웨어 업데이트")]),t._v(" 지원")],1),t._v(" "),a("li",[t._v("동적 "),a("RouterLink",{attrs:{to:"/ko/uavcan/"}},[t._v("UAVCAN")]),t._v(" 노드 열거")],1),t._v(" "),a("li",[t._v("센서\n"),a("ul",[a("li",[t._v("PixArt PAW3902 Optical Flow Sensor\n"),a("ul",[a("li",[t._v("9lux 이상의 매우 낮은 조명 조건에서 트랙")]),t._v(" "),a("li",[t._v("80mm에서 30m까지 넓은 작업 범위")]),t._v(" "),a("li",[t._v("최대 7.4 rad/s")])])]),t._v(" "),a("li",[t._v("9lux 이상의 매우 낮은 조명 조건에서 트랙")]),t._v(" "),a("li",[t._v("Broadcom AFBR-S50LV85D 비행시간 거리 센서\n"),a("ul",[a("li",[t._v("통합 850nm 레이저 광원")]),t._v(" "),a("li",[t._v("12.4  x 6.2°의 시야각 (FoV), 32 픽셀")]),t._v(" "),a("li",[t._v("최대 30m의 일반적인 거리 범위")]),t._v(" "),a("li",[t._v("최대 200k Lux 주변 조명 작동")]),t._v(" "),a("li",[t._v("모든 표면 조건에서 잘 작동")]),t._v(" "),a("li",[t._v("1~3 픽셀 사이를 비추는 2° x 2°의 송신기 빔")])])]),t._v(" "),a("li",[t._v("최대 7.4 rad/sPixArt PAW3902 광학식 유량 센서")])])]),t._v(" "),a("li",[t._v("STM32F412CEU6 MCU")]),t._v(" "),a("li",[t._v("Pixhawk 표준 CAN 커넥터 2 개\n"),a("ul",[a("li",[t._v("4 핀 JST GH")])])]),t._v(" "),a("li",[t._v("Pixhawk 표준 CAN 커넥터 2 개\n"),a("ul",[a("li",[t._v("4 핀 JST GH")])])]),t._v(" "),a("li",[t._v("소형 폼 팩터\n"),a("ul",[a("li",[t._v("3cm x 3cm x 1.4cm")])])]),t._v(" "),a("li",[t._v("LED 표시기")]),t._v(" "),a("li",[t._v("미국에서 제작")])]),t._v(" "),a("h3",{attrs:{id:"배선"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#배선"}},[t._v("#")]),t._v(" 배선")]),t._v(" "),a("p",[t._v("ARK Flow는 Pixhawk 표준 4 핀 JST GH 케이블을 사용하여 CAN 버스에 연결됩니다. 추가 센서를 ARK Flow의 두 번째 CAN 커넥터에 연결하여 여러 센서를 연결할 수 있습니다.")]),t._v(" "),a("p",[t._v("UAVCAN 배선 방법은 "),a("RouterLink",{attrs:{to:"/ko/uavcan/#wiring"}},[t._v("UAVCAN > 배선")]),t._v("을 참고하십시오.")],1),t._v(" "),a("p",[a("a",{attrs:{id:"mounting"}})]),t._v(" "),a("h3",{attrs:{id:"장착-및-방향"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#장착-및-방향"}},[t._v("#")]),t._v(" 장착 및 방향")]),t._v(" "),a("p",[t._v("권장 장착 방향은 다음 그림과 같이 보드의 커넥터가 "),a("strong",[t._v("차량 뒷면")]),t._v("을 향하는 것입니다.")]),t._v(" "),a("p",[a("img",{attrs:{src:e(1416),alt:"ARK Flow는 Pixhawk에 정렬"}})]),t._v(" "),a("p",[t._v("이는 매개변수 "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_ROT"}},[t._v("SENS_FLOW_ROT")]),t._v("의 기본값 ("),a("code",[t._v("0")]),t._v(")에 해당합니다. 다른 방향을 사용시에는 매개변수를 적절하게 변경하십시오.")],1),t._v(" "),a("p",[t._v("센서는 프레임의 어느 곳에 나 장착할 수 있지만, "),a("a",{attrs:{href:"#px4-configuration"}},[t._v("PX4 설정")]),t._v(" 중에 차량 무게 중심을 기준으로 초점 위치를 지정하여야 합니다.")]),t._v(" "),a("h2",{attrs:{id:"px4-설정"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#px4-설정"}},[t._v("#")]),t._v(" PX4 설정")]),t._v(" "),a("h3",{attrs:{id:"uavcan-활성화"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uavcan-활성화"}},[t._v("#")]),t._v(" UAVCAN 활성화")]),t._v(" "),a("p",[t._v("ARK Flow 보드를 사용하려면 Pixhawk CAN 버스에 연결하고 동적 노드 할당을 위해 매개변수 "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_ENABLE"}},[t._v("UAVCAN_ENABLE")]),t._v("을 "),a("code",[t._v("2")]),t._v("로 설정하여 UAVCAN 드라이버를 활성화합니다 (또는 "),a("code",[t._v('<a href="../uavcan/escs.md">UAVCAN ESC</a>를 사용하는 경우 3')]),t._v(").")],1),t._v(" "),a("p",[t._v("단계는 아래와 같습니다:")]),t._v(" "),a("ul",[a("li",[a("em",[t._v("QGroundControl")]),t._v("에서 매개변수 "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_ENABLE"}},[t._v("UAVCAN_ENABLE")]),t._v("을 "),a("code",[t._v("2")]),t._v(" 또는 "),a("code",[t._v("3")]),t._v("로 설정하고 재부팅합니다 ("),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameters.html"}},[t._v("매개 변수 찾기 / 업데이트 ")]),t._v("참조).")],1),t._v(" "),a("li",[t._v("ARK Flow CAN을 Pixhawk CAN에 연결합니다.")])]),t._v(" "),a("p",[t._v("활성화되면 부팅시 모듈이 감지됩니다. 유량 데이터는 10Hz에 도달하여야 합니다.")]),t._v(" "),a("h3",{attrs:{id:"px4-설정-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#px4-설정-2"}},[t._v("#")]),t._v(" PX4 설정")]),t._v(" "),a("p",[a("RouterLink",{attrs:{to:"/ko/sensor/optical_flow.html#ekf2"}},[t._v("Optical Flow > 추정기 > EKF2 ")]),t._v(" 에서 EKF 광류 매개변수를 설정합니다.")],1),t._v(" "),a("ul",[a("li",[t._v("In "),a("em",[t._v("QGroundControl")]),t._v(" manually set the parameter "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_AID_MASK"}},[t._v("EKF2_AID_MASK")]),t._v(" to "),a("code",[t._v("2")]),t._v(" to use optical flow only or "),a("code",[t._v("3")]),t._v(" to use GPS and optical flow. To manually set the value, select "),a("code",[t._v("Advanced Settings")]),t._v(" and check "),a("code",[t._v("manual entry")]),t._v(", then enter the value at the top and save.")],1),t._v(" "),a("li",[t._v("Set "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_RNG_A_HMAX"}},[t._v("EKF2_RNG_A_HMAX")]),t._v(" to "),a("code",[t._v("10")]),t._v(".")],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_RNG_MAX"}},[t._v("UAVCAN_RNG_MIN")]),t._v("을 "),a("code",[t._v("0.08")]),t._v("로, "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_RNG_MAX"}},[t._v("UAVCAN_RNG_MAX")]),t._v("를 "),a("code",[t._v("30")]),t._v("으로 설정합니다.")],1),t._v(" "),a("li",[t._v("Set "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_RNG_MIN"}},[t._v("UAVCAN_RNG_MIN")]),t._v(" to "),a("code",[t._v("0.08")]),t._v(".")],1),t._v(" "),a("li",[t._v("Set "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_RNG_MAX"}},[t._v("UAVCAN_RNG_MAX")]),t._v(" to "),a("code",[t._v("30")]),t._v(".")],1),t._v(" "),a("li",[t._v("Set "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MINHGT"}},[t._v("SENS_FLOW_MINHGT")]),t._v(" to "),a("code",[t._v("0.08")]),t._v(".")],1),t._v(" "),a("li",[t._v("Set "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MAXHGT"}},[t._v("SENS_FLOW_MAXHGT")]),t._v(" to "),a("code",[t._v("25")]),t._v(".")],1),t._v(" "),a("li",[t._v("Set "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MAXR"}},[t._v("SENS_FLOW_MAXR")]),t._v(" to "),a("code",[t._v("7.4")]),t._v(" to match the PAW3902 maximum angular flow rate.")],1),t._v(" "),a("li",[t._v("Enable "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_SUB_FLOW"}},[t._v("UAVCAN_SUB_FLOW")]),t._v(".")],1),t._v(" "),a("li",[t._v("Enable "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#UAVCAN_SUB_RNG"}},[t._v("UAVCAN_SUB_RNG")]),t._v(".")],1),t._v(" "),a("li",[t._v("The parameters "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_OF_POS_X"}},[t._v("EKF2_OF_POS_X")]),t._v(", "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_OF_POS_Y"}},[t._v("EKF2_OF_POS_Y")]),t._v(" and "),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#EKF2_OF_POS_Z"}},[t._v("EKF2_OF_POS_Z")]),t._v(" can be set to account for the offset of the Ark Flow from the vehicle centre of gravity.")],1)]),t._v(" "),a("p",[t._v("또한 다음의 매개변수들을 설정할 수 있습니다.")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("매개변수")]),t._v(" "),a("th",[t._v("설명")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{id:"CANNODE_FLOW_ROT"}}),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MAXHGT"}},[t._v("SENS_FLOW_MAXHGT")])],1),t._v(" "),a("td",[t._v("광학 흐름에 의존시 지상 최대 높이.")])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{id:"CANNODE_TERM"}}),a("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#SENS_FLOW_MINHGT"}},[t._v("SENS_FLOW_MINHGT")])],1),t._v(" "),a("td",[t._v("광학 흐름에 의존시 지상 최소 높이.")])])])]),t._v(" "),a("h2",{attrs:{id:"ark-flow-펌웨어-빌드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ark-flow-펌웨어-빌드"}},[t._v("#")]),t._v(" Ark Flow 펌웨어 빌드")]),t._v(" "),a("p",[t._v("Ark Flow is sold with a recent firmware build. Developers who want to update to the very latest version can build and install it themselves using the normal PX4 toolchain and sources.")]),t._v(" "),a("p",[t._v("The steps are:")]),t._v(" "),a("ol",[a("li",[a("RouterLink",{attrs:{to:"/ko/dev_setup/dev_env.html"}},[t._v("PX4 도구 모음")]),t._v("을 설치합니다.")],1),t._v(" "),a("li",[a("em",[t._v("git")]),t._v("을 사용하여 Ark Flow를 포함한 PX4-Autopilot 소스를 복제합니다."),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git clone https://github.com/PX4/PX4-Autopilot --recursive\ncd PX4-Autopilot\n")])])])]),t._v(" "),a("li",[a("em",[t._v("Ark Flow")]),t._v(" 펌웨어를 빌드합니다."),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("make ark_can-flow\n")])])])]),t._v(" "),a("li",[a("strong",[t._v("build/ark_can-flow_default")]),t._v("에 "),a("strong",[t._v("XX-X.X.XXXXXXXX.uavcan.bin")]),t._v("이라는 바이너리가 생성됩니다. 이 바이너리를 비행 컨트롤러 SD 카드의 루트 디렉터리에 저장하여 Ark Flow를 플래시합니다. 다음으로 SD 카드가 설치된 상태에서 비행 컨트롤러의 전원을 켜면 Ark Flow가 자동으로 깜박이고 바이너리가 더 이상 루트 디렉터리에 없고 이제  SD 카드의 ufw 디렉토리에 "),a("strong",[t._v("80.bin")]),t._v("이라는 파일이 생깁니다. :::note 전원을 켤 때 비행 컨트롤러에 SD 카드가 없으면, Ark Flow가 부팅되지 않습니다.\n:::")])]),t._v(" "),a("h2",{attrs:{id:"ark-flow-부트로더-업데이트"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ark-flow-부트로더-업데이트"}},[t._v("#")]),t._v(" Ark Flow 부트로더 업데이트")]),t._v(" "),a("p",[t._v("The Ark Flow comes with the bootloader pre-installed. You can, however, rebuild and reflash it within the PX4-Autopilot environment.")]),t._v(" "),a("p",[t._v("The steps are:")]),t._v(" "),a("ol",[a("li",[t._v("Ark Flow 부트로더 펌웨어를 빌드합니다."),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("make ark_can-flow_canbootloader\n")])])])])]),t._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[t._v("VS")]),t._v(" "),a("p",[t._v("코드에서는 이렇게 하면, "),a("code",[t._v("launch.json")]),t._v(" 파일이 설정됩니다. Black Magic Probe 및 VS 코드를 사용하는 경우 이 파일 내의 "),a("code",[t._v("BMPGDBSerialPort")]),t._v("를 디버거가 연결된 올바른 포트로 업데이트해야 합니다. MacOS에서 포트 이름은 "),a("code",[t._v("cu.usbmodemE4CCA0E11")]),t._v("과 같아야 합니다.")])]),t._v(" "),a("ol",[a("li",[t._v("Black Magic Probe와 같은 GNU 프로젝트 디버거(GDB) 사용을 지원하는 직렬 와이어 디버깅(SWD) 장치에 Ark Flow를 연결한 다음 CAN 포트 중 하나를 통해 Ark Flow에 전원을 연결합니다.")]),t._v(" "),a("li",[a("code",[t._v("ark_can-flow_canbootloader")]),t._v("로 Ark Flow를 플래시합니다. VS 코드에서 그렇게 하려면, VS 코드의 하단 표시줄에 "),a("code",[t._v("CMake: [ark_can-flow_canbootloader]: Ready")]),t._v("가 표시되어 깜박이고 있음을 나타냅니다. 그런 다음, VS 코드의 실행 및 디버그 창에서 "),a("code",[t._v("디버깅 시작")]),t._v("을 선택한 다음 첫 번째 중단점 이후에 "),a("code",[t._v("계속")]),t._v("을 선택하여 부트로더를 플래시합니다.")]),t._v(" "),a("li",[t._v("부트로더가 플래시되면 위에서 설명한 대로 Ark Flow 펌웨어 "),a("code",[t._v("ark_can-flow_default")]),t._v("를 빌드하고 플래시할 준비가 된 것입니다.")])]),t._v(" "),a("h2",{attrs:{id:"led-신호의-의미"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#led-신호의-의미"}},[t._v("#")]),t._v(" LED 신호의 의미")]),t._v(" "),a("p",[t._v("ARK Flow가 깜박일 때 빨간색과 파란색 LED가 모두 표시되고, 제대로 실행 중이면 파란색 LED가 계속 켜져 있습니다.")]),t._v(" "),a("p",[t._v("빨간색 LED가 계속 켜져 있으면, 오류가 있으므로 다음 사항들을 확인하여야 합니다.")]),t._v(" "),a("ul",[a("li",[t._v("비행 콘트롤러에 SD 카드가 설치되어 있는지 확인하십시오.")]),t._v(" "),a("li",[a("code",[t._v("ark_can-flow_default")]),t._v("를 플래싱하기 전에 Ark Flow에 "),a("code",[t._v("ark_can-flow_canbootloader")]),t._v("가 설치되어 있는 지 확인하십시오.")]),t._v(" "),a("li",[t._v("SD 카드의 루트 및 ufw 디렉토리에서 바이너리를 제거하고 빌드 및 플래시를 다시 시도하십시오.")])]),t._v(" "),a("h2",{attrs:{id:"비디오"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#비디오"}},[t._v("#")]),t._v(" 비디오")]),t._v(" "),a("p",[t._v("@"),a("a",{attrs:{href:"https://www.youtube.com/watch?v=SAbRe1fi7bU&list=PLUepQApgwSozmwhOo-dXnN33i2nBEl1c0",target:"_blank",rel:"noopener noreferrer"}},[t._v("유튜브"),a("OutboundLink")],1),t._v(" "),a("em",[t._v("속도 추정을 위해 ARK Flow 센서를 사용한 PX4 고정 위치("),a("RouterLink",{attrs:{to:"/ko/flight_modes/position_mc.html"}},[t._v("위치 모드")]),t._v("에서)")],1)])])}),[],!1,null,null,null);_.default=r.exports}}]);