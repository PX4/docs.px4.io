(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{1580:function(e,t,o){"use strict";o.r(t);var n=o(19),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"flight-mode-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flight-mode-configuration"}},[e._v("#")]),e._v(" Flight Mode Configuration")]),e._v(" "),n("p",[e._v("This topic explains how to map "),n("RouterLink",{attrs:{to:"/en/getting_started/flight_modes.html"}},[e._v("flight modes")]),e._v(" and other functions to the switches on your radio control transmitter.")],1),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("You must already have "),n("RouterLink",{attrs:{to:"/en/config/radio.html"}},[e._v("configured your radio")]),e._v(" in order to assign flight modes and functions.")],1)]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),n("p",[e._v("PX4 allows you to select flight modes from a ground station (tablet or desktop) or from a radio control transmitter.\nIf radio control and tablet are both connected, either system can change the mode and override the previous setting.")])]),e._v(" "),n("h2",{attrs:{id:"what-flight-modes-and-switches-should-i-set"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#what-flight-modes-and-switches-should-i-set"}},[e._v("#")]),e._v(" What Flight Modes and Switches Should I Set?")]),e._v(" "),n("p",[n("em",[e._v("Flight Modes")]),e._v(" provide different types of "),n("em",[e._v("autopilot-assisted flight")]),e._v(", and "),n("em",[e._v("fully autonomous flight")]),e._v(".\nYou can set any (or none) of the flight modes "),n("RouterLink",{attrs:{to:"/en/getting_started/flight_modes.html"}},[e._v("described here")]),e._v(".\nMost users should set the following functions, as these make the vehicle easier and safer to fly:")],1),e._v(" "),n("ul",[n("li",[n("strong",[e._v("Position mode")]),e._v(" ("),n("RouterLink",{attrs:{to:"/en/getting_started/flight_modes.html#position-mode-mc"}},[e._v("multicopter")]),e._v(", "),n("RouterLink",{attrs:{to:"/en/getting_started/flight_modes.html#position-mode-fw"}},[e._v("fixed-wing")]),e._v(") - Easiest and safest mode for manual flight.")],1),e._v(" "),n("li",[n("RouterLink",{attrs:{to:"/en/flight_modes/return.html"}},[e._v("Return mode")]),e._v(" - Return to launch position by safe path and land (by default).")],1),e._v(" "),n("li",[n("strong",[e._v("VTOL Transition Switch")]),e._v(" - Toggle between fixed-wing and multicopter flight configuration on VTOL vehicles.")])]),e._v(" "),n("p",[e._v("It is also common to map switches to:")]),e._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/en/flight_modes/mission.html"}},[e._v("Mission")]),e._v(" - This mode runs a pre-programmed mission sent by the ground control station.")],1),e._v(" "),n("li",[n("a",{attrs:{id:"kill_switch"}}),e._v(" "),n("RouterLink",{attrs:{to:"/en/config/safety.html#kill-switch"}},[e._v("Kill Switch")]),e._v(" - Immediately stops all motor outputs (the vehicle will crash, which may in some circumstances be more desirable than allowing it to continue flying).")],1)]),e._v(" "),n("h2",{attrs:{id:"multi-channel-vs-single-channel-mode-selection"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#multi-channel-vs-single-channel-mode-selection"}},[e._v("#")]),e._v(" Multi Channel vs Single Channel Mode Selection")]),e._v(" "),n("p",[n("em",[e._v("PX4")]),e._v(" ("),n("em",[e._v("QGroundControl")]),e._v(") supports two modes for mapping flight modes to transmitter switches/dials:")]),e._v(" "),n("ul",[n("li",[n("strong",[e._v("Single Channel Mode Selection:")]),e._v(" Assign up to 6 flight modes to switch positions encoded in a single channel.")]),e._v(" "),n("li",[n("strong",[e._v("Multi Channel Mode Selection:")]),e._v(" Assign modes to switch positions encoded in one or more channels.\nSome modes are hard coded to share channels, or are defined/set automatically based on other mode selections (the behaviour of multi-channel mode selection can sometimes be confusing).")])]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("The recommended approach is use "),n("em",[e._v("Single Channel Mode Selection")]),e._v(" because it easy to understand and configure.")])]),e._v(" "),n("p",[n("span",{attrs:{id:"single_channel"}})]),e._v(" "),n("h2",{attrs:{id:"single-channel-flight-mode-selection"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#single-channel-flight-mode-selection"}},[e._v("#")]),e._v(" Single-Channel Flight Mode Selection")]),e._v(" "),n("p",[e._v('The single-channel selection mode allows you to specify a "mode" channel and select up to 6 flight modes that will be activated based on the PWM value of the channel.\nYou can also separately specify channels for mapping a kill switch, return to launch mode, and offboard mode.')]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),n("p",[e._v("In order to use this approach you will first need to configure your "),n("em",[e._v("transmitter")]),e._v(" to encode the physical positions of your mode switch(es) into a single channel.\nWe provide information on how this is done for the popular "),n("em",[e._v("Taranis")]),e._v(" transmitter "),n("a",{attrs:{href:"#taranis-setup-3-way-switch-configuration-for-single-channel-mode"}},[e._v("below")]),e._v(" (check your documentation if you use a different transmitter).")])]),e._v(" "),n("p",[e._v("To configure single-channel flight mode selection:")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Start "),n("em",[e._v("QGroundControl")]),e._v(" and connect the vehicle.")])]),e._v(" "),n("li",[n("p",[e._v("Turn on your RC transmitter.")])]),e._v(" "),n("li",[n("p",[e._v("Select "),n("strong",[e._v("QGroundControl icon > Vehicle Setup")]),e._v(", and then "),n("strong",[e._v("Flight Modes")]),e._v(" in the sidebar.")]),e._v(" "),n("p",[n("img",{attrs:{src:o(643),alt:"Flight modes single-channel"}})]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("If the screen opens in "),n("em",[e._v("Multi Channel Mode")]),e._v(" click the "),n("strong",[e._v("Use Single Channel Mode Selection")]),e._v(" button to change screen.")])])]),e._v(" "),n("li",[n("p",[e._v("Specify "),n("em",[e._v("Flight Mode Settings")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("Select the "),n("strong",[e._v("Mode channel")]),e._v(" (above this shown as Channel 5, but this will depend on your transmitter configuration).")]),e._v(" "),n("li",[e._v("Move the transmitter switch (or switches) that you have set up for mode selection through the available positions.\nThe mode slot matching your current switch position will be highlighted (above this is "),n("em",[e._v("Flight Mode 4")]),e._v(")."),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),n("p",[e._v("While you can set flight modes in any of the 6 slots, only the channels that are mapped to switch positions will be highlighted/used.")])])]),e._v(" "),n("li",[e._v("Select the flight mode that you want triggered for each switch position.")])])]),e._v(" "),n("li",[n("p",[e._v("Specify "),n("em",[e._v("Switch Settings")]),e._v(":")]),e._v(" "),n("ul",[n("li",[e._v("Select the channels that you want to map to specific actions - e.g.: "),n("em",[e._v("Return")]),e._v(" mode, "),n("em",[e._v("Kill switch")]),e._v(", "),n("em",[e._v("offboard")]),e._v(" mode, etc. (if you have spare switches and channels on your transmitter).")])])]),e._v(" "),n("li",[n("p",[e._v("Test that the modes are mapped to the right transmitter switches:")]),e._v(" "),n("ul",[n("li",[e._v("Check the "),n("em",[e._v("Channel Monitor")]),e._v(" to confirm that the expected channel is changed by each switch.")]),e._v(" "),n("li",[e._v("Select each mode switch on your transmitter in turn, and check that the desired flight mode is activated (the text turns yellow on "),n("em",[e._v("QGroundControl")]),e._v(" for the active mode).")])])])]),e._v(" "),n("p",[e._v("All values are automatically saved as they are changed.")]),e._v(" "),n("p",[n("span",{attrs:{id:"taranis_setup"}})]),e._v(" "),n("h3",{attrs:{id:"taranis-setup-3-way-switch-configuration-for-single-channel-mode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#taranis-setup-3-way-switch-configuration-for-single-channel-mode"}},[e._v("#")]),e._v(" Taranis Setup: 3-way Switch Configuration for Single-Channel Mode")]),e._v(" "),n("p",[e._v('If you only need to support selecting between two or three modes then you can map the modes to the positions of a single 3-way switch.\nBelow we show how to map the Taranis 3-way "SD" switch to channel 5.')]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),n("p",[e._v("This example shows how to set up the popular "),n("em",[e._v("FrSky Taranis")]),e._v(" transmitter.\nTransmitter setup will be different on other transmitters.")])]),e._v(" "),n("p",[e._v("Open the Taranis UI "),n("strong",[e._v("MIXER")]),e._v(" page and scroll down to "),n("strong",[e._v("CH5")]),e._v(", as shown below:")]),e._v(" "),n("p",[n("img",{attrs:{src:o(644),alt:"Taranis - Map channel to switch"}})]),e._v(" "),n("p",[e._v("Press "),n("strong",[e._v("ENT(ER)")]),e._v(" to edit the "),n("strong",[e._v("CH5")]),e._v(" configuration then change the "),n("strong",[e._v("Source")]),e._v(" to be the "),n("em",[e._v("SD")]),e._v(" button.")]),e._v(" "),n("p",[n("img",{attrs:{src:o(645),alt:"Taranis - Configure channel"}})]),e._v(" "),n("p",[e._v("That's it!\nChannel 5 will now output 3 different PWM values for the three different "),n("strong",[e._v("SD")]),e._v(" switch positions.")]),e._v(" "),n("p",[e._v("The "),n("em",[e._v("QGroundControl")]),e._v(" configuration is then as described in the previous section.")]),e._v(" "),n("h3",{attrs:{id:"taranis-setup-multi-switch-configuration-for-single-channel-mode"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#taranis-setup-multi-switch-configuration-for-single-channel-mode"}},[e._v("#")]),e._v(" Taranis Setup: Multi-Switch Configuration for Single-Channel Mode")]),e._v(" "),n("p",[e._v("Most transmitters do not have 6-way switches, so if you need to be able to support more modes than the number of switch positions available (up to 6) then you will have to represent them using multiple switches.\nCommonly this is done by encoding the positions of a 2- and a 3-position switch into a single channel, so that each switch position results in a different PWM value.")]),e._v(" "),n("p",[e._v('On the FrSky Taranis this process involves assigning a "logical switch" to each combination of positions of the two real switches.\nEach logical switch is then assigned to a different PWM value on the same channel.')]),e._v(" "),n("p",[e._v("The video below shows how this is done with the "),n("em",[e._v("FrSky Taranis")]),e._v(" transmitter.")]),e._v(" "),n("p"),n("div",{staticClass:"embed-responsive embed-responsive-16by9"},[n("iframe",{staticClass:"embed-responsive-item youtube-player",attrs:{type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/TFEjEQZqdVA",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),n("p"),e._v(" "),n("p",[e._v("The "),n("em",[e._v("QGroundControl")]),e._v(" configuration is then as "),n("a",{attrs:{href:"#single-channel-flight-mode-selection"}},[e._v("described above")]),e._v(".")]),e._v(" "),n("p",[n("span",{attrs:{id:"multi_channel"}})]),e._v(" "),n("h2",{attrs:{id:"multi-channel-flight-mode-selection"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#multi-channel-flight-mode-selection"}},[e._v("#")]),e._v(" Multi-Channel Flight Mode Selection")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("We recommend you use "),n("a",{attrs:{href:"#single_channel"}},[e._v("Single Channel Flight Mode")]),e._v(" selection because the Multi Channel selection user interface can be confusing.\nIf you do choose to use this method, then the best approach is to start assigning channels and take note of information displayed by "),n("em",[e._v("QGroundControl")]),e._v(" following your selection.")])]),e._v(" "),n("p",[e._v("The multi-channel selection user interface allows you to map one or more modes to one or more channels.\nThere are some modes (and hence switches) that must always be defined, and the channel to which they must be allocated.")]),e._v(" "),n("p",[e._v("To configure flight modes using the multi-channel UI:")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Turn on your RC transmitter.")])]),e._v(" "),n("li",[n("p",[e._v("Start "),n("em",[e._v("QGroundControl")]),e._v(" and connect the vehicle.")])]),e._v(" "),n("li",[n("p",[e._v("Select the "),n("strong",[e._v("Gear")]),e._v(" icon (Vehicle Setup) in the top toolbar and then "),n("strong",[e._v("Flight Modes")]),e._v(" in the sidebar.")]),e._v(" "),n("p",[n("img",{attrs:{src:o(646),alt:"Flight modes multi-channel"}})]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),n("p",[e._v("If the screen opens in "),n("em",[e._v("Single Channel Mode")]),e._v(" click the "),n("strong",[e._v("Use Multi Channel Mode Selection")]),e._v(" button to change screen.")])])]),e._v(" "),n("li",[n("p",[e._v("Select the modes you want to assign to your switches and select the associated channel (selected modes will "),n("em",[e._v("move")]),e._v(" in the user interface to be grouped by channel).\nThere are a number of complications on the mode to channel assignments:")]),e._v(" "),n("ul",[n("li",[e._v("Some modes cannot be manually edited (are grayed out) because their channel and threshold level are automatically defined based on the values of other mode settings. For example:\n"),n("ul",[n("li",[n("em",[e._v("Mission")]),e._v(" mode - is automatically assigned the same channel number as "),n("em",[e._v("Hold")]),e._v(" (if the channel for "),n("em",[e._v("Hold")]),e._v(" is defined by the user). If the channel for "),n("em",[e._v("Hold")]),e._v(" is not defined, "),n("em",[e._v("Mission")]),e._v(" mode is automatically assigned the same channel as "),n("em",[e._v("Stabilized/Main")]),e._v(" mode. This, for example, prevents the user from defining "),n("em",[e._v("Stabilized/Main")]),e._v(" and "),n("em",[e._v("Mission")]),e._v(" mode on different channels, to ensure that the user cannot switch both modes ON at the same time.")]),e._v(" "),n("li",[n("em",[e._v("Altitude")]),e._v(" mode - is automatically assigned the same channel number as "),n("em",[e._v("Position Control")]),e._v(" (if it is defined), or otherwise the same channel as "),n("em",[e._v("Stabilized/Main")]),e._v(" mode.")])])]),e._v(" "),n("li",[n("em",[e._v("Assist")]),e._v(" mode -  This mode is added to the same channel as "),n("em",[e._v("Stabilized/Main")]),e._v(" mode if (and only if) "),n("em",[e._v("Position Control")]),e._v(" is enabled and defined on a different channel than "),n("em",[e._v("Stabilized/Main")]),e._v(".")])])]),e._v(" "),n("li",[n("p",[e._v("Click the "),n("strong",[e._v("Generate Thresholds")]),e._v(" button.")]),e._v(" "),n("ul",[n("li",[e._v("This will automatically create threshold values for all modes, spread evenly across each channel for its assigned modes. For example, in the mode assignment shown above, most modes are assigned to mode 5, and you can see that the channel thresholds for each mode are spread evenly across the channel.")])])])]),e._v(" "),n("p",[e._v("This mode is demonstrated in the "),n("a",{attrs:{href:"https://youtu.be/91VGmdSlbo4?t=6m53s",target:"_blank",rel:"noopener noreferrer"}},[e._v("autopilot setup video here"),n("OutboundLink")],1),e._v(" (youtube).")]),e._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),n("p",[e._v("This flight mode selection mechanism is relatively complicated due to the way that PX4 works out which mode should be selected.\nYou may be able to gain some insight from this "),n("RouterLink",{attrs:{to:"/en/concept/flight_modes.html#flight-mode-evaluation-diagram"}},[e._v("flow chart")]),e._v(".")],1)]),e._v(" "),n("h2",{attrs:{id:"further-information"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#further-information"}},[e._v("#")]),e._v(" Further Information")]),e._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/en/flight_modes/"}},[e._v("Flight Modes Overview")])],1),e._v(" "),n("li",[n("a",{attrs:{href:"https://docs.qgroundcontrol.com/en/SetupView/FlightModes.html#px4-pro-flight-mode-setup",target:"_blank",rel:"noopener noreferrer"}},[e._v("QGroundControl > Flight Modes"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://youtu.be/91VGmdSlbo4?t=6m53s",target:"_blank",rel:"noopener noreferrer"}},[e._v("PX4 Setup Video - @6m53s"),n("OutboundLink")],1),e._v(" (Youtube)")]),e._v(" "),n("li",[n("RouterLink",{attrs:{to:"/en/advanced_config/parameter_reference.html#radio-switches"}},[e._v("Radio switch parameters")]),e._v(" - Can be used to set mappings via parameters")],1)])])}),[],!1,null,null,null);t.default=s.exports},643:function(e,t,o){e.exports=o.p+"assets/img/flight_modes_single_channel.26d1e2e1.jpg"},644:function(e,t,o){e.exports=o.p+"assets/img/single_channel_mode_selection_1.af4cb2ea.png"},645:function(e,t,o){e.exports=o.p+"assets/img/single_channel_mode_selection_2.1b6ed056.png"},646:function(e,t,o){e.exports=o.p+"assets/img/flight_modes_multi_channel.157d7e57.jpg"}}]);