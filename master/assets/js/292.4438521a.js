(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{1155:function(t,e,a){t.exports=a.p+"assets/img/qgc_rtk_survey-in.9a497c55.png"},1156:function(t,e,a){t.exports=a.p+"assets/img/qgc_rtk_streaming.76200b22.png"},1157:function(t,e,a){t.exports=a.p+"assets/img/qgc_rtk_gps_status.ac046992.png"},1158:function(t,e,a){t.exports=a.p+"assets/img/settings_view_general_rtk_gps.74da8db3.jpg"},2580:function(t,e,a){"use strict";a.r(e);var r=a(19),n=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"rtk-gps"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rtk-gps"}},[t._v("#")]),t._v(" RTK GPS")]),t._v(" "),r("p",[r("em",[t._v("RTK GPS")]),t._v(" devices can be accurate to centimeter-level, allowing PX4 to be used in applications like precision surveying (where pinpoint accuracy is essential).")]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("GPS")]),t._v(" "),r("p",[t._v("can also be used as a source of yaw/heading information:")]),t._v(" "),r("ul",[r("li",[r("RouterLink",{attrs:{to:"/zh/gps_compass/u-blox_f9p_heading.html"}},[t._v("RTK GPS Heading with Dual u-blox F9P")]),t._v(".")],1),t._v(" "),r("li",[t._v("Some GPS output yaw (see table below).")])])]),t._v(" "),r("h2",{attrs:{id:"支持的-rtk-设备"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#支持的-rtk-设备"}},[t._v("#")]),t._v(" 支持的 RTK 设备")]),t._v(" "),r("p",[t._v("PX4 supports the "),r("a",{attrs:{href:"https://www.u-blox.com/en/product/neo-m8p",target:"_blank",rel:"noopener noreferrer"}},[t._v("u-blox M8P"),r("OutboundLink")],1),t._v(", "),r("a",{attrs:{href:"https://www.u-blox.com/en/product/zed-f9p-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("u-blox F9P"),r("OutboundLink")],1),t._v(" and the "),r("a",{attrs:{href:"https://www.trimble.com/Precision-GNSS/MB-Two-Board.aspx",target:"_blank",rel:"noopener noreferrer"}},[t._v("Trimble MB-Two"),r("OutboundLink")],1),t._v(" GPS, and products that incorporate them.")]),t._v(" "),r("p",[t._v("The RTK compatible devices below that are expected to work with PX4 (it omits discontined devices). The table indicates devices that also output yaw, and that can provide yaw when two on-vehicle units are used.")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",{staticStyle:{"text-align":"left"}},[t._v("GPS")]),t._v(" "),r("th",{staticStyle:{"text-align":"center"}},[t._v("Yaw Output")]),t._v(" "),r("th",{staticStyle:{"text-align":"center"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/u-blox_f9p_heading.html"}},[t._v("Dual FP9 GPS Heading")])],1),t._v(" "),r("th",{staticStyle:{"text-align":"center"}},[r("RouterLink",{attrs:{to:"/zh/uavcan/"}},[t._v("CAN")])],1)])]),t._v(" "),r("tbody",[r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_cuav_c-rtk.html"}},[t._v("CUAV C-RTK GPS")])],1),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_drotek_xl.html"}},[t._v("Drotek XL RTK GPS")])],1),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_fem_mini2.html"}},[t._v("Femtones MINI2 Receiver")])],1),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_freefly.html"}},[t._v("Freefly RTK GPS")]),t._v(" (F9P)")],1),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.cubepilot.org/#/here/here3",target:"_blank",rel:"noopener noreferrer"}},[t._v("CubePilot Here3"),r("OutboundLink")],1)]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("✓")])]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_holybro_h-rtk-f9p.html"}},[t._v("Holybro H-RTK F9P GNSS")])],1),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_holybro_h-rtk-m8p.html"}},[t._v("Holybro H-RTK M8P GNSS")])],1),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://www.sparkfun.com/products/15136",target:"_blank",rel:"noopener noreferrer"}},[t._v("SparkFun GPS-RTK2 Board - ZED-F9P"),r("OutboundLink")],1)]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("✓")]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://store-drotek.com/911-1010-sirius-rtk-gnss-rover-f9p.html#/158-sensor-no_magnetometer",target:"_blank",rel:"noopener noreferrer"}},[t._v("SIRIUS RTK GNSS ROVER (F9P)"),r("OutboundLink")],1)]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("✓")]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("a",{attrs:{href:"https://store.mrobotics.io/product-p/m10020d.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("mRo u-blox ZED-F9 RTK L1/L2 GPS"),r("OutboundLink")],1)]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("✓")]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),r("tr",[r("td",{staticStyle:{"text-align":"left"}},[r("RouterLink",{attrs:{to:"/zh/gps_compass/rtk_gps_trimble_mb_two.html"}},[t._v("Trimble MB-Two")])],1),t._v(" "),r("td",{staticStyle:{"text-align":"center"}},[t._v("✓")]),t._v(" "),r("td",{staticStyle:{"text-align":"center"}}),t._v(" "),r("td",{staticStyle:{"text-align":"center"}})])])]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),r("p",[t._v("Some RTK modules can only be used in a particular role (base or rover), while others can be used interchangeably.")])]),t._v(" "),r("h2",{attrs:{id:"positioning-setup-configuration"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#positioning-setup-configuration"}},[t._v("#")]),t._v(" Positioning Setup/Configuration")]),t._v(" "),r("p",[t._v("RTK positioning requires a "),r("em",[t._v("pair")]),t._v(" of "),r("a",{attrs:{href:"#supported-rtk-devices"}},[t._v("RTK GPS devices")]),t._v(': a "base" for the ground station and a "rover" for the vehicle.')]),t._v(" "),r("p",[t._v("In addition you will need:")]),t._v(" "),r("ul",[r("li",[t._v("A "),r("em",[t._v("laptop/PC")]),t._v(" with QGroundControl (QGroundControl for Android/iOS do not support RTK)")]),t._v(" "),r("li",[t._v("A vehicle with a WiFi or Telemetry radio link to the laptop.")])]),t._v(" "),r("div",{staticClass:"custom-block note"},[r("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),r("p",[r("em",[t._v("QGroundControl")]),t._v(" with a base module can theoretically enable RTK GPS for multiple vehicles/rover modules. At time of writing this use case has not been tested.")])]),t._v(" "),r("h3",{attrs:{id:"hardware-setup"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#hardware-setup"}},[t._v("#")]),t._v(" Hardware Setup")]),t._v(" "),r("h4",{attrs:{id:"rover-rtk-module-vehicle"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rover-rtk-module-vehicle"}},[t._v("#")]),t._v(" Rover RTK Module (Vehicle)")]),t._v(" "),r("p",[t._v("The connection method and cables/connectors required depends on the selected RTK module (and on the "),r("RouterLink",{attrs:{to:"/zh/flight_controller/"}},[t._v("flight controller")]),t._v(").")],1),t._v(" "),r("p",[t._v("Most are connected via the flight controller's GPS port, in the same way as any other GPS module. Some are connected to the "),r("RouterLink",{attrs:{to:"/zh/uavcan/"}},[t._v("UAVCAN")]),t._v(" bus.")],1),t._v(" "),r("p",[t._v("See "),r("a",{attrs:{href:"#supported-rtk-devices"}},[t._v("documentation for the selected device")]),t._v(" and "),r("RouterLink",{attrs:{to:"/zh/uavcan/"}},[t._v("UAVCAN")]),t._v(" for more information on wiring and configuration.")],1),t._v(" "),r("h4",{attrs:{id:"base-rtk-module-ground"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#base-rtk-module-ground"}},[t._v("#")]),t._v(" Base RTK Module (Ground)")]),t._v(" "),r("p",[t._v("Connect the base module to "),r("em",[t._v("QGroundControl")]),t._v(" via USB. The base module must not be moved while it is being used.")]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),r("p",[t._v("Choose a position where the base module won't need to be moved, has a clear view of the sky, and is well separated from any buildings. Often it is helpful to elevate the base GPS, by using a tripod or mounting it on a roof.")])]),t._v(" "),r("h4",{attrs:{id:"telemetry-radio-wifi"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#telemetry-radio-wifi"}},[t._v("#")]),t._v(" Telemetry Radio/WiFi")]),t._v(" "),r("p",[t._v("The vehicle and ground control laptop must be connected via "),r("RouterLink",{attrs:{to:"/zh/telemetry/"}},[t._v("wifi or a radio telemetry link")]),t._v(".")],1),t._v(" "),r("p",[t._v("The link "),r("em",[t._v("must")]),t._v(" use the MAVLink 2 protocol as it makes more efficient use of the channel. This should be set by default, but if not, follow the "),r("a",{attrs:{href:"#mavlink2"}},[t._v("MAVLink2 configuration instructions")]),t._v(" below.")]),t._v(" "),r("h3",{attrs:{id:"rtk-connection-process"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rtk-connection-process"}},[t._v("#")]),t._v(" RTK Connection Process")]),t._v(" "),r("p",[t._v("The RTK GPS connection is essentially plug and play:")]),t._v(" "),r("ol",[r("li",[t._v("打开"),r("em",[t._v("QGroundControl")]),t._v("，使用 USB 连接基站的 RTK GPS 到地面站。 电脑会自动识别设备。")]),t._v(" "),r("li",[t._v("启动飞机，确保飞机连接上"),r("em",[t._v("QGroundControl")]),t._v("地面站。")])]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),r("p",[r("em",[t._v("QGroundControl")]),t._v(" displays an RTK GPS status icon in the top icon bar while an RTK GPS device is connected (in addition to the normal GPS status icon). The icon is red while RTK is being set up, and then changes to white once RTK GPS is active. You can click the icon to see the current state and RTK accuracy.")])]),t._v(" "),r("ol",{attrs:{start:"3"}},[r("li",[r("p",[t._v("然后 "),r("em",[t._v("QGroundControl")]),t._v(' 开始设置 RTK (称为 "测量")。')]),t._v(" "),r("p",[t._v("测量是一个获得基站准确位置的设置过程。 这个过程通常会需要几分钟（在达到"),r("a",{attrs:{href:"#rtk-gps-settings"}},[t._v("RTK 设置")]),t._v("中指定的最小时间和精度后结束）。")]),t._v(" "),r("p",[t._v("你也可以点击 RTK状态按钮查看。")]),t._v(" "),r("p",[r("img",{attrs:{src:a(1155),alt:"survey-in"}})])]),t._v(" "),r("li",[r("p",[t._v("测量完成：")])])]),t._v(" "),r("ul",[r("li",[r("p",[t._v("The RTK GPS icon changes to white and "),r("em",[t._v("QGroundControl")]),t._v(" starts to stream position data to the vehicle:")]),t._v(" "),r("p",[r("img",{attrs:{src:a(1156),alt:"RTK streaming"}})])]),t._v(" "),r("li",[r("p",[t._v("Vehicle GPS switches to RTK mode. The new mode is displayed in the "),r("em",[t._v("normal")]),t._v(" GPS status icon ("),r("code",[t._v("3D RTK GPS Lock")]),t._v("):")]),t._v(" "),r("p",[r("img",{attrs:{src:a(1157),alt:"RTK GPS Status"}})])])]),t._v(" "),r("h3",{attrs:{id:"optional-px4-configuration"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#optional-px4-configuration"}},[t._v("#")]),t._v(" Optional PX4 Configuration")]),t._v(" "),r("p",[t._v("The following settings may need to be changed (using "),r("em",[t._v("QGroundControl")]),t._v(").")]),t._v(" "),r("h4",{attrs:{id:"rtk-gps-settings"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rtk-gps-settings"}},[t._v("#")]),t._v(" RTK GPS settings")]),t._v(" "),r("p",[t._v("The RTK GPS settings are specified in the "),r("em",[t._v("QGroundControl")]),t._v(" "),r("a",{attrs:{href:"https://docs.qgroundcontrol.com/en/SettingsView/General.html#rtk_gps",target:"_blank",rel:"noopener noreferrer"}},[t._v("General Settings"),r("OutboundLink")],1),t._v(" ("),r("strong",[t._v("SettingsView > General Settings > RTK GPS")]),t._v(").")]),t._v(" "),r("p",[r("img",{attrs:{src:a(1158),alt:"RTK GPS Setup"}})]),t._v(" "),r("p",[t._v('These settings define the minimum duration and minimum accuracy for completing the RTK GPS setup process (known as "Survey-In).')]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),r("p",[t._v("You can save and reuse a base position in order to save time: perform Survey-In once, select "),r("em",[t._v("Use Specified Base Position")]),t._v(" and press "),r("strong",[t._v("Save Current Base Position")]),t._v(" to copy in the values for the last survey. The values will then persist across QGC reboots until they are changed.")])]),t._v(" "),r("h4",{attrs:{id:"mavlink2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mavlink2"}},[t._v("#")]),t._v(" MAVLink2")]),t._v(" "),r("p",[t._v("The MAVLink2 protocol must be used because it makes more efficient use of lower-bandwidth channels. This should be enabled by default on recent builds.")]),t._v(" "),r("p",[t._v("To ensure MAVLink2 is used:")]),t._v(" "),r("ul",[r("li",[t._v("Update the telemetry module firmware to the latest version (see "),r("a",{attrs:{href:"https://docs.qgroundcontrol.com/en/SetupView/Firmware.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("QGroundControl > Setup > Firmware"),r("OutboundLink")],1),t._v(").")]),t._v(" "),r("li",[t._v("Set "),r("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#MAV_PROTO_VER"}},[t._v("MAV_PROTO_VER")]),t._v(" to 2 (see "),r("a",{attrs:{href:"https://docs.qgroundcontrol.com/en/SetupView/Parameters.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("QGroundControl Setup > Parameters"),r("OutboundLink")],1),t._v(")")],1)]),t._v(" "),r("h4",{attrs:{id:"tuning"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#tuning"}},[t._v("#")]),t._v(" Tuning")]),t._v(" "),r("p",[t._v("You may also need to tune some parameters as the default parameters are tuned assuming a GPS accuracy in the order of meters, not centimeters. For example, you can decrease "),r("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_V_NOISE"}},[t._v("EKF2_GPS_V_NOISE")]),t._v(" and "),r("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_P_NOISE"}},[t._v("EKF2_GPS_P_NOISE")]),t._v(" to 0.2.")],1),t._v(" "),r("h4",{attrs:{id:"dual-receivers"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dual-receivers"}},[t._v("#")]),t._v(" Dual Receivers")]),t._v(" "),r("p",[t._v("A second GPS receiver can be used as a backup (either RTK or non RTK). See the "),r("RouterLink",{attrs:{to:"/zh/advanced_config/tuning_the_ecl_ekf.html#gps"}},[t._v("EKF2 GPS Configuration")]),t._v(" section.")],1),t._v(" "),r("h3",{attrs:{id:"vehicle-setup-example"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#vehicle-setup-example"}},[t._v("#")]),t._v(" Vehicle Setup Example")]),t._v(" "),r("p",[t._v("The airframe build topic "),r("RouterLink",{attrs:{to:"/zh/frames_multicopter/dji_flamewheel_450.html"}},[t._v("DJI Flamewheel 450 with distance sensor and RTK GPS")]),t._v(" describes an airframe setup with the Here+ RTK GPS and a Pixhawk 3 Pro.")],1),t._v(" "),r("h2",{attrs:{id:"further-information"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#further-information"}},[t._v("#")]),t._v(" Further Information")]),t._v(" "),r("ul",[r("li",[r("RouterLink",{attrs:{to:"/zh/advanced/rtk_gps.html"}},[t._v("RTK-GPS (PX4-Integration)")]),t._v(": Developer information about integrating RTK-GPS support into PX4.")],1),t._v(" "),r("li",[r("a",{attrs:{href:"https://en.wikipedia.org/wiki/Real_Time_Kinematic",target:"_blank",rel:"noopener noreferrer"}},[t._v("Real Time Kinematic"),r("OutboundLink")],1),t._v(" (Wikipedia)")])])])}),[],!1,null,null,null);e.default=n.exports}}]);