import{_ as r,a as i,b as a,c as o,d as l,e as s,f as n}from"./chunks/gazebo.vuDYJiQ7.js";import{_ as h,c,a8 as t,j as m,o as p}from"./chunks/framework.BDnHobkS.js";const x=JSON.parse('{"title":"Omnicopter","description":"","frontmatter":{},"headers":[],"relativePath":"zh/frames_multicopter/omnicopter.md","filePath":"zh/frames_multicopter/omnicopter.md"}'),d={name:"zh/frames_multicopter/omnicopter.md"};function u(f,e,g,b,k,w){return p(),c("div",null,e[0]||(e[0]=[t('<h1 id="omnicopter" tabindex="-1">Omnicopter <a class="header-anchor" href="#omnicopter" aria-label="Permalink to &quot;Omnicopter&quot;">​</a></h1><p>An Omnicopter is a multicopter that can provide thrust in all directions (6 degrees of freedom). This allows it to move in any direction without having to tilt, and it can hover at an arbitrary tilt angle. All of this is achieved by arranging the motor positions and thrust axis in specific ways:</p><p><img src="'+r+'" alt="Omnicopter"></p><p>This build follows the original design from <a href="https://www.youtube.com/watch?v=sIi80LMLJSY" target="_blank" rel="noreferrer">Brescianini, Dario, and Raffaello D&#39;Andrea</a>.</p><h2 id="bill-of-materials" tabindex="-1">Bill of Materials <a class="header-anchor" href="#bill-of-materials" aria-label="Permalink to &quot;Bill of Materials&quot;">​</a></h2><p>The components needed for this build are:</p><ul><li>Electronics: <ul><li>Flight controller: <a href="./../flight_controller/kakuteh7.html">Holybro KakuteH7</a></li><li>Coupled with 2x <a href="https://holybro.com/products/tekko32-f4-4in1-50a-esc" target="_blank" rel="noreferrer">Tekko32 F4 4in1 ESCs</a><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You can select your own flight controller of choice, it just needs to support 8 DShot outputs.</p></div></li></ul></li></ul><p>:::</p><ul><li>GPS: <a href="https://www.gnss.store/gnss-gps-modules/105-ublox-zed-f9p-rtk-gnss-receiver-board-with-sma-base-or-rover.html?search_query=ZED-F9P&amp;results=11" target="_blank" rel="noreferrer">ZED-F9P</a></li><li><a href="https://www.gnss.store/rf-gps-antennas/28-high-performance-multi-band-gnss-active-quad-helix-antenna-for-rtk.html" target="_blank" rel="noreferrer">GPS helix antenna</a><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Any other GPS may work as well, however a helix antenna is expected to perform better for inverted flights.</p></div></li></ul><p>:::</p><ul><li>Any RC receiver</li><li>An external Magnetometer. We used the <a href="https://store-drotek.com/893-professional-grade-magnetometer-rm3100.html" target="_blank" rel="noreferrer">RM-3100</a>.</li><li>Telemetry link, e.g. <a href="./../telemetry/telemetry_wifi.html">WiFi</a></li><li>Propulsion: <ul><li>Motors: 8x <a href="https://www.getfpv.com/brotherhobby-lpd-2306-5-2000kv-2450kv-2650kv-motor.html" target="_blank" rel="noreferrer">BrotherHobby LPD 2306.5 2000KV/2450KV/2650KV</a></li><li>3D Propellers: 2x <a href="https://www.getfpv.com/hqprop-3d-5x3-5x3-3-blade-propeller-set-of-4.html" target="_blank" rel="noreferrer">HQProp 3D 5X3.5X3 3-Blade Propeller (Set of 4)</a> or 2x <a href="https://www.getfpv.com/gemfan-513d-durable-3-blade-propeller-set-of-4.html" target="_blank" rel="noreferrer">Gemfan 513D 3-Blade 3D Propeller (Set of 4)</a></li><li>Battery: we used a 6S 3300mAh LiPo. Make sure to check the dimensions so it fits the frame.</li><li>Battery strap</li></ul></li><li>Frame: <ul><li>Carbon square tube R 8mm X 7mm X 1000mm, e.g. <a href="https://shop.swiss-composite.ch/pi/Halbfabrikate/Rohre/Vierkant-Rohre/CFK-Vierkantrohr-8x8-7x7mm.html" target="_blank" rel="noreferrer">here</a></li><li>Carbon Rods R 3mm X 2mm X 1000mm, e.g. <a href="https://shop.swiss-composite.ch/pi/Halbfabrikate/Rohre/CFK-Rohre-pultrudiert-pullwinding/Carbon-Microtubes-100cm-x-20-3mm.html" target="_blank" rel="noreferrer">here</a></li><li>Required lengths: <ul><li>square tube: 8 pieces with length of 248mm</li><li>rods: 12x328mm, 6x465mm</li></ul></li><li>Screws: <ul><li>Motors and standoffs: 40x M3x12mm</li><li>FC mount: 4x M3x35mm, 4x M3 nuts</li></ul></li><li>Standoffs: 4x 40mm</li></ul></li><li><a href="https://cad.onshape.com/documents/eaff30985f1298dc6ce8ce13/w/2f662e604240c4082682e5e3/e/ad2b2245b73393cf369132f7" target="_blank" rel="noreferrer">3D model</a></li></ul><p><img src="'+i+'" alt="Parts List"></p><h2 id="组装" tabindex="-1">组装 <a class="header-anchor" href="#组装" aria-label="Permalink to &quot;组装&quot;">​</a></h2><h3 id="框架" tabindex="-1">框架 <a class="header-anchor" href="#框架" aria-label="Permalink to &quot;框架&quot;">​</a></h3><ul><li>Print the 3D parts<div class="info custom-block"><p class="custom-block-title">INFO</p><p>The orientation of the corner pieces matters. You will notice if it&#39;s wrong when the angles of the rods are not correct.</p></div></li></ul><p>:::</p><ul><li><p>Cut the rods</p></li><li><p>Test that it all works by connecting the frame pieces together:</p><p><img src="'+a+'" alt="Frame"></p></li><li><p>Place the motors as far out as possible, without the propellers touching the rods.</p></li></ul><h3 id="electronics" tabindex="-1">Electronics <a class="header-anchor" href="#electronics" aria-label="Permalink to &quot;Electronics&quot;">​</a></h3><p>Solder the peripherals to the flight controller. We used the following assignments:</p><ul><li>ESCs: the 2 ESCs can be connected directly to the two connectors of the KakuteH7. To avoid conflicts we removed the power pin (right-most pin) from one of the connectors.</li><li>Telemetry to UART1</li><li>GPS to UART4</li><li>RC to UART6 <img src="'+o+'" alt="FC closeup"></li></ul><p>Remarks:</p><ul><li>Make sure the magnetometer is placed away from power. We ended up placing it to the bottom of the center-piece with a 4cm padding styrofoam.</li><li>Put some tape on the barometer (without taping the opening!) to avoid any influence from light.</li><li>We did not glue the frame. It is certainly advisible to do so after initial test flights, but it might work without.</li></ul><h2 id="软件配置" tabindex="-1">软件配置 <a class="header-anchor" href="#软件配置" aria-label="Permalink to &quot;软件配置&quot;">​</a></h2><h3 id="esc" tabindex="-1">ESC <a class="header-anchor" href="#esc" aria-label="Permalink to &quot;ESC&quot;">​</a></h3><p>First, configure the ESCs to 3D mode (bidirectional). We had issues with the stock ESC settings in 3D mode: when trying to switch direction, a motor sometimes did not start anymore until the ESC was rebooted. So we had to change ESC settings.</p><p>To do so, you can use Betaflight on the flight controller and then use pass-through mode and the BL Heli suite (make sure there is an airframe with 8 motors configured in Betaflight). These are the settings:</p><p><img src="'+l+'" alt="ESC settings"></p><p>In particular:</p><ul><li>set the Motor Direction to <strong>Bidirectional Soft</strong></li><li>increase the Rampup Power to <strong>100%</strong> (this is conservative and might reduce efficiency)</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Make sure the motors do not overheat with the changed settings.</p></div><h3 id="ros" tabindex="-1">ROS <a class="header-anchor" href="#ros" aria-label="Permalink to &quot;ROS&quot;">​</a></h3><ul><li>Select a generic multicopter airframe</li><li>Use an <a href="./../advanced_config/prearm_arm_disarm.html#arming-button-switch">arming switch</a>, do not use stick arming</li><li><a href="./../config/actuators.html">Select DShot</a> as output protocol on all eight outputs</li><li>Configure the motors according to this: <img src="'+s+'" alt="Motor Config"> We used the following convention: the motors are facing the direction of where the axis points to. The spinning direction matches the direction of positive thrust (moving the motor slider up). Make sure to use the right props, as there is a CCW and a CW version.</li><li>Parameters: <ul><li>Change the desaturation logic for better attitude tracking: set <a href="./../advanced_config/parameter_reference.html#CA_METHOD">CA_METHOD</a> to 0.</li><li>Disable failure detection: set <a href="./../advanced_config/parameter_reference.html#FD_FAIL_P">FD_FAIL_P</a> and <a href="./../advanced_config/parameter_reference.html#FD_FAIL_R">FD_FAIL_R</a> to 0.</li></ul></li><li><a href="https://github.com/PX4/PX4-user_guide/raw/main/assets/airframes/multicopter/omnicopter/omnicopter.params" target="_blank" rel="noreferrer">This file</a> contains all the relevant parameters.</li></ul><h2 id="视频" tabindex="-1">视频 <a class="header-anchor" href="#视频" aria-label="Permalink to &quot;视频&quot;">​</a></h2>',33),m("lite-youtube",{videoid:"nsPkQYugfzs",title:"PX4 Based Omnicopter Using the New Dynamic Control Allocation in v1.13"},null,-1),t('<h2 id="仿真" tabindex="-1">仿真 <a class="header-anchor" href="#仿真" aria-label="Permalink to &quot;仿真&quot;">​</a></h2><p>There is an omnicopter simulation target in Gazebo Classic:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_sitl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gazebo-classic_omnicopter</span></span></code></pre></div><p><img src="'+n+'" alt="Gazebo Sim"></p><h2 id="remarks" tabindex="-1">Remarks <a class="header-anchor" href="#remarks" aria-label="Permalink to &quot;Remarks&quot;">​</a></h2><p>Some general remarks:</p><ul><li>The hover throttle is about 30%.</li><li>The flight time is around 4-5min. This could probably be improved a bit by using larger propellers.</li></ul>',7)]))}const y=h(d,[["render",u]]);export{x as __pageData,y as default};
