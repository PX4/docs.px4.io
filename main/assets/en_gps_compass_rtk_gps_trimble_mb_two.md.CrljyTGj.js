import{_ as t,a}from"./chunks/rtk_trimble_two_gnss_pinouts.Ba6rM9xa.js";import{_ as r,c as o,a8 as n,o as i}from"./chunks/framework.BDnHobkS.js";const _=JSON.parse('{"title":"Trimble MB-Two","description":"","frontmatter":{},"headers":[],"relativePath":"en/gps_compass/rtk_gps_trimble_mb_two.md","filePath":"en/gps_compass/rtk_gps_trimble_mb_two.md"}'),s={name:"en/gps_compass/rtk_gps_trimble_mb_two.md"};function l(c,e,d,h,p,m){return i(),o("div",null,e[0]||(e[0]=[n('<h1 id="trimble-mb-two" tabindex="-1">Trimble MB-Two <a class="header-anchor" href="#trimble-mb-two" aria-label="Permalink to &quot;Trimble MB-Two&quot;">​</a></h1><p>The <a href="https://www.trimble.com/Precision-GNSS/MB-Two-Board.aspx" target="_blank" rel="noreferrer">Trimble MB-Two RTK GPS receiver</a> is a high-end, dual-frequency <a href="./../gps_compass/rtk_gps.html">RTK GPS module</a> that can be configured as either base or rover.</p><p>In addition to providing precise position information, the MB-Two can estimate heading angle (it has dual-antenna support). This is useful for situations where a compass cannot provide reliable heading information, for example when flying close to metal constructs.</p><p><img src="'+t+'" alt="MB-Two Hero image"></p><h2 id="required-firmware-options" tabindex="-1">Required Firmware Options <a class="header-anchor" href="#required-firmware-options" aria-label="Permalink to &quot;Required Firmware Options&quot;">​</a></h2><p>The following firmware options need to be selected when buying the device:</p><ul><li>[X] [2] [N] [G] [W] [Y] [J] for 20Hz position updates and RTK support, 1cm horizontal and 2cm vertical position accuracy</li><li>[L] LBAND</li><li>[D] DUO - Dual Antenna Heading</li><li>[B] BEIDOU + [O] GALILEO, if needed</li></ul><h2 id="antennas-and-cable" tabindex="-1">Antennas and Cable <a class="header-anchor" href="#antennas-and-cable" aria-label="Permalink to &quot;Antennas and Cable&quot;">​</a></h2><p>The Trimble MB-Two requires two dual-frequency (L1/L2) antennas. A good example is the <a href="http://www.maxtena.com/products/helicore/m1227hct-a2-sma/" target="_blank" rel="noreferrer">Maxtenna M1227HCT-A2-SMA</a> (which can be bought, for instance, from <a href="https://uk.farnell.com/maxtena/m1227hct-a2-sma/antenna-1-217-1-25-1-565-1-61ghz/dp/2484959" target="_blank" rel="noreferrer">Farnell</a>).</p><p>The antenna connector type on the device is MMCX. Suitable cables for the above antennas (SMA connector) can be found here:</p><ul><li><a href="https://www.digikey.com/products/en?mpart=415-0073-012&amp;v=24" target="_blank" rel="noreferrer">30 cm version</a></li><li><a href="https://www.digikey.com/products/en?mpart=415-0073-018&amp;v=24" target="_blank" rel="noreferrer">45 cm version</a></li></ul><h2 id="wiring-and-connections" tabindex="-1">Wiring and Connections <a class="header-anchor" href="#wiring-and-connections" aria-label="Permalink to &quot;Wiring and Connections&quot;">​</a></h2><p>The Trimble MB-Two is connected to a UART on the flight controller (GPS port) for data.</p><p>To power the module you will need a separate 3.3V power supply (the maximum consumption is 360mA).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The module cannot be powered from a Pixhawk.</p></div><p>The pins on the 28-pin connector are numbered as shown below:</p><p><img src="'+a+'" alt="MB-Two Pinout"></p><table tabindex="0"><thead><tr><th>Pin</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>6</td><td>Vcc 3.3V</td><td>Power supply</td></tr><tr><td>14</td><td>GND</td><td>Connect to power the supply and GND of the Autopilot</td></tr><tr><td>15</td><td>TXD1</td><td>Connect to RX of the Autopilot</td></tr><tr><td>16</td><td>RXD1</td><td>Connect to TX of the Autopilot</td></tr></tbody></table><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h2><p>First set the GPS protocol to Trimble (<a href="./../advanced_config/parameter_reference.html#GPS_1_PROTOCOL">GPS_x_PROTOCOL=3</a>).</p><p>For heading estimation the two antennas need to be on the same level and at least 30 cm apart from each other. The direction that they are facing does not matter as it can be configured with the <a href="./../advanced_config/parameter_reference.html#GPS_YAW_OFFSET">GPS_YAW_OFFSET</a> parameter.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The <code>GPS_YAW_OFFSET</code> is the angle made by the <em>baseline</em> (the line between the two GPS antennas) relative to the vehicle x-axis (front/back axis, as shown <a href="./../config/flight_controller_orientation.html#calculating-orientation">here</a>).</p></div><p><a href="./../peripherals/serial_configuration.html">Configure the serial port</a> on which the Trimple will run using <a href="./../advanced_config/parameter_reference.html#GPS_1_CONFIG">GPS_1_CONFIG</a>, and set the baud rate to 115200 using <a href="./../advanced_config/parameter_reference.html#SER_GPS1_BAUD">SER_GPS1_BAUD</a>.</p><p>To activate heading fusion for the attitude estimation, set the <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_CTRL">EKF2_GPS_CTRL</a> parameter to enable <em>Dual antenna heading</em>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>See also: <a href="./../gps_compass/#configuring-gps-as-yaw-heading-source">GPS &gt; Configuration &gt; GPS as Yaw/Heading Source</a></p></div>',25)]))}const b=r(s,[["render",l]]);export{_ as __pageData,b as default};
