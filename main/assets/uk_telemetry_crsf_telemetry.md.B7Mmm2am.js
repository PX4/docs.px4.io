import{_ as t,c as r,a8 as a,o as s}from"./chunks/framework.BDnHobkS.js";const u=JSON.parse('{"title":"Телеметрія CRSF (TBS Crossfire Telemetry)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/telemetry/crsf_telemetry.md","filePath":"uk/telemetry/crsf_telemetry.md"}'),o={name:"uk/telemetry/crsf_telemetry.md"};function i(l,e,d,n,h,p){return s(),r("div",null,e[0]||(e[0]=[a('<h1 id="телеметрія-crsf-tbs-crossfire-telemetry" tabindex="-1">Телеметрія CRSF (TBS Crossfire Telemetry) <a class="header-anchor" href="#телеметрія-crsf-tbs-crossfire-telemetry" aria-label="Permalink to &quot;Телеметрія CRSF (TBS Crossfire Telemetry)&quot;">​</a></h1><p>CRSF is a telemetry protocol that can be used for both <a href="./../getting_started/rc_transmitter_receiver.html">RC control</a> and to get telemetry information from the vehicle/flight controller on a compatible RC transmitter.</p><p>The protocol was developed by <a href="https://www.team-blacksheep.com/" target="_blank" rel="noreferrer">Team BlackSheep</a> for their Crossfire RC system, but is also used by <a href="https://www.expresslrs.org/" target="_blank" rel="noreferrer">ExpressLRS (ELRS)</a> RC systems. Це бідирекціональний протокол, який потребує лише одного UART для обміну даними як з RC, так і з телеметрією.</p><p>The <a href="#telemetry-messages">supported telemetry messages are listed here</a>, and include: flight mode, battery level, GPS data RC signal strength, speed, altitude, and so on.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If you don&#39;t need telemetry you can connect a TBS Crossfire to the <code>RCIN</code> port and configure the receiver to use S.BUS. Crossfire radio systems can also be used as <a href="./../telemetry/">Telemetry Radios</a>.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>PX4 does not include the CRSF protocol support by default. The <a href="#px4-configuration">instructions below</a> explain how to build and upload custom PX4 firmware that includes the required modules.</p></div><h2 id="налаштування-системи-радіо" tabindex="-1">Налаштування системи радіо <a class="header-anchor" href="#налаштування-системи-радіо" aria-label="Permalink to &quot;Налаштування системи радіо&quot;">​</a></h2><p>To use CRSF telemetry you will need a <a href="#tbs-radio-systems">TBS Crossfire radio system</a> or <a href="#expresslrs-radio-systems">ExpressLRS radio system</a> that includes an <a href="#rc-controllers">RC controller</a> with a transmitter, and a receiver (from the same vendor).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>An RC radio system historically consisted of a ground-based controller that transmitted to an on-vehicle receiver. Навіть якщо багато радіосистем зараз є двосторонніми, земельний модуль все ще може називатися передавачем, а повітряний блок може називатися приймачем.</p></div><p>Generally you will need to separately setup and configure the transmitter and receiver, and then <em>bind</em> them together.</p><p>A transmitter might come as an integral part of an <a href="#rc-controllers">RC controller</a>, or it might be a separate module that you plug into a controller. Якщо це окремий модуль, то вам може знадобитися також оновити програмне забезпечення модуля на передавачі на прошивку, яка підтримує CRSF, таку як OpenTX або EdgeTx. У обох випадках вам потрібно налаштувати передавач для активації CRSF.</p><p>The receiver must be <a href="#wiring">wired</a> to a spare port (UART) on the Flight Controller. Then you can <em>bind</em> the transmitter and receiver together.</p><p>Інструкції для вищезазначених кроків описані в</p><ul><li><a href="https://www.team-blacksheep.com/tbs-crossfire-manual.pdf" target="_blank" rel="noreferrer">TBS Crossfire Manual</a></li><li><a href="https://www.expresslrs.org/quick-start/getting-started/" target="_blank" rel="noreferrer">Express LRS: QuickStart</a></li></ul><h3 id="підключення" tabindex="-1">Підключення <a class="header-anchor" href="#підключення" aria-label="Permalink to &quot;Підключення&quot;">​</a></h3><p>TX і RX на обраному екрані контролю польоту потрібно підключитися до окремих каналів на приймачі. Сигнал зазвичай є неінвертованим і може бути підключений безпосередньо (в кабелі не потрібна додаткова логіка інвертора). Вам слід перевірити посібник для вашого конкретного приймача, однак!</p><h4 id="проводка-приимача-tbs" tabindex="-1">Проводка приймача TBS <a class="header-anchor" href="#проводка-приимача-tbs" aria-label="Permalink to &quot;Проводка приймача TBS&quot;">​</a></h4><p>Для приймачів TBS ви підключаєте UART і приймач FC, як показано (це передбачає TBS Nano RX).</p><table tabindex="0"><thead><tr><th>FC UART</th><th>Nano RX</th></tr></thead><tbody><tr><td>TX</td><td>Ch2</td></tr><tr><td>RX</td><td>Ch1</td></tr></tbody></table><h4 id="проводка-приимача-expresslrs" tabindex="-1">Проводка приймача ExpressLRS <a class="header-anchor" href="#проводка-приимача-expresslrs" aria-label="Permalink to &quot;Проводка приймача ExpressLRS&quot;">​</a></h4><p>For ExpressLRS receivers wire to the flight controller UART as shown below (wiring is covered <a href="https://www.expresslrs.org/quick-start/receivers/wiring-up/" target="_blank" rel="noreferrer">in detail here</a>):</p><table tabindex="0"><thead><tr><th>FC UART</th><th>ExpressLRS</th></tr></thead><tbody><tr><td>TX</td><td>RX</td></tr><tr><td>RX</td><td>TX</td></tr><tr><td>VCC</td><td>VCC</td></tr><tr><td>GND</td><td>GND</td></tr></tbody></table><h2 id="конфігурація-px4" tabindex="-1">Конфігурація PX4 <a class="header-anchor" href="#конфігурація-px4" aria-label="Permalink to &quot;Конфігурація PX4&quot;">​</a></h2><h3 id="конфігурація-прошивки-збірка" tabindex="-1">Конфігурація прошивки/збірка <a class="header-anchor" href="#конфігурація-прошивки-збірка" aria-label="Permalink to &quot;Конфігурація прошивки/збірка&quot;">​</a></h3><p>Підтримка телеметрії CRSF не включена в жодне ПЗ PX4 за замовчуванням. To use this feature you must build and upload custom firmware that includes <a href="./../modules/modules_driver.html#crsf-rc">crsf-rc</a> and removes <a href="./../modules/modules_driver.html#rc-input">rc_input</a>.</p><p>Кроки наступні:</p><ol><li><p><a href="./../dev_setup/dev_env.html">Setup a development environment</a> for building PX4.</p><p>As part of this process you will have used <code>git</code> to fetch source code into the <strong>PX4-Autopilot</strong> directory.</p></li><li><p>Open a terminal and <code>cd</code> into the <code>PX4-Autopilot</code> directory.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4-Autopilot</span></span></code></pre></div></li><li><p>Launch the <a href="./../hardware/porting_guide_config.html#px4-menuconfig-setup">PX4 board config tool (<code>menuconfig</code>)</a> for your <code>make</code> target using the <code>boardconfig</code> option (here the target is the <a href="./../flight_controller/ark_v6x.html">ARK Electronics ARKV6X</a> flight controller):</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ark_fmu-v6x_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> boardconfig</span></span></code></pre></div></li><li><p>У інструменті конфігурації плати PX4:</p><ul><li>Disable the default <code>rc_input</code> module <ol><li>Navigate to the <code>drivers</code> submenu, then scroll down to highlight <code>rc_input</code>.</li><li>Use the enter key to remove the <code>*</code> from <code>rc_input</code> checkbox.</li></ol></li><li>Enable the <code>crsf_rc</code> module <ol><li>Scroll to highlight the <code>RC</code> submenu, then press enter to open it.</li><li>Scroll to highlight <code>crsf_rc</code> and press enter to enable it.</li></ol></li></ul><p>Збережіть і вийдіть з інструменту конфігурації плати PX4.</p></li><li><p><a href="./../dev_setup/building_px4.html">Build the PX4 source code</a> with your changes (again assuming you are using ARKV6X):</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ark_fmu-v6x_default</span></span></code></pre></div></li></ol><p>Це побудує вашу власну прошивку, яку зараз потрібно завантажити на ваш контролер польоту.</p><h3 id="завантаження-прошивки" tabindex="-1">Завантаження прошивки <a class="header-anchor" href="#завантаження-прошивки" aria-label="Permalink to &quot;Завантаження прошивки&quot;">​</a></h3><p>Щоб завантажити кастомну прошивку, спочатку підключіть ваш контролер польотів до комп’ютера розробки через USB.</p><p>You can upload firmware as part of the build process using the <code>upload</code> options:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ark_fmu-v6x_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload</span></span></code></pre></div><p>Alternatively you can use QGroundControl to install the firmware, as described in <a href="./../config/firmware.html#installing-px4-main-beta-or-custom-firmware">Firmware &gt; Installing PX4 master, beta, or custom firmware</a>.</p><h3 id="налаштування-параметрів" tabindex="-1">Налаштування параметрів <a class="header-anchor" href="#налаштування-параметрів" aria-label="Permalink to &quot;Налаштування параметрів&quot;">​</a></h3><p><a href="./../advanced_config/parameters.html">Find and set</a> the following parameters:</p><ol><li><p><a href="./../advanced_config/parameter_reference.html#RC_CRSF_PRT_CFG">RC_CRSF_PRT_CFG</a> — Set to the port that is connected to the CRSF receiver (such as <code>TELEM1</code>).</p><p>This <a href="./../peripherals/serial_configuration.html">configures the serial port</a> to use the CRSF protocol. Note that some serial ports may already have a <a href="./../peripherals/serial_configuration.html#default-serial-port-configuration">default serial port mapping</a> or <a href="./../peripherals/mavlink_peripherals.html#default-mavlink-ports">default MAVLink serial port mapping</a> that you will have to un-map before you can assign the port to CRSF. For example, if you want to use <code>TELEM1</code> or <code>TELEM2</code> you first need to modify <a href="./../advanced_config/parameter_reference.html#MAV_0_CONFIG">MAV_0_CONFIG</a> or <a href="./../advanced_config/parameter_reference.html#MAV_1_CONFIG">MAV_1_CONFIG</a> to stop setting those ports.</p><p>Немає потреби встановлювати швидкість передачі для порту, оскільки це налаштовано драйвером.</p></li><li><p><a href="./../advanced_config/parameter_reference.html#RC_CRSF_TEL_EN">RC_CRSF_TEL_EN</a> — Enable to activate Crossfire telemetry.</p></li></ol><h3 id="налаштування-радіо" tabindex="-1">Налаштування радіо <a class="header-anchor" href="#налаштування-радіо" aria-label="Permalink to &quot;Налаштування радіо&quot;">​</a></h3><p><a href="./../config/radio.html">Radio Control Setup</a> explains how to map your RC controller&#39;s attitude control sticks (roll, pitch, yaw, throttle) to channels, and to calibrate the minimum, maximum, trim and reverse settings for all other transmitter controls/RC channels.</p><h2 id="контролери-rc" tabindex="-1">Контролери RC <a class="header-anchor" href="#контролери-rc" aria-label="Permalink to &quot;Контролери RC&quot;">​</a></h2><p>Трансмітер може бути неот&#39;ємною частиною керування RC, або це може бути окремий модуль, який ви вставляєте в контролер.</p><p>RC Контролери, які підтримують модулі TX TBS Crossfire та ExpressLRS:</p><ul><li><a href="https://www.frsky-rc.com/product/taranis-x9d-plus-2/" target="_blank" rel="noreferrer">FrSky Taranis X9D Plus</a> has an external module bay that can be used with TBS or ExpressLRS transmitter modules that are &quot;JR module bay&quot; compatible. Вам потрібно буде встановити програмне забезпечення OpenTX, яке підтримує CRSF, та увімкнути зовнішній модуль та CRSF.</li><li><a href="https://www.radiomasterrc.com/collections/tx16s-mkii" target="_blank" rel="noreferrer">Radiomaster TX16S</a> has an internal ExpressLRS transmitter module. Він також має зовнішній модульний бей, який може бути використаний з передавальними модулями TBS або ExpressLRS, які сумісні з &quot;JR module bay&quot;. Він працює як на програмному забезпеченні OpenTX, так і на програмному забезпеченні EdgeTx, кожне з яких може підтримувати CRSF.</li></ul><h2 id="радіосистеми-tbs" tabindex="-1">Радіосистеми TBS <a class="header-anchor" href="#радіосистеми-tbs" aria-label="Permalink to &quot;Радіосистеми TBS&quot;">​</a></h2><p><a href="https://www.team-blacksheep.com/shop/cat:cat_crossfire#product_listing" target="_blank" rel="noreferrer">TBS Crossfire Radio Systems are listed here</a>. Нижче наведено кілька опцій «turnkey».</p><p>Модулі передавача:</p><ul><li><a href="https://www.team-blacksheep.com/products/prod:crossfire_tx" target="_blank" rel="noreferrer">TBS CROSSFIRE TX - LONG RANGE R/C TRANSMITTER</a></li></ul><p>Приймачі:</p><ul><li><a href="http://team-blacksheep.com/products/prod:crossfire_nano_rx" target="_blank" rel="noreferrer">TBS Crossfire Nano RX</a> - designed for small quadcopters.</li></ul><h2 id="системи-радіо-expresslrs" tabindex="-1">Системи радіо ExpressLRS <a class="header-anchor" href="#системи-радіо-expresslrs" aria-label="Permalink to &quot;Системи радіо ExpressLRS&quot;">​</a></h2><p>Express LRS provide Radio System guidance in the <a href="https://www.expresslrs.org/hardware/hardware-selection/" target="_blank" rel="noreferrer">Hardware Selection</a> page. Нижче наведено кілька перевірених варіантів.</p><p>Модулі передавача:</p><ul><li>Уточнюється</li></ul><p>Приймачі:</p><ul><li><p><a href="http://www.mateksys.com/?portfolio=elrs-r24" target="_blank" rel="noreferrer">ExpressLRS Matek Diversity RX</a>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This is used in the <a href="./../frames_plane/reptile_dragon_2.html">Reptile Dragon 2 Build Log</a>. See sections <a href="./../frames_plane/reptile_dragon_2.html#elrs-rx">ELRS Rx</a> and <a href="./../frames_plane/reptile_dragon_2.html#radio-setup">Radio Setup</a>.</p></div></li></ul><p>:::</p><h2 id="телеметричні-повідомлення" tabindex="-1">Телеметричні повідомлення <a class="header-anchor" href="#телеметричні-повідомлення" aria-label="Permalink to &quot;Телеметричні повідомлення&quot;">​</a></h2><p>The supported telemetry messages and their source are listed below (this table is reproduced from the <a href="https://www.team-blacksheep.com/tbs-crossfire-manual.pdf" target="_blank" rel="noreferrer">TBS Crossfire Manual: &quot;Available sensors with OpenTX&quot;</a>).</p><table tabindex="0"><thead><tr><th>Datapoint</th><th>Опис</th><th>Джерела даних</th></tr></thead><tbody><tr><td>1RSS</td><td>Uplink - отримана сила сигналу антени 1 (RSSI)</td><td>TBS CROSSFIRE RX</td></tr><tr><td>2RSS</td><td>Uplink - отримана сила сигналу антени 2 (RSSI)</td><td>TBS CROSSFIRE RX</td></tr><tr><td>RQly</td><td>Uplink - якість посилання (дійсні пакети)</td><td>TBS CROSSFIRE RX</td></tr><tr><td>RSNR</td><td>Uplink - відношення сигнал/шум</td><td>TBS CROSSFIRE RX</td></tr><tr><td>RFMD</td><td>Uplink - частота оновлення, 0 = 4Гц, 1 = 50Гц, 2 = 150Гц</td><td>TBS CROSSFIRE RX</td></tr><tr><td>TPWR</td><td>Uplink - потужність передачі</td><td>TBS CROSSFIRE TX</td></tr><tr><td>TRSS</td><td>Downlink - сила сигналу антени</td><td>TBS CROSSFIRE TX</td></tr><tr><td>TQly</td><td>Downlink - якість посилання (дійсні пакети)</td><td>TBS CROSSFIRE TX</td></tr><tr><td>TSNR</td><td>Downlink - відношення сигнал/шум</td><td>TBS CROSSFIRE TX</td></tr><tr><td>ANT</td><td>Датчик лише для налагодження</td><td>TBS CROSSFIRE TX</td></tr><tr><td>GPS</td><td>GPS координати</td><td>TBS GPS / FC</td></tr><tr><td>Alt</td><td>GPS Висоти</td><td>TBS GPS / FC</td></tr><tr><td>Sats</td><td>Супутники GPS отримано</td><td>TBS GPS / FC</td></tr><tr><td>Hdg</td><td>Магнітна орієнтація</td><td>TBS GPS / FC</td></tr><tr><td>RXBt</td><td>Напруга батареї</td><td>TBS GPS / FC/ CROSSFIRE RX/ CORE</td></tr><tr><td>Curr</td><td>Поточне витягування</td><td>TBS GPS / FC// CORE</td></tr><tr><td>Capa</td><td>Поточне споживання</td><td>TBS GPS / FC/ CORE</td></tr><tr><td>Ptch</td><td>Кут нахилу поля FC</td><td>FC</td></tr><tr><td>Roll</td><td>Кут кочення FC</td><td>FC</td></tr><tr><td>Yaw</td><td>Кут курсу FC</td><td>FC</td></tr><tr><td>FM</td><td>Режим польоту</td><td>FC</td></tr><tr><td>VSPD</td><td>Барометр</td><td>FC</td></tr></tbody></table><h2 id="дивіться-також" tabindex="-1">Дивіться також <a class="header-anchor" href="#дивіться-також" aria-label="Permalink to &quot;Дивіться також&quot;">​</a></h2><ul><li><a href="https://www.team-blacksheep.com/tbs-crossfire-manual.pdf" target="_blank" rel="noreferrer">TBS Crossfire Manual</a></li><li><a href="https://www.expresslrs.org/quick-start/getting-started/" target="_blank" rel="noreferrer">ExpressLRS Documentation</a></li><li><a href="./../peripherals/frsky_telemetry.html">FrSky Telemetry</a></li><li><a href="./../config/radio.html">Radio Control Setup</a></li><li><a href="./../getting_started/rc_transmitter_receiver.html">Radio Control Systems</a></li></ul>',60)]))}const m=t(o,[["render",i]]);export{u as __pageData,m as default};
