import{_ as t,c as i,a8 as o,o as a}from"./chunks/framework.BDnHobkS.js";const h=JSON.parse('{"title":"Інструментарій на віртуальних машинах Windows","description":"","frontmatter":{},"headers":[],"relativePath":"uk/dev_setup/dev_env_windows_vm.md","filePath":"uk/dev_setup/dev_env_windows_vm.md"}'),l={name:"uk/dev_setup/dev_env_windows_vm.md"};function s(n,e,r,p,d,u){return a(),i("div",null,e[0]||(e[0]=[o('<h1 id="інструментаріи-на-віртуальних-машинах-windows" tabindex="-1">Інструментарій на віртуальних машинах Windows <a class="header-anchor" href="#інструментаріи-на-віртуальних-машинах-windows" aria-label="Permalink to &quot;Інструментарій на віртуальних машинах Windows&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This development environment is <a href="./../advanced/community_supported_dev_env.html">community supported and maintained</a>. Це може працювати або не працювати з поточними версіями PX4.</p><p>Дивіться <a href="./../dev_setup/dev_env.html">Встановлення інструментарію</a> для інформації про середовища та інструменти, що підтримуються основною командою розробників.</p></div><p>Розробники на Windows можуть використовувати інструментарій PX4 у віртуальній машині (VM) з гостьовою операційною системою Linux. Після створення віртуальної машини, установка та налаштування PX4 у VM така сама, як і на звичайному комп&#39;ютері з Linux.</p><p>Хоч використання віртуальної машини - це простий спосіб налаштувати та протестувати середовище для збірки прошивки, користувачі повинні взяти до уваги:</p><ol><li>Збірка прошивки буде повільніша, ніж нативна збірка на Linux.</li><li>У симуляції JMAVSim частота кадрів набагато повільніша, ніж на рідному Linux. В деяких випадках засіб може розбитися через проблеми, пов&#39;язані з недостатніми ресурсами віртуальної машини.</li><li>Gazebo та ROS встановлюються, але повільні настільки що ними неможливо користуватись.</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Allocate as many CPU cores and memory resources to the VM as possible.</p></div><p>Існує кілька способів налаштування VM, яка здатна виконувати PX4 середовище на вашій системі. Цей посібник допоможе вам налаштувати VMWare. В кінці є неповний розділ для VirtualBox (і ми запрошуємо до розширення цього розділу когось з членів спільноти).</p><h2 id="налаштування-vmware" tabindex="-1">Налаштування VMWare <a class="header-anchor" href="#налаштування-vmware" aria-label="Permalink to &quot;Налаштування VMWare&quot;">​</a></h2><p>Ефективність VMWare прийнятна для основного застосування (збірки прошивки) але не для запуску ROS чи Gazebo Classic.</p><ol><li><p>Download <a href="https://www.vmware.com/products/workstation-player/workstation-player-evaluation.html" target="_blank" rel="noreferrer">VMWare Player Freeware</a></p></li><li><p>Установіть його на вашу Windows систему</p></li><li><p>Download the desired version of <a href="https://www.ubuntu.com/download/desktop" target="_blank" rel="noreferrer">Ubuntu Desktop ISO Image</a>. (see <a href="./../dev_setup/dev_env_linux.html">Linux Instructions Page</a> for recommended Ubuntu version).</p></li><li><p>Open <em>VMWare Player</em>.</p></li><li><p>Enable 3D acceleration in the VM&#39;s settings: <strong>VM &gt; Settings &gt; Hardware &gt; Display &gt; Accelerate 3D graphics</strong></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This option is required to properly run 3D simulation environments like jMAVSim and Gazebo Classic. Рекомендуємо зробити це перед встановленням Linux у віртуальному середовищі.</p></div></li></ol><p>:::</p><ol start="6"><li><p>Перейдіть до створення нової віртуальної машини.</p></li><li><p>У майстрі створення VM оберіть завантажений ISO образ з Ubuntu як носій установки з якого буде автоматично виявлено операційну систему, яку ви хочете використати.</p></li><li><p>Також у майстрі, оберіть ресурси, які ви хочете виділити віртуальній машині під час роботи. Виділіть стільки пам&#39;яті та ядер процесора скільки зможете таким чином щоб вашою основною Windows системою можна було продовжити користуватись.</p></li><li><p>Запустіть нову VM в кінці майстра та завершіть встановлення Ubuntu відповідно до інструкцій з установки. Запам&#39;ятайте, всі налаштування потрібні тільки для використання у вашій основній операційній системі, тому можна вимкнути будь-який режим збереження екрана та функції безпеки локальні робочої станції, що не збільшують ризик мережевої атаки.</p></li><li><p>Once the new VM is booted up make sure you install <em>VMWare tools drivers and tools extension</em> inside your guest system. Це підвищить продуктивність та зручність користування віртуальною машиною:</p><ul><li>Значно поліпшена продуктивність графіки</li><li>Належна підтримка використання апаратного забезпечення, наприклад розподілу портів USB (важливо для завантаження прошивок), прокручування коліщатком миші, підтримка звуку</li><li>Адаптація роздільної здатності дисплею гостя до розміру вікна емулятора</li><li>Спільний доступ до буфера обміну з основної ОС</li><li>Спільний доступ до файлів з основної ОС</li></ul></li><li><p>Continue with <a href="./../dev_setup/dev_env_linux.html">PX4 environment setup for Linux</a></p></li></ol><h2 id="налаштування-virtualbox-7" tabindex="-1">Налаштування VirtualBox 7 <a class="header-anchor" href="#налаштування-virtualbox-7" aria-label="Permalink to &quot;Налаштування VirtualBox 7&quot;">​</a></h2><p>Налаштування VirtualBox схоже на VMWare. Учасники спільноти, запрошуємо до створення покрокових інструкцій для цього розділу!</p><h3 id="пропускання-usb-для-qgroundcontrol-запису-прошивки" tabindex="-1">Пропускання USB для QGroundControl / запису прошивки <a class="header-anchor" href="#пропускання-usb-для-qgroundcontrol-запису-прошивки" aria-label="Permalink to &quot;Пропускання USB для QGroundControl / запису прошивки&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This section has been tested for VirtualBox 7 running Ubuntu 20.04 LTS on a Windows 10 host machine.</p></div><p>One limitation of virtual machines is that you can&#39;t automatically connect to a flight controller attached to the host computer USB port in order to <a href="./../dev_setup/building_px4.html#uploading-firmware-flashing-the-board">build and upload PX4 firmware from a terminal</a>. Також, не можна приєднатися до польотного контролера з QGroundControl в віртуальній машині.</p><p>Щоб дозволити це, необхідно налаштувати параметри пропуску USB:</p><ol><li><p>Переконайтеся, що користувач був доданий в групу dialout в VM використовуючи команду терміналу:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dialout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $USER</span></span></code></pre></div><p>Потім перезавантажте Ubuntu у віртуальній машині.</p></li><li><p>Enable serial port(s) in VM: <strong>VirtualBox &gt; Settings &gt; Serial Ports 1/2/3/etc...</strong></p></li><li><p>Enable USB controller in VM: <strong>VirtualBox &gt; Settings &gt; USB</strong></p></li><li><p>Add USB filters for the bootloader in VM: <strong>VirtualBox &gt; Settings &gt; USB &gt; Add new USB filter</strong>.</p><ul><li><p>Відкрийте меню і під&#39;єднайте USB-кабель, підключений до автопілота. Select the <code>...Bootloader</code> device when it appears in the UI.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The bootloader device only appears for a few seconds after connecting USB. Якщо він зникає до того як ви змогли обрати його, від&#39;єднайте та повторно під&#39;єднайте USB.</p></div></li></ul></li></ol><p>:::</p><ul><li>Select the <code>...Autopilot</code> device when it appears (this happens after the bootloader completes).</li></ul><ol start="5"><li>Select the device in the VM instance&#39;s dropdown menu <strong>VirtualBox &gt; Devices &gt; your_device</strong></li></ol><p>If successful, your device will show up with <code>lsusb</code> and QGroundControl will connect to the device automatically. Ви також матимете можливість збирати та завантажувати прошивку за допомогою команди:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v5_default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upload</span></span></code></pre></div><h3 id="телеметрія-через-wifi-для-qgroundcontrol" tabindex="-1">Телеметрія через WiFi для QGroundControl <a class="header-anchor" href="#телеметрія-через-wifi-для-qgroundcontrol" aria-label="Permalink to &quot;Телеметрія через WiFi для QGroundControl&quot;">​</a></h3><p>If using <em>QGroundControl</em> within a virtual machine you should set the VM networking settings to &quot;Bridged Adapter&quot; mode. Це дає гостьовій ОС прямий доступ до мережевого обладнання на основній машині. Якщо ви використовуєте режим трансляції мережевих адрес (NAT), який встановлюється за замовчуванням для VirtualBox 7 для Ubuntu 20.04 LTS, це заблокує вихідні UDP-пакети, які використовує QGroundControl для зв&#39;язку з рухомим засобом.</p>',26)]))}const m=t(l,[["render",s]]);export{h as __pageData,m as default};
