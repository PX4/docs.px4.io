import{_ as i,c as a,a8 as l,o as s}from"./chunks/framework.BDnHobkS.js";const u=JSON.parse('{"title":"Інжекція помилки системи","description":"","frontmatter":{},"headers":[],"relativePath":"uk/debug/failure_injection.md","filePath":"uk/debug/failure_injection.md"}'),t={name:"uk/debug/failure_injection.md"};function n(o,e,r,d,h,c){return s(),a("div",null,e[0]||(e[0]=[l(`<h1 id="інжекція-помилки-системи" tabindex="-1">Інжекція помилки системи <a class="header-anchor" href="#інжекція-помилки-системи" aria-label="Permalink to &quot;Інжекція помилки системи&quot;">​</a></h1><p>System failure injection allows you to induce different types of sensor and system failures, either programmatically using the <a href="https://mavsdk.mavlink.io/main/en/cpp/api_reference/classmavsdk_1_1_failure.html" target="_blank" rel="noreferrer">MAVSDK failure plugin</a>, or &quot;manually&quot; via a PX4 console like the <a href="./../debug/mavlink_shell.html#mavlink-shell">MAVLink shell</a>. This enables easier testing of <a href="./../config/safety.html">safety failsafe</a> behaviour, and more generally, of how PX4 behaves when systems and sensors stop working correctly.</p><p>Failure injection is disabled by default, and can be enabled using the <a href="./../advanced_config/parameter_reference.html#SYS_FAILURE_EN">SYS_FAILURE_EN</a> parameter.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Failure injection still in development. На момент написання (PX4 v1.14):</p><ul><li>Це можна використовувати лише в симуляції (підтримка як для впровадження в реальному польоті запланована).</li><li>Потребує підтримки в симуляторі. Це підтримується в Gazebo Classic</li><li>Багато типів відмов не широко реалізовані. У таких випадках команда повернеться з повідомленням &quot;unsupported&quot;.</li></ul></div><h2 id="команда-системи-збою" tabindex="-1">Команда системи збою <a class="header-anchor" href="#команда-системи-збою" aria-label="Permalink to &quot;Команда системи збою&quot;">​</a></h2><p>Failures can be injected using the <a href="./../modules/modules_command.html#failure">failure system command</a> from any PX4 console/shell, specifying both the target and type of the failure.</p><h3 id="синтаксис" tabindex="-1">Синтаксис <a class="header-anchor" href="#синтаксис" aria-label="Permalink to &quot;Синтаксис&quot;">​</a></h3><p>The full syntax of the <a href="./../modules/modules_command.html#failure">failure</a> command is:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">failure</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">componen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">failure_typ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">instance_numbe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]</span></span></code></pre></div><p>де:</p><ul><li><em>component</em>: <ul><li>Датчики: <ul><li><code>gyro</code>: Gyro.</li><li><code>accel</code>: Accelerometer.</li><li><code>mag</code>: Magnetometer</li><li><code>baro</code>: Barometer</li><li><code>gps</code>: GPS</li><li><code>optical_flow</code>: Optical flow.</li><li><code>vio</code>: Visual inertial odometry.</li><li><code>distance_sensor</code>: Distance sensor (rangefinder).</li><li><code>airspeed</code>: Airspeed sensor.</li></ul></li><li>Системи: <ul><li><code>battery</code>: Battery.</li><li><code>motor</code>: Motor.</li><li><code>servo</code>: Servo.</li><li><code>avoidance</code>: Avoidance.</li><li><code>rc_signal</code>: RC Signal.</li><li><code>mavlink_signal</code>: MAVLink signal (data telemetry).</li></ul></li></ul></li><li><em>failure_type</em>: <ul><li><code>ok</code>: Publish as normal (Disable failure injection).</li><li><code>off</code>: Stop publishing.</li><li><code>stuck</code>: Report same value every time (<em>could</em> indicate a malfunctioning sensor).</li><li><code>garbage</code>: Publish random noise. Це схоже на читання неініціалізованої пам&#39;яті.</li><li><code>wrong</code>: Publish invalid values (that still look reasonable/aren&#39;t &quot;garbage&quot;).</li><li><code>slow</code>: Publish at a reduced rate.</li><li><code>delayed</code>: Publish valid data with a significant delay.</li><li><code>intermittent</code>: Publish intermittently.</li></ul></li><li><em>instance number</em> (optional): Instance number of affected sensor. 0 (за замовчуванням) вказує на всі сенсори вказаного типу.</li></ul><h3 id="приклад" tabindex="-1">Приклад <a class="header-anchor" href="#приклад" aria-label="Permalink to &quot;Приклад&quot;">​</a></h3><p>Щоб симулювати втрату сигналу RC без вимкнення вашого пульта керування RC:</p><ol><li><p>Enable the parameter <a href="./../advanced_config/parameter_reference.html#SYS_FAILURE_EN">SYS_FAILURE_EN</a>.</p></li><li><p>Enter the following commands on the MAVLink console or SITL <em>pxh shell</em>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Fail RC (turn publishing off)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">failure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rc_signal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> off</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Restart RC publishing</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">failure</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rc_signal</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ok</span></span></code></pre></div></li></ol><h2 id="mavsdk-відлагоджувальнии-плагін" tabindex="-1">MAVSDK відлагоджувальний плагін <a class="header-anchor" href="#mavsdk-відлагоджувальнии-плагін" aria-label="Permalink to &quot;MAVSDK відлагоджувальний плагін&quot;">​</a></h2><p>The <a href="https://mavsdk.mavlink.io/main/en/cpp/api_reference/classmavsdk_1_1_failure.html" target="_blank" rel="noreferrer">MAVSDK failure plugin</a> can be used to programmatically inject failures. It is used in <a href="./../test_and_ci/integration_testing_mavsdk.html">PX4 Integration Testing</a> to simulate failure cases (for example, see <a href="https://github.com/PX4/PX4-Autopilot/blob/main/test/mavsdk_tests/autopilot_tester.cpp" target="_blank" rel="noreferrer">PX4-Autopilot/test/mavsdk_tests/autopilot_tester.cpp</a>).</p><p>API плагіна - це пряме відображення команди збою, показаної вище, з деякими додатковими сигналами про помилки, пов&#39;язані з підключенням.</p>`,17)]))}const k=i(t,[["render",n]]);export{u as __pageData,k as default};
