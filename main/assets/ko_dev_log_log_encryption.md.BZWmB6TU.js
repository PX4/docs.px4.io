import{_ as a,a as t}from"./chunks/kconfig-crypto-2.BXUBsmA_.js";import{_ as o}from"./chunks/encrypted_log.BDedu8U-.js";import{_ as n,c as l,j as s,a as r,G as p,a8 as d,B as h,o as c}from"./chunks/framework.BDnHobkS.js";const _=JSON.parse('{"title":"Log Encryption","description":"","frontmatter":{},"headers":[],"relativePath":"ko/dev_log/log_encryption.md","filePath":"ko/dev_log/log_encryption.md"}'),k={name:"ko/dev_log/log_encryption.md"};function y(u,e,g,m,F,b){const i=h("Badge");return c(),l("div",null,[e[0]||(e[0]=s("h1",{id:"log-encryption",tabindex:"-1"},[r("Log Encryption "),s("a",{class:"header-anchor",href:"#log-encryption","aria-label":'Permalink to "Log Encryption"'},"​")],-1)),p(i,{type:"tip",text:"PX4 v1.13"}),e[1]||(e[1]=d(`<p>The <a href="./../modules/modules_system.html#logger">System Logger</a> can be used to create encrypted logs, which may then be decrypted manually before analysis.</p><p>The default encryption algorithm is XChaCha20, and the default wrapping algorithm is RSA2048-OAEP.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Log encryption is not enabled by default in PX4 firmware builds. To use it you will need to build firmware with this feature enabled and then upload it to the flight controller (see instructions below).</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The encryption algorithm used is set in <a href="./../advanced_config/parameter_reference.html#SDLOG_ALGORITHM">SDLOG_ALGORITHM</a>. At time of writing, only <code>XChaCha20</code> is supported (AES can be selected, but there is no implementation).</p></div><h2 id="how-ulog-encryption-works" tabindex="-1">How ULog Encryption Works <a class="header-anchor" href="#how-ulog-encryption-works" aria-label="Permalink to &quot;How ULog Encryption Works&quot;">​</a></h2><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This process assumes the default XChaCha20 algorithm is used. If another <a href="./../advanced_config/parameter_reference.html#SDLOG_ALGORITHM">SDLOG_ALGORITHM</a> is used, the process is <em>likely</em> to remain the same.</p></div><p>The encryption process for each new ULog is:</p><ol><li>A ULog file is created and opened for writing on the SD card. This is named with the file extension <code>.ulogc</code>(ulog cipher).</li><li>A XChaCha20 symmetric key is generated and encrypted using an RSA2048 public key. This encrypted/wrapped key is stored on the SD card in a file that has the suffix <code>.ulgk</code> (ulog wrapped key).</li><li>The unencrypted symmetric key is used to encrypt ULog data blocks before they are written to disk (the <code>.ulogc</code> file).</li></ol><p>After the flight, there are two files on the SD card:</p><ul><li><code>.ulogc</code> (ulog cipher): the encrypted log file data.</li><li><code>.ulogk</code> (ulog wrapped key): the symmetric key used to encrypt the data, encrypted with an RSA public key.</li></ul><p>In order to extract the log file, a user must first decrypt the wrapped symmetric key, which can then be used to decrypt the log. Note that decrypting the symmetric key file is only possible if the user has the appropriate RSA private key (corresponding to the public key that was used to wrap it). This process is covered in <a href="#download-decrypt-log-files">Download &amp; Decrypt Log Files</a> below.</p><h2 id="custom-px4-firmware-with-log-encryption" tabindex="-1">Custom PX4 Firmware with Log Encryption <a class="header-anchor" href="#custom-px4-firmware-with-log-encryption" aria-label="Permalink to &quot;Custom PX4 Firmware with Log Encryption&quot;">​</a></h2><p>You will need to build custom firmware that contains your own public RSA key and the required Crypto API modules to support log encryption. This section shows how to do this using the <code>px4-fmu-v5</code> board as an example.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>We show you how to generate your own keys in the <a href="#generate-rsa-public-private-keys">Generate RSA Public &amp; Private Keys</a> section below.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The modules in a PX4 build are defined in configuration files, which may be modified either manually or using the <code>menuconfig</code> tool. For more information see: <a href="./../hardware/porting_guide_config.html">PX4 Board Configuration (Kconfig)</a>.</p></div><h3 id="cryptotest-make-target" tabindex="-1">Cryptotest Make Target <a class="header-anchor" href="#cryptotest-make-target" aria-label="Permalink to &quot;Cryptotest Make Target&quot;">​</a></h3><p>Crypto uses large amounts of flash memory, and is therefore not included in the default PX4 make targets for each board (such as <code>make px4-fmu-v5</code>). The easiest way to add support for encrypted logs is to define a custom <code>make</code> target that includes the required modules and your public RSA keys.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Crypto uses a lot of flash memory, and many builds are close to their maximum capacity. If you run into a build error telling you that you have gone above the maximum flash memory, you will need to disable other features in the <code>.px4board</code> file you are working on, or in the <code>default.px4board</code> file. Be careful not to disable something you need.</p><p>For example, if you found you were running out of memory on FMUv4 boards you could disable SIH mode by setting <code>CONFIG_MODULES_SIMULATION_SIMULATOR_SIH=n</code> in <a href="https://github.com/PX4/PX4-Autopilot/blob/main/boards/px4/fmu-v4/default.px4board#L76" target="_blank" rel="noreferrer">boards/px4/fmu-v4/default.px4board</a>, which may free up enough flash memory to allow crypto to be added.</p></div><h4 id="pixhawk-fmuv5-boards" tabindex="-1">Pixhawk FMUv5 boards <a class="header-anchor" href="#pixhawk-fmuv5-boards" aria-label="Permalink to &quot;Pixhawk FMUv5 boards&quot;">​</a></h4><p>The FMUv5 board already has a custom make target <code>px4-fmu-v5_cryptotest</code> that you can use to build custom firmware with the required modules and &quot;test&quot; RSA keys. The configuration file that enables the above make target is <a href="https://github.com/PX4/PX4-Autopilot/blob/main/boards/px4/fmu-v5/cryptotest.px4board" target="_blank" rel="noreferrer"><code>cryptotest.px4board</code></a> file in <code>boards/px4/fmu-v5</code>. The relevant keys in that file are reproduced below:</p><div class="language-config vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">config</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CONFIG_BOARD_CRYPTO=y</span></span>
<span class="line"><span>CONFIG_DRIVERS_STUB_KEYSTORE=y</span></span>
<span class="line"><span>CONFIG_DRIVERS_SW_CRYPTO=y</span></span>
<span class="line"><span>CONFIG_PUBLIC_KEY1=&quot;../../../Tools/test_keys/rsa2048.pub&quot;</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The file also sets <code>CONFIG_PUBLIC_KEY0</code> to a key named <code>key0.pub</code>. This is not used in the current PX4 implementation and can be ignored.</p></div><details class="details custom-block"><summary>Details</summary><p>Overview of crypto-relevant keys</p><table tabindex="0"><thead><tr><th>Argument</th><th>설명</th></tr></thead><tbody><tr><td>CONFIG_BOARD_CRYPTO</td><td>Include crypto module in firmware.<br>= <code>y</code>: Enable log encryption.<br>= <code>n</code>: Disable log encryption.</td></tr><tr><td>CONFIG_DRIVERS_SW_CRYPTO</td><td>Include the PX4 crypto backend library (used by above library).<br>= <code>y</code>: Enable<br>= <code>n</code>: Disable</td></tr><tr><td>CONFIG_DRIVERS_STUB_KEYSTORE</td><td>Includes the PX4 stub keystore driver.<br>= <code>y</code>: Enable<br>= <code>n</code>: Disable</td></tr><tr><td>CONFIG_PUBLIC_KEY0</td><td>Location of public key for keystore index 0.</td></tr><tr><td>CONFIG_PUBLIC_KEY1</td><td>Location of public key for keystore index 1.<br>= <code>{path to key1}</code></td></tr><tr><td>CONFIG_PUBLIC_KEY2</td><td>Location of public key for keystore index 2.<br>= <code>{path to key2}</code></td></tr><tr><td>CONFIG_PUBLIC_KEY3</td><td>Location of public key for keystore index 3.<br>= <code>{path to key3}</code></td></tr></tbody></table><p>The stub keystore is a keystore implementation that can store up to four keys. The initial values of these keys are set in the locations defined by <code>CONFIG_PUBLIC_KEY0</code> to <code>CONFIG_PUBLIC_KEY3</code>. The keys can be used for different cryptographic purposes, which are determined by parameters.</p><p>The <em>exchange key</em>, which is the public key used for encrypting the symmetric key stored in the <code>.ulgk</code> file, is specified using <a href="./../advanced_config/parameter_reference.html#SDLOG_EXCH_KEY">SDLOG_EXCH_KEY</a> as an index value into the key store. The value is <code>1</code> by default, which maps to the key defined in <code>CONFIG_PUBLIC_KEY1</code>.</p><p>The <em>logging key</em> is the unencrypted symmetric key. This is specified using <a href="./../advanced_config/parameter_reference.html#SDLOG_KEY">SDLOG_KEY</a> as an index value into the key store, and default to <code>2</code>. Note that the value is generated fresh for each log, and any value specified in <code>CONFIG_PUBLIC_KEY2</code> would be overwritten.</p><p>You can use choose different locations for your keys as long as they aren&#39;t used by anything else.</p></details><p>The key in <code>CONFIG_PUBLIC_KEY1</code> is the public key used to wrap the symmetric key in the <code>.ulgk</code> file (by default: see <a href="./../advanced_config/parameter_reference.html#SDLOG_EXCH_KEY">SDLOG_EXCH_KEY</a>). You can use the <code>rsa2048.pub</code> key for testing, or replace it with the path to your own public key in the file (see <a href="#generate-rsa-public-private-keys">Generate RSA Public &amp; Private Keys</a>).</p><p>Build the firmware like this:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4-fmu-v5_cryptotest</span></span></code></pre></div><h4 id="기타-보드" tabindex="-1">기타 보드 <a class="header-anchor" href="#기타-보드" aria-label="Permalink to &quot;기타 보드&quot;">​</a></h4><p>For other boards you will need to first copy <code>cryptotest.px4board</code> into the root of the target board directory. For example, for FMUv6 you would copy the board to <a href="https://github.com/PX4/PX4-Autopilot/tree/main/boards/px4/fmu-v6x" target="_blank" rel="noreferrer">/boards/px4/fmu-v6x</a>.</p><p>Then you will need to add a few more configuration settings that are present in FMUv5 default configuration but not in the other boards. We do add these using the <code>menuconfig</code> tool.</p><p>To use <code>menuconfig</code> you will need to add these dependencies:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libncurses-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bison</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libssl-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dkms</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libelf-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libudev-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libpci-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libiberty-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autoconf</span></span></code></pre></div><p>Now, in PX4, run the normal <code>make</code> command you would use to build the board you are targeting, but add &quot;menuconfig&quot; at the end of it. Here we use <code>px4_fmu-v5_cryptotest</code> as an example, because that already has the settings that we want to copy:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v5_cryptotest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> menuconfig</span></span></code></pre></div><p>Navigate to <code>Crypto API</code> and use the <strong>Y</strong> key to select it.</p><p><img src="`+a+'" alt="Menuconfig Crypto API Main Menu Option"></p><p>This will open the menu below. Enable the settings: <code>Blake2s hash algorithm</code>, <code>Entropy pool and strong random number generator</code>, and <code>Use interrupts to feed timing randomness to entropy pool</code>.</p><p><img src="'+t+'" alt="Menuconfig Crypto Options Set"></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Some of these options can be tweaked if desired.</p></div><p>After enabling encryption settings, exit <code>menuconfig</code>. You can now build and test.</p><h2 id="download-decrypt-log-files" tabindex="-1">Download &amp; Decrypt Log Files <a class="header-anchor" href="#download-decrypt-log-files" aria-label="Permalink to &quot;Download &amp; Decrypt Log Files&quot;">​</a></h2><p>Encrypted log files are downloaded using the QGroundControl <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/analyze_view/log_download.html" target="_blank" rel="noreferrer">Log Download</a> view (<strong>Analyze Tools &gt; Log Download</strong>) just like ordinary log files. The only difference is that for each flight you will need to download both the encrypted log file, and the file containing the encrypted symmetric key.</p><p>The encrypted log file and encrypted symmetric key file are displayed with a timestamp (but no filename) in QGroundControl, as shown below. You can determine which files are associated based on their timestamps.</p><p><img src="'+o+`" alt="QGroundControl ULog Download"></p><p>Select and download both files.</p><p>Note that both files will be downloaded with the <code>.ulg</code> suffix. You can identify the symmetric key file, as it is usually much smaller than the log file (about 300 bytes)</p><p>For convenience in the decryption step, you might rename the file extensions to add back the <code>.ulgc</code> (log) and <code>.ulgk</code> (key) file extensions.</p><h3 id="decrypt-ulogs" tabindex="-1">Decrypt ULogs <a class="header-anchor" href="#decrypt-ulogs" aria-label="Permalink to &quot;Decrypt ULogs&quot;">​</a></h3><p>Before you can analyze your encrypted logs, you will need to decrypt them. There is a Python script that can be used to decrypt logs in <code>Tools/decrypt_ulog.py</code>.</p><p><code>decrypt_ulog.py</code> takes 3 arguments:</p><ol><li>The encrypted <code>.ulogc</code> file.</li><li>The symmetric key <code>.ulogk</code> file.</li><li>The decryption key (the RSA2048 <code>.pem</code> private key which is used to unwrap the <code>.ulogk</code> file).</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usage:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> decrypt_ulog.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-h] [ulog_file] [ulog_key] [rsa_key]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CLI</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tool</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> decrypt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> an</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ulog</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">positional</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arguments:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ulog_file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   .ulog</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ulog_key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    .ulogk,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> encrypted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rsa_key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     .pem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> decrypting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ulog</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">optional</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arguments:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -h,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exit</span></span></code></pre></div><p>As an example:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> decrypt_ulog.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/home/john/Downloads/log_24_2024-10-6-23-39-50.ulgc </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/home/john/Downloads/log_23_2024-10-6-23-39-48.ulgk </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">new_keys/private_key.pem</span></span></code></pre></div><p>On success the decrypted log file is created with the <code>.ul</code> suffix instead of <code>.ulg</code>. Rename the file back to <code>.ulg</code> and it is now ready for flight review.</p><h2 id="generate-rsa-public-private-keys" tabindex="-1">Generate RSA Public &amp; Private Keys <a class="header-anchor" href="#generate-rsa-public-private-keys" aria-label="Permalink to &quot;Generate RSA Public &amp; Private Keys&quot;">​</a></h2><p>To generate a rsa2048 private and public key, you can use OpenSSL:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genpkey</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -algorithm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RSA</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> private_key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pkeyopt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa_keygen_bits:2048</span></span></code></pre></div><p>Then you can create a public key from this private key:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Convert private_key.pem to a DER file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pubout</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> private_key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -outform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DER</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public_key.der</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># From the DER file, generate a public key in hex format, seperated by commas</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xxd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public_key.der</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;\\n&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/\\(..\\)/0x\\1, /g&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public_key.pub</span></span></code></pre></div><p>To use this key you would modify your <code>.px4board</code> file to point <code>CONFIG_PUBLIC_KEY1</code> to the file location of <code>public_key.pub</code>. The private key generated should be stored safely and used when you need to decrypt log files.</p>`,60))])}const E=n(k,[["render",y]]);export{_ as __pageData,E as default};
