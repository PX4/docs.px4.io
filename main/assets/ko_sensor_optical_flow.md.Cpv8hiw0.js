import{_ as r,a as o}from"./chunks/px4flow_offset.gpRBdLx0.js";import{_ as n,c as i,j as e,a,a8 as s,o as d}from"./chunks/framework.BDnHobkS.js";const w=JSON.parse('{"title":"광류 센서","description":"","frontmatter":{},"headers":[],"relativePath":"ko/sensor/optical_flow.md","filePath":"ko/sensor/optical_flow.md"}'),l={name:"ko/sensor/optical_flow.md"};function h(c,t,p,f,m,_){return d(),i("div",null,t[0]||(t[0]=[e("h1",{id:"광류-센서",tabindex:"-1"},[a("광류 센서 "),e("a",{class:"header-anchor",href:"#광류-센서","aria-label":'Permalink to "광류 센서"'},"​")],-1),e("p",null,[e("em",null,"Optical Flow"),a(" uses a downward facing camera and a downward facing distance sensor for velocity estimation. It can be used to determine speed when navigating without GNSS — in buildings, underground, or in any other GNSS-denied environment.")],-1),e("p",null,[a("The video below shows PX4 holding position using the "),e("a",{href:"#ark-flow"},"Ark Flow"),a(" sensor for velocity estimation in "),e("a",{href:"./../flight_modes_mc/position.html"},"Position Mode"),a(":")],-1),e("lite-youtube",{videoid:"aPQKgUof3Pc",title:"ARK Flow with PX4 Optical Flow Position Hold"},null,-1),s('<p>The image below shows an optical flow setup with a separate flow sensor (<a href="./../sensor/px4flow.html">PX4Flow</a>) and distance sensor (<a href="./../sensor/lidar_lite.html">Lidar-Lite</a>):</p><p><img src="'+r+'" alt="Optical flow lidar attached"></p><h2 id="설정" tabindex="-1">설정 <a class="header-anchor" href="#설정" aria-label="Permalink to &quot;설정&quot;">​</a></h2><p>An Optical Flow setup requires a downward facing camera and a downward facing <a href="./../sensor/rangefinders.html">distance sensor</a> (preferably a LiDAR). These can be combined in a single product, such as the <a href="#ark-flow">Ark Flow</a>, or they may be separate sensors.</p><p>The sensor(s) can be connected via MAVLink, I2C or any other bus that supports the peripheral.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If connected to PX4 via MAVLink the Optical Flow camera sensor must publish the <a href="https://mavlink.io/en/messages/common.html#OPTICAL_FLOW_RAD" target="_blank" rel="noreferrer">OPTICAL_FLOW_RAD</a> message, and the distance sensor must publish the <a href="https://mavlink.io/en/messages/common.html#DISTANCE_SENSOR" target="_blank" rel="noreferrer">DISTANCE_SENSOR</a> message. The information is written to the corresponding uORB topics: <a href="./../msg_docs/DistanceSensor.html">DistanceSensor</a> and <a href="./../msg_docs/ObstacleDistance.html">ObstacleDistance</a>.</p></div><p>다른 방향으로 이동할 때의 흐름 출력은 다음과 같아야합니다.</p><table tabindex="0"><thead><tr><th>기체 이동</th><th>통합 흐름</th></tr></thead><tbody><tr><td>전방</td><td>+ Y</td></tr><tr><td>후방</td><td>- Y</td></tr><tr><td>우측</td><td>- X</td></tr><tr><td>좌측</td><td>+ X</td></tr></tbody></table><p>For pure rotations the <code>integrated_xgyro</code> and <code>integrated_x</code> (respectively <code>integrated_ygyro</code> and <code>integrated_y</code>) have to be the same.</p><p>광류 데이터는 다른 속도 데이터 소스와 융합됩니다. The approach used for fusing sensor data and any offsets from the center of the vehicle must be configured in the <a href="#estimators">estimator</a>.</p><h2 id="유량-센서-카메라" tabindex="-1">유량 센서/카메라 <a class="header-anchor" href="#유량-센서-카메라" aria-label="Permalink to &quot;유량 센서/카메라&quot;">​</a></h2><h3 id="ark-flow" tabindex="-1">ARK Flow <a class="header-anchor" href="#ark-flow" aria-label="Permalink to &quot;ARK Flow&quot;">​</a></h3><p><a href="./../dronecan/ark_flow.html">ARK Flow</a> is a <a href="./../dronecan/">DroneCAN</a> optical flow sensor, <a href="./../sensor/rangefinders.html">distance sensor</a>, and IMU. PAW3902 광학 유량 센서, Broadcom AFBR-S50LV85D 30m 거리 센서 및 BMI088 IMU가 있습니다.</p><h3 id="pmw3901-기반-센서" tabindex="-1">PMW3901 기반 센서 <a class="header-anchor" href="#pmw3901-기반-센서" aria-label="Permalink to &quot;PMW3901 기반 센서&quot;">​</a></h3><p><a href="./../sensor/pmw3901.html">PMW3901</a> is an optical flow tracking sensor similar to what you would find in a computer mouse, but adapted to work between 80 mm and infinity. Bitcraze, Tindie, Hex, Thone 및 Alientek의 일부 제품을 포함하여 여러 제품에 사용됩니다.</p><h3 id="기타-카메라-센서" tabindex="-1">기타 카메라 / 센서 <a class="header-anchor" href="#기타-카메라-센서" aria-label="Permalink to &quot;기타 카메라 / 센서&quot;">​</a></h3><p>카메라 통합 보드를 사용할 수 있습니다. For this the <a href="https://github.com/PX4/OpticalFlow" target="_blank" rel="noreferrer">Optical Flow repo</a> can be used (see also <a href="https://github.com/PX4/snap_cam" target="_blank" rel="noreferrer">snap_cam</a>).</p><h2 id="거리-측정기" tabindex="-1">거리 측정기 <a class="header-anchor" href="#거리-측정기" aria-label="Permalink to &quot;거리 측정기&quot;">​</a></h2><p>You can use any supported <a href="./../sensor/rangefinders.html">distance sensor</a>. 그러나 견고성과 정확성 측면에서는 음향 센서보다 LIDAR를 사용하는 것이 좋습니다.</p><h2 id="추정기" tabindex="-1">추정기 <a class="header-anchor" href="#추정기" aria-label="Permalink to &quot;추정기&quot;">​</a></h2><p>추정기는 광학 흐름 센서 및 기타 소스의 데이터를 융합합니다. 융합 방법 설정과 차량 중심에 대한 상대적 오프셋이 사용되는 추정기를 지정하여야합니다.</p><p>오프셋은 아래와 같이 차량 방향 및 중심을 기준으로 계산됩니다.</p><p><img src="'+o+'" alt="Optical Flow offsets"></p><p>Optical Flow based navigation is enabled by both <a href="#ekf2">EKF2</a> and LPE (deprecated).</p><h3 id="ekf2" tabindex="-1">Extended Kalman Filter (EKF2) <a class="header-anchor" href="#ekf2" aria-label="Permalink to &quot;Extended Kalman Filter (EKF2) {#ekf2}&quot;">​</a></h3><p>For optical flow fusion using EKF2, set <a href="./../advanced_config/parameter_reference.html#EKF2_OF_CTRL">EKF2_OF_CTRL</a>.</p><p>광류 센서가 차량 중앙에서 오프셋된 경우 다음 매개변수를 사용하여 설정합니다.</p><table tabindex="0"><thead><tr><th>매개변수</th><th>설명</th></tr></thead><tbody><tr><td><a id="EKF2_OF_POS_X"></a><a href="./../advanced_config/parameter_reference.html#EKF2_OF_POS_X">EKF2_OF_POS_X</a></td><td>바디 프레임에서 광류 초점의 X 위치 (기본값은 0.0m).</td></tr><tr><td><a id="EKF2_OF_POS_Y"></a><a href="./../advanced_config/parameter_reference.html#EKF2_OF_POS_Y">EKF2_OF_POS_Y</a></td><td>바디 프레임에서 광류 초점의 Y 위치 (기본값은 0.0m).</td></tr><tr><td><a id="EKF2_OF_POS_Z"></a><a href="./../advanced_config/parameter_reference.html#EKF2_OF_POS_Z">EKF2_OF_POS_Z</a></td><td>바디 프레임에서 광류 초점의 Z 위치 (기본값은 0.0m).</td></tr></tbody></table><p>See <a href="./../advanced_config/tuning_the_ecl_ekf.html#optical-flow">Using the ECL EKF &gt; Optical flow</a> for more information.</p>',29)]))}const g=n(l,[["render",h]]);export{w as __pageData,g as default};
