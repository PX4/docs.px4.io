import{_ as t,a as s}from"./chunks/tune_musicmaker_ansi_output.B_UpIuZ-.js";import{_ as a,c as i,a8 as l,o as n}from"./chunks/framework.BDnHobkS.js";const b=JSON.parse('{"title":"Системи звукового оповіщення","description":"","frontmatter":{},"headers":[],"relativePath":"uk/advanced/system_tunes.md","filePath":"uk/advanced/system_tunes.md"}'),o={name:"uk/advanced/system_tunes.md"};function r(p,e,h,c,d,u){return n(),i("div",null,e[0]||(e[0]=[l(`<h1 id="системи-звукового-оповіщення" tabindex="-1">Системи звукового оповіщення <a class="header-anchor" href="#системи-звукового-оповіщення" aria-label="Permalink to &quot;Системи звукового оповіщення&quot;">​</a></h1><p>PX4 визначає ряд <a href="./../getting_started/tunes.html">стандартних мелодій/тем</a>, які використовуються для забезпечення аудіо-повідомлень про важливі стани системи та проблеми (наприклад, запуск системи, успішне готування до роботи, попередження про заряд батареї і т. д.).</p><p>Мелодії вказуються за допомогою рядків (у форматі <a href="http://artscene.textfiles.com/ansimusic/information/ansimtech.txt" target="_blank" rel="noreferrer">ANSI Music notation</a>) та відтворюються за допомогою коду, використовуючи бібліотеку <a href="https://github.com/PX4/PX4-Autopilot/tree/main/src/lib/tunes" target="_blank" rel="noreferrer">tunes</a>. Бібліотека мелодій також містить список стандартних мелодій системи - див. <a href="https://github.com/PX4/PX4-Autopilot/blob/main/src/lib/tunes/tune_definition.desc" target="_blank" rel="noreferrer">lib/tunes/tune_definition.desc</a>.</p><p>У PX4 також є модуль, який можна використовувати для відтворення (тестування) стандартних мелодій або користувацьких мелодій.</p><p>У цій темі наведено загальні вказівки щодо створення власних мелодій і додавання/заміни системних тонів/мелодій сповіщень.</p><h2 id="формування-звукових-повідомлень" tabindex="-1">Формування Звукових Повідомлень <a class="header-anchor" href="#формування-звукових-повідомлень" aria-label="Permalink to &quot;Формування Звукових Повідомлень&quot;">​</a></h2><p>Рядки мелодій визначаються за допомогою <a href="http://artscene.textfiles.com/ansimusic/information/ansimtech.txt" target="_blank" rel="noreferrer">ANSI Music notation</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Більше інформації про формат можна знайти в <a href="https://en.wikibooks.org/wiki/QBasic/Appendix#PLAY" target="_blank" rel="noreferrer">QBasic PLAY statement</a> (Wikibooks) та було відтворено в <a href="https://github.com/PX4/PX4-Autopilot/blob/main/src/lib/tunes/tune_definition.desc" target="_blank" rel="noreferrer">tune_definition.desc</a>.</p></div><p>Найпростіший спосіб створити нову мелодію – скористатися музичним редактором. Це дозволяє редагувати музику та відтворювати її на вашому комп&#39;ютері, а потім експортувати в формат, який можна відтворити за допомогою PX4.</p><p>Музика ANSI була популярною за часів систем ANSI BBS, тому найкращими інструментами редагування є утиліти DOS. У Windows одним із варіантів є використання <em>Melody Master</em> у <em>Dosbox</em>.</p><p>Кроки використання програмного забезпечення:</p><ol><li><p>Завантажити <a href="http://www.dosbox.com/" target="_blank" rel="noreferrer">DosBox</a> і встановити додаток</p></li><li><p>Завантажити <a href="ftp://archives.thebbs.org/ansi_utilities/melody21.zip" target="_blank" rel="noreferrer">Майстер Мелодій</a> та розпакувати в нову директорію</p></li><li><p>Відкрийте консоль <em>Dosbox</em></p></li><li><p>Змонтуйте основний каталог мелодій у Dosbox, як показано нижче:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">path_to_directory</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">elody21</span></span></code></pre></div></li><li><p>Запустіть <em>Melody Master</em> за допомогою таких команд</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span></span></code></pre></div></li><li><p>YПотім ви матимете можливість клацнути кілька екранів, а потім натиснути <strong>1</strong>, щоб відобразити <em>Master Melody</em>: <img src="`+t+'" alt="Melody Master 2.1"></p><p>У нижній половині екрана надаються корисні поради щодо комбінацій клавіш для використання інструменту (стрілки для переміщення в ноті, цифри для вибору тривалості ноти тощо).</p></li><li><p>Коли ви будете готові зберегти музику:</p><ul><li>Натисніть <strong>F2</strong>, щоб дати мелодії назву та зберегти її у підпапці <em>/Music</em> вашої інсталяції Melody Master.</li><li>Натисніть <strong>F7</strong>, прокрутіть список вихідних форматів праворуч, щоб перейти до ANSI. Файл буде експортовано в <em>кореневий каталог</em> каталогу Melody Master (з такою самою назвою та розширенням типу файлу).</li></ul></li><li><p>Відкрийте файл. Результат може виглядати так:</p><p><img src="'+s+'" alt="ANSI Output from file"></p></li><li><p>ядок, який можна відтворити в PX4, це біт між <code>MNT</code> і <code>P64</code>: <code>150L1O3DL16CL32&lt;B&gt;C&lt;AEL16A</code></p></li></ol><h2 id="тестування-тунелів" tabindex="-1">Тестування тунелів <a class="header-anchor" href="#тестування-тунелів" aria-label="Permalink to &quot;Тестування тунелів&quot;">​</a></h2><p>Коли ви будете готові спробувати нову мелодію на PX4, скористайтеся бібліотекою <a href="./../modules/modules_system.html#tune-control">tune_control</a>. Наприклад, щоб перевірити мелодію, яку ми «створили» вище, ви повинні ввести таку команду на консолі чи оболонці (наприклад, <a href="./../debug/mavlink_shell.html">MAVLink Shell</a>):</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tune_control</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> play</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;150L1O3DL16CL32&lt;B&gt;C&lt;AEL16A&quot;</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>OЗа замовчуванням, <code>tune_control</code> присутній лише на реальному обладнанні (не у симуляторі).</p></div><h2 id="заміна-існуючих-звукових-повідомлень" tabindex="-1">Заміна існуючих звукових повідомлень <a class="header-anchor" href="#заміна-існуючих-звукових-повідомлень" aria-label="Permalink to &quot;Заміна існуючих звукових повідомлень&quot;">​</a></h2><p>Мелодії визначаються в файлі <a href="https://github.com/PX4/PX4-Autopilot/blob/main/src/lib/tunes/tune_definition.desc" target="_blank" rel="noreferrer">tune_definition.desc</a>.</p><p>Якщо вам потрібно лише замінити існуючу мелодію, ви можете замінити файл у власному репозиторії (fork) та оновити рядки мелодій, визначені в <code>PX4_DEFINE_TUNE</code>.</p><h2 id="додати-нову-мелодію" tabindex="-1">Додати нову мелодію <a class="header-anchor" href="#додати-нову-мелодію" aria-label="Permalink to &quot;Додати нову мелодію&quot;">​</a></h2><p>TBD.</p>',21)]))}const g=a(o,[["render",r]]);export{b as __pageData,g as default};
