import{_ as r,c as a,a8 as t,o as i}from"./chunks/framework.BDnHobkS.js";const u=JSON.parse('{"title":"Шина I2C (Огляд розробки)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/sensor_bus/i2c_development.md","filePath":"uk/sensor_bus/i2c_development.md"}'),s={name:"uk/sensor_bus/i2c_development.md"};function o(l,e,n,c,p,d){return i(),a("div",null,e[0]||(e[0]=[t('<h1 id="шина-i2c-огляд-розробки" tabindex="-1">Шина I2C (Огляд розробки) <a class="header-anchor" href="#шина-i2c-огляд-розробки" aria-label="Permalink to &quot;Шина I2C (Огляд розробки)&quot;">​</a></h1><p>I2C - це протокол послідовного обміну даними у вигляді пакетів, який дозволяє підключати кілька головних пристроїв до кількох підчинених пристроїв, використовуючи лише 2 провідника для кожного з&#39;єднання. Цей протокол призначений для підключення периферійних ІС з низькою швидкістю до процесорів та мікроконтролерів у короткій дистанційній, внутрішньоплатній комунікації.</p><p>Pixhawk/PX4 підтримує її для:</p><ul><li>Підключення зовнішніх компонентів, які вимагають вищих швидкостей передачі даних, ніж ті, що надає строгий послідовний UART, такі як далекоміри.</li><li>Сумісність з периферійними пристроями, які підтримують лише I2C.</li><li>Дозвіл декількох пристроїв приєднатися до одного шини (корисно для збереження портів). Наприклад, світлодіоди, компас, дальномери і т. д.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The page <a href="./../sensor_bus/i2c_general.html">Hardware &gt; I2C Peripherals</a> contains information about how to <em>use</em> (rather than integrate) I2C peripherals and solve common setup problems.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>IMUs (accelerometers/gyroscopes) should not be attached via I2C (typically the <a href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus" target="_blank" rel="noreferrer">SPI</a> bus is used). Шина недостатньо швидка навіть з одним приєднаним пристроєм для виконання фільтрації вібрації (наприклад), і продуктивність погіршується ще більше з кожним додатковим пристроєм на шині.</p></div><h2 id="інтеграція-пристроів-i2c" tabindex="-1">Інтеграція пристроїв I2C <a class="header-anchor" href="#інтеграція-пристроів-i2c" aria-label="Permalink to &quot;Інтеграція пристроїв I2C&quot;">​</a></h2><p>Drivers should <code>#include &lt;drivers/device/i2c.h&gt;</code> and then provide an implementation of the abstract base class <code>I2C</code> defined in <strong>I2C.hpp</strong> for the target hardware (i.e. for NuttX <a href="https://github.com/PX4/PX4-Autopilot/blob/main/src/lib/drivers/device/nuttx/I2C.hpp" target="_blank" rel="noreferrer">here</a>).</p><p>A small number of drivers will also need to include headers for their type of device (<strong>drv_*.h</strong>) in <a href="https://github.com/PX4/PX4-Autopilot/tree/main/src/drivers" target="_blank" rel="noreferrer">/src/drivers/</a> - e.g. <a href="https://github.com/PX4/PX4-Autopilot/blob/main/src/drivers/drv_led.h" target="_blank" rel="noreferrer">drv_led.h</a>.</p><p>Для включення драйвера в прошивку потрібно додати драйвер до файлу cmake, специфічного для плати, який відповідає цілі, для якої ви хочете збудувати. Ви можете це зробити для одного драйвера:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CONFIG_DRIVERS_DISTANCE_SENSOR_LIGHTWARE_LASER_I2C=y</span></span></code></pre></div><p>Ви також можете включити всі драйвери певного типу.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CONFIG_COMMON_DISTANCE_SENSOR=y</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For example, you can see/search for <code>CONFIG_DRIVERS_DISTANCE_SENSOR_LIGHTWARE_LASER_I2C</code> in the <a href="https://github.com/PX4/PX4-Autopilot/blob/main/boards/px4/fmu-v4/default.px4board" target="_blank" rel="noreferrer">px4_fmu-v4_default</a> configuration.</p></div><h2 id="приклади-драивера-i2c" tabindex="-1">Приклади драйвера I2C <a class="header-anchor" href="#приклади-драивера-i2c" aria-label="Permalink to &quot;Приклади драйвера I2C&quot;">​</a></h2><p>To find I2C driver examples, search for <strong>i2c.h</strong> in <a href="https://github.com/PX4/PX4-Autopilot/tree/main/src/drivers" target="_blank" rel="noreferrer">/src/drivers/</a>.</p><p>Ось декілька прикладів:</p><ul><li><a href="https://github.com/PX4/PX4-Autopilot/tree/main/src/drivers/distance_sensor/lightware_laser_i2c" target="_blank" rel="noreferrer">drivers/distance_sensor/lightware_laser_i2c</a> - I2C driver for <a href="./../sensor/sfxx_lidar.html">Lightware SF1XX LIDAR</a>.</li><li><a href="https://github.com/PX4/PX4-Autopilot/tree/main/src/drivers/distance_sensor/lightware_laser_serial" target="_blank" rel="noreferrer">drivers/distance_sensor/lightware_laser_serial</a> - Serial driver for <a href="./../sensor/sfxx_lidar.html">Lightware SF1XX LIDAR</a>.</li><li><a href="https://github.com/PX4/PX4-Autopilot/tree/main/src/drivers/barometer/ms5611" target="_blank" rel="noreferrer">drivers/ms5611</a> - I2C Driver for the MS5611 and MS6507 barometric pressure sensor connected via I2C (or SPI).</li></ul><h2 id="подальша-інформація" tabindex="-1">Подальша інформація <a class="header-anchor" href="#подальша-інформація" aria-label="Permalink to &quot;Подальша інформація&quot;">​</a></h2><ul><li><a href="https://en.wikipedia.org/wiki/I%C2%B2C" target="_blank" rel="noreferrer">I2C</a> (Wikipedia)</li><li><a href="https://learn.sparkfun.com/tutorials/i2c" target="_blank" rel="noreferrer">I2C Comparative Overview</a> (learn.sparkfun.com)</li><li><a href="./../middleware/drivers.html">Driver Framework</a></li></ul>',20)]))}const m=r(s,[["render",o]]);export{u as __pageData,m as default};
