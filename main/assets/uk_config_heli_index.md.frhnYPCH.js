import{_ as a,a as i,b as t}from"./chunks/swash_plate_servo_angles.CqJ5A0Mz.js";import{_ as s}from"./chunks/qgc_mc_pid_tuning_rate_controller.CjfslIaV.js";import{_ as r,c as l,a8 as n,o}from"./chunks/framework.BDnHobkS.js";const f=JSON.parse('{"title":"Конфігурація гелікоптера","description":"","frontmatter":{},"headers":[],"relativePath":"uk/config_heli/index.md","filePath":"uk/config_heli/index.md"}'),h={name:"uk/config_heli/index.md"};function p(c,e,d,k,m,F){return o(),l("div",null,e[0]||(e[0]=[n('<h1 id="конфігурація-гелікоптера" tabindex="-1">Конфігурація гелікоптера <a class="header-anchor" href="#конфігурація-гелікоптера" aria-label="Permalink to &quot;Конфігурація гелікоптера&quot;">​</a></h1><p>This section contains topics related to <a href="./../frames_helicopter/">helicopter</a> configuration and tuning.</p><h2 id="підтримувані-конфігураціі" tabindex="-1">Підтримувані конфігурації <a class="header-anchor" href="#підтримувані-конфігураціі" aria-label="Permalink to &quot;Підтримувані конфігурації&quot;">​</a></h2><p>Підтримувані конфігурації вертольоту:</p><ul><li>Однокрил з одним основним ротором, який керується планкою крена за допомогою до 4 сервоприводів планки крена і механічно роз&#39;єднаний хвостовий ротор, що приводиться в рух за допомогою ESC.</li><li>Однокрил з одним основним ротором, керований планкою крена за допомогою до 4 сервоприводів планки крена і механічно зв&#39;язаний хвостовий ротор, керований сервоприводом.</li></ul><p>Підтримувані польотні операції/функції:</p><ul><li>Те саме, що і мультикоптер.</li><li>На момент написання статті автономні/керовані тривимірні польоти з негативною тягою неможливі.</li></ul><h2 id="установка" tabindex="-1">Установка <a class="header-anchor" href="#установка" aria-label="Permalink to &quot;Установка&quot;">​</a></h2><p>Щоб налаштувати та сконфігурувати гелікоптер:</p><ol><li><p>Select a helicopter <a href="./../config/airframe.html">Airframe</a> in QGroundControl. At time of writing there is only <em>Generic Helicopter (Tail ESC)</em> in the Helicopter group. This will configure the helicopter frame with a mechanically uncoupled tail (<a href="./../advanced_config/parameter_reference.html#CA_AIRFRAME">CA_AIRFRAME</a>: <code>10: Helicopter (tail ESC)</code>).</p><p><img src="'+a+'" alt="QGC - helicopter airframe"></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>There is no separate airframe for the helicopter with tail servo. To select this configuration, set the parameter <a href="./../advanced_config/parameter_reference.html#CA_AIRFRAME">CA_AIRFRAME</a> to <em>Helicopter (tail Servo)</em>. Потім екран конфігурації приводу зміниться для підтримки цього типу рами.</p></div></li></ol><p>:::</p><ol start="2"><li><p>Configure helicopter actuator geometry in <strong>Vehicle Setup &gt; Actuators</strong>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Actuator setup and testing is covered for most frames in <a href="./../config/actuators.html">Actuators</a>. Хоча це згадується нижче, це основна тема для інформації про налаштування гелікоптера.</p></div></li></ol><p>:::</p><p>The geometry for a <a href="./../airframes/airframe_reference.html#copter_helicopter_generic_helicopter_(tail_esc)">Generic Helicopter - with Tail ESC</a> is shown below.</p><p><img src="'+i+'" alt="Geometry: helicopter"></p><p>Мотори не мають геометрії, що налаштовується:</p><ul><li><code>Rotor (Motor 1)</code>: The main rotor</li><li><code>Yaw tail motor (Motor 2)</code>: The tail rotor</li></ul><p>Swash plate servos: <code>3</code> | <code>4</code></p><p>Для кожного набору сервоприводів:</p><ul><li><p><code>Angle</code>: Clockwise angle in degree on the swash plate circle at which the servo arm is attached starting from <code>0</code> pointing forwards. Приклад для типової настройки, де три сервопривода керують планкою рівномірно розподіленою по колу (360° / 3 =) по 120° кожен, що призводить до наступних кутів:</p><table tabindex="0"><thead><tr><th>#</th><th>Кут</th></tr></thead><tbody><tr><td>Servo 1</td><td>60°</td></tr><tr><td>Servo 2</td><td>180°</td></tr><tr><td>Servo 3</td><td>300°</td></tr></tbody></table><img width="700" alt="warning and requirement" src="'+t+`"></li><li><p><code>Arm Length (relative to each other)</code>: Radius from the swash plate center (top view). Коротше плече означає, що та ж сама рух сервопривода зміщує плиту більше. Це дозволяє отримати компенсацію автопілоту.</p></li><li><p><code>Trim</code>: Offset individual servo positions. Це потрібно лише у випадках, коли кронштейн рушія не рівний, навіть якщо всі сервоприводи налаштовані в центр.</p></li></ul><p>Додаткові налаштування:</p><ul><li><code>Yaw compensation scale based on collective pitch</code>: How much yaw is feed forward compensated based on the current collective pitch.</li><li><code>Main rotor turns counter-clockwise</code>: <code>Disabled</code> (clockwise rotation) | <code>Enabled</code></li><li><code>Throttle spoolup time</code>: Set value (in seconds) greater than the achievable minimum motor spool up time. Більше значення може поліпшити зручність користувача.</li></ul><ol start="3"><li><p>Видаліть лопаті ротора та пропелери</p></li><li><p>Assign motors and servos to outputs and test (also in <a href="./../config/actuators.html">Actuator configuration</a>):</p><ol><li>Assign the <a href="./../config/actuators.html#actuator-outputs">motors and servos to the outputs</a>.</li><li>Power the vehicle with a battery and use the <a href="./../config/actuators.html#actuator-testing">actuator testing sliders</a> to validate correct servo and motor assignment and direction.</li></ol></li><li><p>Using an RC in <a href="./../flight_modes_mc/acro.html">Acro mode</a>, verify the correct movement of the swash-plate. Для більшості планерів вам потрібно побачити наступне:</p><ul><li>Переміщення ручки крена вправо повинно нахиляти кронштейн рушія вправо.</li><li>Переміщення ручки крена вперед повинно нахиляти кронштейн рушія вперед.</li></ul><p>У разі, якщо ваша конструкція вимагає будь-якого зміщення кута фазового запізнення, це можна просто додати до всіх кутів кронштейна рушія. Зверніться до документації виробника вашої конструкції.</p></li><li><p>Увімкніть транспортний засіб і перевірте, що головний ротор починає повільно обертатися. Adjust the throttle spoolup time as needed using the parameter <a href="./../advanced_config/parameter_reference.html#COM_SPOOLUP_TIME">COM_SPOOLUP_TIME</a>. You can also adjust the throttle curve with the parameters <a href="./../advanced_config/parameter_reference.html#CA_HELI_THR_C0">CA_HELI_THR_Cx</a>. За замовчуванням встановлено постійний, максимальний газ (підходить для більшості налаштувань).</p></li><li><p>Знову вимкніть зброювання і вимкніть живлення.</p></li><li><p>Встановіть лопаті ротора і включіть живлення транспортного засобу.</p></li><li><p>Configure the collective pitch curve using the parameters <a href="./../advanced_config/parameter_reference.html#CA_HELI_PITCH_C0">CA_HELI_PITCH_Cx</a>. Встановіть мінімум і максимум відповідно до мінімального і максимального кутів лопатей, які вам потрібно. Переконайтеся, що мінімум достатньо низький, щоб транспортний засіб все ще міг опускатися. Замість цього, почніть з надто низького значення. За цю причину за замовчуванням встановлено трохи негативне значення і повинно бути гарною вихідною точкою.</p></li></ol><h2 id="вдосконалення" tabindex="-1">Вдосконалення <a class="header-anchor" href="#вдосконалення" aria-label="Permalink to &quot;Вдосконалення&quot;">​</a></h2><p>Після завершення попередніх кроків ви готові до озброєння з встановленими лопатями.</p><p>First tune the <a href="#rate-controller">rate controller</a> and <a href="#yaw-compensation">yaw compensation</a> as shown in the following sections (these are helicopter-specific).</p><p>Attitude, velocity, and position controller tuning is then performed in the <a href="./../config_mc/">same as for multicopters</a>.</p><p>Зверніть увагу, що автоматичне налаштування не підтримується/не тестується (на момент написання).</p><h3 id="компенсація-повороту" tabindex="-1">Компенсація повороту <a class="header-anchor" href="#компенсація-повороту" aria-label="Permalink to &quot;Компенсація повороту&quot;">​</a></h3><p>Оскільки компенсація крутного моменту повороту має вирішальне значення для стабільного зависання вертольота, спочатку потрібно виконати грубу конфігурацію. Для точного налаштування цей розділ можна переглянути, коли контролер швидкості запрацює належним чином.</p><p>Найважливіше встановіть напрямок обертання вашого основного ротора, який за замовчуванням є за годинниковою стрілкою, якщо дивитися згори планера. In case yours turns counter-clockwise set <a href="./../advanced_config/parameter_reference.html#CA_HELI_YAW_CCW">CA_HELI_YAW_CCW</a> to 1.</p><p>There are two parameters to compensate yaw for the main rotor&#39;s collective and throttle: <a href="./../advanced_config/parameter_reference.html#CA_HELI_YAW_CP_S">CA_HELI_YAW_CP_S</a><a href="./../advanced_config/parameter_reference.html#CA_HELI_YAW_TH_S">CA_HELI_YAW_TH_S</a></p><p>Потрібне від&#39;ємне значення, коли позитивний тяговий зусилля хвостового ротора обертає транспортний засіб у протилежному напрямку від напрямку обертання головного ротора.</p><h3 id="контролер-швидкості" tabindex="-1">Контролер швидкості <a class="header-anchor" href="#контролер-швидкості" aria-label="Permalink to &quot;Контролер швидкості&quot;">​</a></h3><p>The rate controller should be tuned in <a href="./../flight_modes_mc/acro.html">Acro mode</a>, but can also be done in <a href="./../flight_modes_mc/manual_stabilized.html">Stabilized mode</a> if you cannot fly Acro mode.</p><ol><li><p>Почніть з вимкнених коефіцієнтів контролера швидкості та лише невеликим зворотнім зв&#39;язком передбачуваної відповіді:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_ROLLRATE_P</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_ROLLRATE_I</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_ROLLRATE_D</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_ROLLRATE_FF</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_PITCHRATE_P</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_PITCHRATE_I</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_PITCHRATE_D</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_PITCHRATE_FF</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span></span></code></pre></div></li><li><p>Підніміться повільно і зробіть кілька рухів рулями. Використовуйте інтерфейс настройки QGC, щоб перевірити відповідь:</p><p><img src="`+s+`" alt="QGC Rate Controller Tuning UI"></p><p>Increase the roll and pitch feed forward gains <a href="./../advanced_config/parameter_reference.html#MC_ROLLRATE_FF">MC_ROLLRATE_FF</a>, <a href="./../advanced_config/parameter_reference.html#MC_PITCHRATE_FF">MC_PITCHRATE_FF</a> until the response reaches the setpoint when giving a step input.</p></li><li><p>Потім увімкніть посилення PID. Почніть із таких значень:</p><ul><li><a href="./../advanced_config/parameter_reference.html#MC_ROLLRATE_P">MC_ROLLRATE_P</a>, <a href="./../advanced_config/parameter_reference.html#MC_PITCHRATE_P">MC_PITCHRATE_P</a> a quarter of the value you found to work well as the corresponding feed forward value in the previous step. <code>P = FF / 4</code></li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_ROLLRATE_I</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_PITCHRATE_I</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_ROLLRATE_D</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.001</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">param</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MC_PITCHRATE_D</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.001</span></span></code></pre></div><p>Then increase the <code>P</code> and <code>D</code> gains as needed until it tracks well. It is expected that the <code>P</code> gain is considerably smaller than the <code>FF</code> gain.</p></li></ol>`,36)]))}const u=r(h,[["render",p]]);export{f as __pageData,u as default};
