import{_ as a}from"./chunks/bootloader_update.Xd2jMk9_.js";import{_ as s}from"./chunks/bootloader_fmu_v3_update.CJAgyzEt.js";import{_ as e,c as t,a8 as l,o as h}from"./chunks/framework.BDnHobkS.js";const m=JSON.parse('{"title":"Bootloader 更新","description":"","frontmatter":{},"headers":[],"relativePath":"zh/advanced_config/bootloader_update.md","filePath":"zh/advanced_config/bootloader_update.md"}'),n={name:"zh/advanced_config/bootloader_update.md"};function o(p,i,r,d,k,F){return h(),t("div",null,i[0]||(i[0]=[l(`<h1 id="bootloader-更新" tabindex="-1">Bootloader 更新 <a class="header-anchor" href="#bootloader-更新" aria-label="Permalink to &quot;Bootloader 更新&quot;">​</a></h1><p>The <em>PX4 Bootloader</em> is used to load firmware for <a href="./../flight_controller/pixhawk_series.html">Pixhawk boards</a> (PX4FMU, PX4IO).</p><p>Pixhawk控制器通常预安装了适当的引导程序。 但在某些情况下，当它不存在，或者有一个的旧版本需要更新。</p><p>此篇介绍了更新 Pixhawk bootloader 的几种常见方法。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><ul><li>Most boards will need to use the <a href="#debug-probe-bootloader-update">Debug Probe</a> to update the bootloader.</li><li>On <a href="./../flight_controller/pixhawk6x-rt.html">FMUv6X-RT</a> you can <a href="./bootloader_update_v6xrt.html">install bootloader/unbrick boards via USB</a>. This is useful if you don&#39;t have a debug probe.</li><li>On FMUv2 and some custom firmware (only) you can use <a href="#qgc-bootloader-update">QGC Bootloader Update</a>.</li></ul></div><h2 id="构建px4-启动加载器" tabindex="-1">构建PX4 启动加载器 <a class="header-anchor" href="#构建px4-启动加载器" aria-label="Permalink to &quot;构建PX4 启动加载器&quot;">​</a></h2><h3 id="px4-bootloader-fmuv6x-and-later" tabindex="-1">PX4 Bootloader FMUv6X and later <a class="header-anchor" href="#px4-bootloader-fmuv6x-and-later" aria-label="Permalink to &quot;PX4 Bootloader FMUv6X and later&quot;">​</a></h3><p>从FMUv6X （STM32H7）的板子开始，使用代码树内的 PX4 bootloader。</p><p>This can be built from within the <a href="https://github.com/PX4/PX4-Autopilot" target="_blank" rel="noreferrer">PX4-Autopilot</a> directory using the <code>make</code> command and the board-specific target with a <code>_bootloader</code> suffix.</p><p>对于FMUv6X，命令是：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6x_bootloader</span></span></code></pre></div><p>This will build the bootloader binary as <code>build/px4_fmu-v6x_bootloader/px4_fmu-v6x_bootloader.elf</code>, which can be flashed via SWD or DFU. 如果你正准备构建 bootloader，你应该已经熟悉这些选项之一。</p><p>如果需要 HEX 文件而不是 ELF 文件，请使用 objcopy 参数：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-objcopy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ihex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/px4_fmu-v6x_bootloader/px4_fmu-v6x_bootloader.elf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6x_bootloader.hex</span></span></code></pre></div><h3 id="px4-bootloader-fmuv5x-and-earlier" tabindex="-1">PX4 Bootloader FMUv5X and earlier <a class="header-anchor" href="#px4-bootloader-fmuv5x-and-earlier" aria-label="Permalink to &quot;PX4 Bootloader FMUv5X and earlier&quot;">​</a></h3><p>PX4 boards up to FMUv5X (before STM32H7) used the <a href="https://github.com/PX4/Bootloader" target="_blank" rel="noreferrer">PX4 bootloader</a> repository.</p><p>The instructions in the repo README explain how to use it.</p><h2 id="构建旧的-px4-启动加载器" tabindex="-1">构建旧的 PX4 启动加载器 <a class="header-anchor" href="#构建旧的-px4-启动加载器" aria-label="Permalink to &quot;构建旧的 PX4 启动加载器&quot;">​</a></h2><p>The following steps explain how you can &quot;manually&quot; update the bootloader using a <a href="./../debug/swd_debug.html#debug-probes-for-px4-hardware">compatible Debug Probe</a>:</p><ol><li><p>Get a binary containing the bootloader (either from dev team or <a href="#building-the-px4-bootloader">build it yourself</a>).</p></li><li><p>Get a <a href="./../debug/swd_debug.html#debug-probes-for-px4-hardware">Debug Probe</a>. Connect the probe your PC via USB and setup the <code>gdbserver</code>.</p></li><li><p>Go into the directory containing the binary and run the command for your target bootloader in the terminal:</p><ul><li><p>FMUv6X</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6x_bootloader.elf</span></span></code></pre></div></li><li><p>FMUv6X-RT</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6xrt_bootloader.elf</span></span></code></pre></div></li><li><p>FMUv5</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div></li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>H7 Bootloaders from <a href="https://github.com/PX4/PX4-Autopilot" target="_blank" rel="noreferrer">PX4/PX4-Autopilot</a> are named with pattern <code>*._bootloader.elf</code>. Bootloaders from <a href="https://github.com/PX4/PX4-Bootloader" target="_blank" rel="noreferrer">PX4/PX4-Bootloader</a> are named with the pattern <code>*_bl.elf</code>.</p></div></li></ol><p>:::</p><ol start="4"><li><p>The <em>gdb terminal</em> appears and it should display the following output:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (GNU </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Tools</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Arm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Embedded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Processors</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 7-2017-q4-major</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 8.0.50.20171128-git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Copyright</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (C) 2017 Free Software Foundation, Inc.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">License</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GPLv3+:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GPL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> later</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://gnu.org/licenses/gpl.htm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">This</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> free</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> software:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> free</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> change</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redistribute</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">There</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> WARRANTY,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> permitted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> law.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;show copying&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;show warranty&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> details.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">This</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> was</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;--host=x86_64-linux-gnu --target=arm-none-eabi&quot;.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;show configuration&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> details.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bug</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> instructions,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> please</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> see:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http://www.gnu.org/software/gdb/bugs/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> other</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> documentation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resources</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> online</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http://www.gnu.org/software/gdb/documentation/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;help&quot;.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;apropos word&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> search</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> related</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;word&quot;...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Reading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> symbols</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4fmuv5_bl.elf...done.</span></span></code></pre></div></li><li><p>Find your <code>&lt;dronecode-probe-id&gt;</code> by running an <code>ls</code> command in the <strong>/dev/serial/by-id</strong> directory.</p></li><li><p>Now connect to the debug probe with the following command:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/serial/by-id/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dronecode-probe-i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div></li><li><p>Power on the Pixhawk with another USB cable and connect the probe to the <code>FMU-DEBUG</code> port.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If using a Dronecode probe you may need to remove the case in order to connect to the <code>FMU-DEBUG</code> port (e.g. on Pixhawk 4 you would do this using a T6 Torx screwdriver).</p></div></li></ol><p>:::</p><ol start="8"><li><p>Use the following command to scan for the Pixhawk\`s SWD and connect to it:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swdp_scan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">attach</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div></li><li><p>将二进制文件加载到 Pixhawk 中 ：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span></span></code></pre></div></li></ol><p>After the bootloader has updated you can <a href="./../config/firmware.html">Load PX4 Firmware</a> using <em>QGroundControl</em>.</p><h2 id="qgc-引导加载器更新" tabindex="-1">QGC 引导加载器更新 <a class="header-anchor" href="#qgc-引导加载器更新" aria-label="Permalink to &quot;QGC 引导加载器更新&quot;">​</a></h2><p>The easiest approach is to first use <em>QGroundControl</em> to install firmware that contains the desired/latest bootloader. You can then initiate bootloader update on next restart by setting the parameter: <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a>.</p><p>This approach can only be used if <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a> is present in firmware.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Currently only FMUv2 and some custom firmware includes the desired bootloader.</p></div><p>步骤如下：</p><ol><li><p>插入 SD 卡（使能引导日志记录，便于调试任何可能的问题）。</p></li><li><p><a href="./../config/firmware.html#custom">Update the Firmware</a> with an image containing the new/desired bootloader.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The updated bootloader might be supplied in custom firmware (i.e. from the dev team), or it or may be included in the latest main branch.</p></div></li></ol><p>:::</p><ol start="3"><li><p>等待飞控重启。</p></li><li><p><a href="./../advanced_config/parameters.html">Find and enable</a> the parameter <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a>.</p></li><li><p>重新启动（断开/重新连接飞控板）。 Bootloader 更新只需要几秒钟即可完成。</p></li></ol><p>Generally at this point you may then want to <a href="./../config/firmware.html">update the firmware</a> again using the correct/newly installed bootloader.</p><p>以下是更新FMUv2引导程序的一个具体例子。</p><h3 id="fmuv2-引导加载器更新" tabindex="-1">FMUv2 引导加载器更新 <a class="header-anchor" href="#fmuv2-引导加载器更新" aria-label="Permalink to &quot;FMUv2 引导加载器更新&quot;">​</a></h3><p>If <em>QGroundControl</em> installs the FMUv2 target (see console during installation), and you have a newer board, you may need to update the bootloader in order to access all the memory on your flight controller.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Early FMUv2 <a href="./../flight_controller/pixhawk_series.html#fmu_versions">Pixhawk-series</a> flight controllers had a <a href="./../flight_controller/silicon_errata.html#fmuv2-pixhawk-silicon-errata">hardware issue</a> that restricted them to using 1MB of flash memory. 这个问题已在新版面解决， 但您可能需要更新工厂提供的引导程序，以便安装 FMUv3 固件并访问所有 2MB 可用内存。</p></div><p>要更新引导器：</p><ol><li><p>插入 SD 卡（使能引导日志记录，便于调试任何可能的问题）。</p></li><li><p><a href="./../config/firmware.html">Update the Firmware</a> to PX4 <em>master</em> version (when updating the firmware, check <strong>Advanced settings</strong> and then select <strong>Developer Build (master)</strong> from the dropdown list). <em>QGroundControl</em> will automatically detect that the hardware supports FMUv2 and install the appropriate Firmware.</p><p><img src="`+a+'" alt="FMUv2 update"></p><p>等待飞控重启。</p></li><li><p><a href="./../advanced_config/parameters.html">Find and enable</a> the parameter <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a>.</p></li><li><p>重新启动（断开/重新连接飞控板）。 Bootloader 更新只需要几秒钟即可完成。</p></li><li><p>Then <a href="./../config/firmware.html">Update the Firmware</a> again. This time <em>QGroundControl</em> should autodetect the hardware as FMUv3 and update the Firmware appropriately.</p><p><img src="'+s+'" alt="FMUv3 update"></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If the hardware has the <a href="./../flight_controller/silicon_errata.html#fmuv2-pixhawk-silicon-errata">Silicon Errata</a> it will still be detected as FMUv2 and you will see that FMUv2 was re-installed (in console). 在这种情况下，您将无法安装 FMUv3 硬件。</p></div></li></ol><p>:::</p><h2 id="其他飞控板-非-pixhawk" tabindex="-1">其他飞控板（非 Pixhawk） <a class="header-anchor" href="#其他飞控板-非-pixhawk" aria-label="Permalink to &quot;其他飞控板（非 Pixhawk）&quot;">​</a></h2><p>Boards that are not part of the <a href="./../flight_controller/pixhawk_series.html">Pixhawk Series</a> will have their own mechanisms for bootloader update.</p><p>For boards that are preflashed with Betaflight, see <a href="./bootloader_update_from_betaflight.html">Bootloader Flashing onto Betaflight Systems</a>.</p>',44)]))}const y=e(n,[["render",o]]);export{m as __pageData,y as default};
