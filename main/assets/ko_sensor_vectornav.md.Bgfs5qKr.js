import{_ as a}from"./chunks/vn-300-smd-rugged.alct9I8v.js";import{_ as t,c as r,a8 as o,o as n}from"./chunks/framework.BDnHobkS.js";const f=JSON.parse('{"title":"VectorNav","description":"","frontmatter":{},"headers":[],"relativePath":"ko/sensor/vectornav.md","filePath":"ko/sensor/vectornav.md"}'),i={name:"ko/sensor/vectornav.md"};function s(l,e,c,d,h,p){return n(),r("div",null,e[0]||(e[0]=[o('<h1 id="vectornav" tabindex="-1">VectorNav <a class="header-anchor" href="#vectornav" aria-label="Permalink to &quot;VectorNav&quot;">​</a></h1><p>VectorNav Technologies designs and develops high-performance, low-SWaP <a href="https://www.vectornav.com/resources/inertial-navigation-primer/theory-of-operation/theory-ahrs" target="_blank" rel="noreferrer">IMU/AHRS</a>, <a href="https://www.vectornav.com/resources/inertial-navigation-primer/theory-of-operation/theory-gpsins" target="_blank" rel="noreferrer">GNSS/INS</a>, and <a href="https://www.vectornav.com/resources/inertial-navigation-primer/theory-of-operation/theory-gnsscompass" target="_blank" rel="noreferrer">Dual GNSS/INS</a> solutions that enable safe and reliable autonomy at scale.</p><p><img src="'+a+'" alt="VN-300"></p><p>VectorNav products provide a range of benefits to PX4 users and can be integrated for:</p><ul><li>Higher accuracy heading, pitch, and roll estimates</li><li>More robust and reliable GNSS positioning</li><li>Improved positioning and attitude performance in GNSS-contested environments</li><li>Performance under challenging dynamic conditions (e.g. catapult launches, VTOL operations, high-g or high angular rate operations)</li></ul><p>The VectorNav PX4 Driver is streamlined to provide a simple plug-and-play architecture, removing engineering obstacles and allowing the acceleration of the design, development, and launch of platforms to keep pace with the rapid rate of innovation.</p><p>PX4 can use these as an <a href="./../sensor/inertial_navigation_systems.html">external INS</a>, bypassing/replacing the EKF2 estimator, or as a source of raw sensor data provided to the estimator.</p><p>The driver supports <a href="https://www.vectornav.com/store/products" target="_blank" rel="noreferrer">all VectorNav sensors</a>. In particular the following systems are recommended:</p><ul><li><strong>VN-200 GNSS/INS:</strong> Recommended for fixed-wing systems without hovering, where static heading is not necessary.</li><li><strong>VN-300 DUAL GNSS/INS:</strong> Recommended for multicopter systems where hovering and low dynamics requires the use of static heading.</li></ul><h2 id="구매처" tabindex="-1">구매처 <a class="header-anchor" href="#구매처" aria-label="Permalink to &quot;구매처&quot;">​</a></h2><p>VectorNav IMU/AHRS, GNSS/INS, and Dual GNSS/INS solutions are available directly from <a href="https://www.vectornav.com/store/products" target="_blank" rel="noreferrer">VectorNav Technologies</a> (US) or through their Global Sales Representatives. For more information on their solutions or for international orders, please contact <a href="mailto:sales@vectornav.com" target="_blank" rel="noreferrer">sales@vectornav.com</a>.</p><p><a href="https://www.vectornav.com/store/products/gnss-ins/p/vn-200-rugged-development-kit" target="_blank" rel="noreferrer">Purchase VN-200 Development Kit</a> (GNSS/INS) <a href="https://www.vectornav.com/store/products/dual-gnss-ins/p/vn-300-rugged-development-kit" target="_blank" rel="noreferrer">Purchase VN-300 Development Kit</a> (Dual GNSS/INS)</p><h2 id="하드웨어-설정" tabindex="-1">하드웨어 설정 <a class="header-anchor" href="#하드웨어-설정" aria-label="Permalink to &quot;하드웨어 설정&quot;">​</a></h2><h3 id="배선" tabindex="-1">배선 <a class="header-anchor" href="#배선" aria-label="Permalink to &quot;배선&quot;">​</a></h3><p>Connect any unused flight controller serial interface, such as a spare <code>GPS</code> or <code>TELEM</code> port, to the VectorNav UART2 port (required by PX4).</p><h3 id="장착" tabindex="-1">장착 <a class="header-anchor" href="#장착" aria-label="Permalink to &quot;장착&quot;">​</a></h3><p>The VectorNav sensor can be mounted in any orientation, in any position on the vehicle, without regard to center of gravity. All VectorNav sensors default to a coordinate system of x-forward, y-right, and z-down, making the default mounting as connector-back, base down. This can be changed to any rigid rotation using the VectorNav Reference Frame Rotation register.</p><p>If using a GNSS-enabled product, the GNSS antenna must be mounted rigidly with respect to the inertial sensor and with an unobstructed sky view. If using a dual-GNSS-enabled product (VN-3X0), the secondary antenna must be mounted rigidly with respect to the primary antenna and the inertial sensor with an unobstructed sky view.</p><p>For more mounting requirements and recommendations, see the relevant <a href="https://www.vectornav.com/resources/quick-start-guides" target="_blank" rel="noreferrer">Quick Start Guide</a>.</p><h2 id="펌웨어-설정" tabindex="-1">펌웨어 설정 <a class="header-anchor" href="#펌웨어-설정" aria-label="Permalink to &quot;펌웨어 설정&quot;">​</a></h2><h3 id="px4-설정" tabindex="-1">PX4 설정 <a class="header-anchor" href="#px4-설정" aria-label="Permalink to &quot;PX4 설정&quot;">​</a></h3><p>To use the VectorNav driver:</p><ol><li><p>Include the module in firmware in the <a href="./../hardware/porting_guide_config.html#px4-board-configuration-kconfig">kconfig board configuration</a> by setting the kconfig variables: <code>CONFIG_DRIVERS_INS_VECTORNAV</code> or <code>CONFIG_COMMON_INS</code>.</p></li><li><p><a href="./../advanced_config/parameters.html">Set the parameter</a> <a href="./../advanced_config/parameter_reference.html#SENS_VN_CFG">SENS_VN_CFG</a> to the hardware port connected to the VectorNav (for more information see <a href="./../peripherals/serial_configuration.html">Serial Port Configuration</a>).</p></li><li><p>Disable magnetometer preflight checks by setting <a href="./../advanced_config/parameter_reference.html#SYS_HAS_MAG">SYS_HAS_MAG</a> to <code>0</code>.</p></li><li><p>Allow the VectorNav driver to initialize by restarting PX4.</p></li><li><p>Configure driver as either an external INS or to provide raw data:</p><ul><li><p>If using the VectorNav as an external INS, set <a href="./../advanced_config/parameter_reference.html#VN_MODE">VN_MODE</a> to <code>INS</code>. This disables EKF2.</p></li><li><p>If using the VectorNav as external inertial sensors:</p><ol><li>Set <a href="./../advanced_config/parameter_reference.html#VN_MODE">VN_MODE</a> to <code>Sensors Only</code></li><li>If internal sensors are enabled, prioritize VectorNav sensors using <a href="./../advanced_config/parameter_reference.html#CAL_GYRO0_PRIO">CAL_GYROn_PRIO</a>, <a href="./../advanced_config/parameter_reference.html#CAL_ACC0_PRIO">CAL_ACCn_PRIO</a>, <a href="./../advanced_config/parameter_reference.html#CAL_BARO0_PRIO">CAL_BAROn_PRIO</a>, <a href="./../advanced_config/parameter_reference.html#CAL_MAG0_PRIO">CAL_MAGn_PRIO</a>, where <em>n</em> is the instance number of the IMU component (0, 1, etc.).</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In most cases the external IMU (VN) is the highest-numbered. You can get a list of the IMU components available using <a href="./../middleware/uorb.html#uorb-top-command"><code>uorb top -1</code></a>, you can differentiate between them using the <a href="./../modules/modules_command.html#listener"><code>listener</code></a> command and looking through the data, or just the rates.</p><p>Alternatively, you can check <a href="./../advanced_config/parameter_reference.html#CAL_GYRO0_ID">CAL_GYROn_ID</a> to see the device id. The priority is 0-255, where 0 is entirely disabled and 255 is highest priority.</p></div></li></ul></li></ol><p>:::</p><ol start="6"><li>Restart PX4.</li></ol><p>Once enabled, the module will be detected on boot. IMU data should be published at 800Hz (400Hz if using VN-300).</p><h2 id="vectornav-configuration" tabindex="-1">VectorNav Configuration <a class="header-anchor" href="#vectornav-configuration" aria-label="Permalink to &quot;VectorNav Configuration&quot;">​</a></h2><p>Definitions for all commands and registers referenced in this section can be found in the respective <a href="https://www.vectornav.com/resources/interface-control-documents" target="_blank" rel="noreferrer">VectorNav ICD</a>.</p><p>Upon initialization, PX4 configures the VectorNav unit as follows:</p><ul><li>Enables necessary binary outputs</li><li>Disables ASCII outputs on active serial port</li><li>Configures VPE Heading Mode to Absolute</li><li>Autoscans baudrates and configures active port to 921600 bps</li></ul><p>All other necessary configuration parameters must be separately loaded to the VectorNav unit manually. These most commonly include:</p><ul><li><code>GNSS Antenna A Offset</code> Necessary if using a GNSS-enabled product and the GNSS antenna is mounted more than 10 cm from the VectorNav unit</li><li><code>GNSS Antenna Baseline</code> Necessary if using a dual-GNSS-enabled product</li><li><code>Reference Frame Rotation</code> Necessary if not mounted as connector-back, base-down</li><li><code>IMU Filtering Config</code> Recommended to adjust the default 200Hz IMU filtering</li></ul><p>After setting these parameters, the settings must be set to persist over a power cycle using a Write Non Volatile command.</p><h2 id="published-data" tabindex="-1">Published Data <a class="header-anchor" href="#published-data" aria-label="Permalink to &quot;Published Data&quot;">​</a></h2><p>Upon initialization, the driver should print the following information to console (printed using <code>PX4_INFO</code>)</p><ul><li>Unit model number</li><li>Unit hardware version</li><li>Unit serial number</li><li>Unit firmware number</li></ul><p>This should be accessible using the <a href="./../modules/modules_system.html#dmesg"><code>dmesg</code></a> command.</p><p>The VectorNav driver always publishes the unit&#39;s data to the following UOrb topics:</p><ul><li><a href="./../msg_docs/SensorAccel.html">sensor_accel</a></li><li><a href="./../msg_docs/SensorGyro.html">sensor_gyro</a></li><li><a href="./../msg_docs/SensorMag.html">sensor_mag</a></li><li><a href="./../msg_docs/SensorBaro.html">sensor_baro</a></li><li><a href="./../msg_docs/SensorGps.html">sensor_gps</a></li></ul><p>and, if enabled as an external INS, publishes:</p><ul><li><a href="./../msg_docs/VehicleLocalPosition.html">vehicle_local_position</a></li><li><a href="./../msg_docs/VehicleGlobalPosition.html">vehicle_global_positon</a></li><li><a href="./../msg_docs/VehicleAttitude.html">vehicle_attitude</a></li></ul><p>or, if enabled as external sensor only, publishes:</p><ul><li><code>external_ins_local_position</code></li><li><code>external_ins_global_position</code></li><li><code>external_ins_attitude</code></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Published topics can be viewed using the <code>listener</code> command.</p></div><h2 id="hardware-specifications" tabindex="-1">Hardware Specifications <a class="header-anchor" href="#hardware-specifications" aria-label="Permalink to &quot;Hardware Specifications&quot;">​</a></h2><ul><li><a href="https://www.vectornav.com/resources/product-briefs" target="_blank" rel="noreferrer">Product Briefs</a></li><li><a href="https://www.vectornav.com/resources/datasheets" target="_blank" rel="noreferrer">Datasheets</a></li></ul>',46)]))}const g=t(i,[["render",s]]);export{f as __pageData,g as default};
