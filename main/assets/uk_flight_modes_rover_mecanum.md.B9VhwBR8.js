import{_ as e}from"./chunks/manual_controls_mecanum.D21szvmd.js";import{_ as o,c as a,a8 as i,o as r}from"./chunks/framework.BDnHobkS.js";const f=JSON.parse('{"title":"Drive Modes (Mecanum Rover)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/flight_modes_rover/mecanum.md","filePath":"uk/flight_modes_rover/mecanum.md"}'),s={name:"uk/flight_modes_rover/mecanum.md"};function n(d,t,l,h,c,m){return r(),a("div",null,t[0]||(t[0]=[i('<h1 id="drive-modes-mecanum-rover" tabindex="-1">Drive Modes (Mecanum Rover) <a class="header-anchor" href="#drive-modes-mecanum-rover" aria-label="Permalink to &quot;Drive Modes (Mecanum Rover)&quot;">​</a></h1><p>Flight modes (or more accurately &quot;Drive modes&quot; for ground vehicles) provide autopilot support to make it easier to manually drive the vehicle or to execute autonomous missions.</p><p>This section outlines all supported drive modes for mecanum rovers.</p><p>For information on mapping RC control switches to specific modes see: <a href="./../config/flight_mode.html">Basic Configuration &gt; Flight Modes</a>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Selecting any other mode than those listed below will either stop the rover or can lead to undefined behaviour.</p></div><h2 id="manual-modes" tabindex="-1">Manual Modes <a class="header-anchor" href="#manual-modes" aria-label="Permalink to &quot;Manual Modes&quot;">​</a></h2><p>Manual modes require stick inputs from the user to drive the vehicle.</p><p><img src="'+e+'" alt="Manual Controls"></p><p>The sticks provide the same &quot;high level&quot; control effects over direction and rate of movement in all manual modes:</p><ul><li><code>Left stick up/down</code>: Drive the rover forwards/backwards (controlling speed)</li><li><code>Left stick left/right</code>: Yaw the rover to the left/right (controlling yaw rate).</li><li><code>Right stick left/right</code>: Drive the rover left/right (controlling speed)</li></ul><p>The manual modes provide progressively increasing levels of autopilot support for maintaining a course, speed, and rate of turn, compensating for external factors such as slopes or uneven terrain.</p><table tabindex="0"><thead><tr><th>Режим</th><th>Функції</th></tr></thead><tbody><tr><td><a href="#manual-mode">Manual</a></td><td>No autopilot support. User is responsible for keeping the rover on the desired course and maintaining speed and rate of turn.</td></tr><tr><td><a href="#acro-mode">Acro</a></td><td>+ Maintains yaw rate (despite external factors)<br>+ Allows maximum yaw rate to be limited.<br>+ Slightly better at holding a straight line in uneven terrain.</td></tr><tr><td><a href="#stabilized-mode">Stabilized</a></td><td>+ Maintains heading (yaw) which makes it significantly better at holding a straight line.</td></tr><tr><td><a href="#position-mode">Position</a></td><td>+ Best mode for holding a straight line.<br>+ Maintains speed against disturbances, e.g. when driving up a hill<br>+ Allows maximum speed to be limited.</td></tr></tbody></table><details class="details custom-block"><summary>Details</summary><p>Overview mode mapping to control effect</p><table tabindex="0"><thead><tr><th>Режим</th><th>Forward/Lateral speed</th><th>Швидкість крену</th><th>Required measurements</th></tr></thead><tbody><tr><td><a href="#manual-mode">Manual</a></td><td>Directly map stick input to motor commands.</td><td>Directly map stick input to motor commands.</td><td>None.</td></tr><tr><td><a href="#acro-mode">Acro</a></td><td>Directly map stick input to motor commands.</td><td>Stick input creates a yaw rate setpoint for the control system to regulate.</td><td>Yaw rate.</td></tr><tr><td><a href="#stabilized-mode">Stabilized</a></td><td>Directly map stick input to motor commands.</td><td>Stick input creates a yaw rate setpoint for the control system to regulate. If this setpoint is zero (stick is centered) the control system will maintain the current yaw (heading) of the rover.</td><td>Yaw rate and yaw.</td></tr><tr><td><a href="#position-mode">Position</a></td><td>Stick input creates a velocity setpoint for the control system to regulate.</td><td>Stick input creates a yaw rate setpoint for the control system to regulate. If this setpoint is zero (stick is centered) the control system will keep the rover driving in a straight line.</td><td>Yaw rate, yaw, velocity and global position (GPS).</td></tr></tbody></table></details><h3 id="ручнии-режим" tabindex="-1">Ручний режим <a class="header-anchor" href="#ручнии-режим" aria-label="Permalink to &quot;Ручний режим&quot;">​</a></h3><p>In this mode the stick inputs are directly mapped to motor commands. The rover does not attempt to maintain a specific orientation or compensate for external factors like slopes or uneven terrain! The user is responsible for making the necessary adjustments to the stick inputs to keep the rover on the desired course.</p><table tabindex="0"><thead><tr><th>Stick</th><th>Effect</th></tr></thead><tbody><tr><td>Left stick up/down</td><td>Stick position directly sets speed forward/backward.</td></tr><tr><td>Left stick left/right</td><td>Stick position directly sets yaw rate in left/right direction.</td></tr><tr><td>Right stick left/right</td><td>Stick position directly sets speed left/right.</td></tr></tbody></table><p>For the configuration/tuning of this mode see <a href="./../config_rover/mecanum.html#manual-mode">Manual mode</a>.</p><h3 id="acro-mode" tabindex="-1">Acro Mode <a class="header-anchor" href="#acro-mode" aria-label="Permalink to &quot;Acro Mode&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This mode requires a yaw rate measurement.</p></div><p>The vehicle regulates its yaw rate (Left stick left/right) to a setpoint, and a maximum yaw rate can also be specified. Heading and speed are not controlled.</p><p>Compared to <a href="#manual-mode">Manual mode</a> this introduces the following new features:</p><ul><li>The yaw rate control ensures that the rover turns at the requested rate even on different surfaces and due to other external forces (such as wind).</li><li>Slightly better at driving in a straight line because if the input is zero PX4 will attempt to maintain a zero yaw rate. This is resistant to minor disturbances.</li><li>Upper limit for the yaw rate can be used to tune how aggressive the rover turns.</li></ul><table tabindex="0"><thead><tr><th>Stick</th><th>Effect</th></tr></thead><tbody><tr><td>Left stick up/down</td><td>Stick position directly sets speed forward/backward.</td></tr><tr><td>Left stick left/right</td><td>Stick position sets yaw-rate setpoint. The vehicle will track the setpoint irrespective of uneven surfaces or other external forces. If the input is zero the control system will attempt to maintain a zero yaw rate.</td></tr><tr><td>Right stick left/right</td><td>Stick position directly sets speed left/right.</td></tr></tbody></table><p>For the configuration/tuning of this mode see <a href="./../config_rover/mecanum.html#acro-mode">Acro mode</a>.</p><h3 id="stabilized-mode" tabindex="-1">Stabilized Mode <a class="header-anchor" href="#stabilized-mode" aria-label="Permalink to &quot;Stabilized Mode&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This mode requires a yaw rate and yaw estimate.</p></div><p>The vehicle regulates its yaw rate to a setpoint, and a maximum yaw rate can also be specified. The vehicle regulates its yaw to a setpoint when the yaw rate setpoint is zero, maintaining the heading. Speed is not controlled.</p><p>Compared to <a href="#acro-mode">Acro mode</a>, this mode is much better at driving in a straight line as it can more effectively reject disturbances.</p><table tabindex="0"><thead><tr><th>Stick</th><th>Effect</th></tr></thead><tbody><tr><td>Left stick up/down</td><td>Stick position directly sets speed forward/backward.</td></tr><tr><td>Left stick left/right</td><td>Stick position sets yaw-rate setpoint. The vehicle will track the setpoint irrespective of uneven surfaces or other external forces. If this input is zero the control system will maintain the current yaw (heading).</td></tr><tr><td>Right stick left/right</td><td>Stick position directly sets speed left/right.</td></tr></tbody></table><p>For the configuration/tuning of this mode see <a href="./../config_rover/mecanum.html#stabilized-mode">Stabilized mode</a>.</p><h3 id="position-mode" tabindex="-1">Position Mode <a class="header-anchor" href="#position-mode" aria-label="Permalink to &quot;Position Mode&quot;">​</a></h3><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This mode requires a yaw rate, yaw, speed and global position estimate.</p></div><p>This is the mode with the most autopilot support.</p><p>The vehicle regulates its yaw rate to a setpoint, and a maximum yaw rate can also be specified. The path is maintained when the yaw rate setpoint is zero using global position (the controller constructs a line in the direction of the velocity input (forward + lateral speed) that the rover will then follow by tracking the global position). Speed is regulated to a setpoint, and a maximum value can be set.</p><p>Compared to <a href="#stabilized-mode">Stabilized Mode</a> this introduces the following features:</p><ul><li>Upper limit for the speed (see <a href="./../config_rover/mecanum.html#position-mode">Position Mode</a>) to tune how fast the rover is allowed to drive.</li><li>The speed control ensures that the rover drives the requested speed even under disturbances (i.e. driving up a hill, against wind, with a heavier payload etc.).</li><li>The course control leads to the best straight line driving behaviour, as the vehicle will follow the intended path of the vehicle and return to it if forced off-track This is much better than stabilized mode, which can be forced off the intended track by disturbances.</li></ul><table tabindex="0"><thead><tr><th>Stick</th><th>Effect</th></tr></thead><tbody><tr><td>Left stick up/down</td><td>Stick position sets a forward/back speed setpoint. The vehicle attempts to maintain this speed on slopes etc.</td></tr><tr><td>Left stick left/right</td><td>Create a yaw rate setpoint for the control system to regulate. If this input is zero the control system will maintain the course of the rover.</td></tr><tr><td>Right stick left/right</td><td>Stick position sets a lateral speed setpoint. The vehicle attempts to maintain this speed on slopes etc.</td></tr></tbody></table><p>For the configuration/tuning of this mode see <a href="./../config_rover/mecanum.html#position-mode">Position mode</a>.</p><h2 id="auto-modes" tabindex="-1">Auto Modes <a class="header-anchor" href="#auto-modes" aria-label="Permalink to &quot;Auto Modes&quot;">​</a></h2><p>In auto modes the autopilot takes over control of the vehicle to run missions, return to launch, or perform other autonomous navigation tasks. For the configuration/tuning of these modes see <a href="./../config_rover/mecanum.html#auto-modes">Auto Modes</a>.</p><h3 id="mission-mode" tabindex="-1">Mission Mode <a class="header-anchor" href="#mission-mode" aria-label="Permalink to &quot;Mission Mode&quot;">​</a></h3><p><em>Mission mode</em> is an automatic mode in which the vehicle executes a predefined autonomous <a href="./../flying/missions.html">mission plan</a> that has been uploaded to the flight controller. The mission is typically created and uploaded with a Ground Control Station (GCS) application, such as <a href="https://docs.qgroundcontrol.com/master/en/" target="_blank" rel="noreferrer">QGroundControl</a>.</p><h4 id="mission-commands" tabindex="-1">Mission commands <a class="header-anchor" href="#mission-commands" aria-label="Permalink to &quot;Mission commands&quot;">​</a></h4><p>The following commands can be used in missions at time of writing (<code>main(PX4 v1.16+)</code>):</p><table tabindex="0"><thead><tr><th>QGC mission item</th><th>Команда</th><th>Опис</th></tr></thead><tbody><tr><td>Mission start</td><td><a href="./MAV_CMD_MISSION_START.html">MAV_CMD_MISSION_START</a></td><td>Starts the mission.</td></tr><tr><td>Waypoint</td><td><a href="./MAV_CMD_NAV_WAYPOINT.html">MAV_CMD_NAV_WAYPOINT</a></td><td>Navigate to waypoint.</td></tr><tr><td>Return to launch</td><td><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_NAV_RETURN_TO_LAUNCH" target="_blank" rel="noreferrer">MAV_CMD_NAV_RETURN_TO_LAUNCH</a></td><td>Return to the launch location.</td></tr><tr><td>Delay until</td><td><a href="./MAV_CMD_NAV_DELAY.html">MAV_CMD_NAV_DELAY</a></td><td>The rover will stop for a specified amount of time.</td></tr><tr><td>Change speed</td><td><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_CHANGE_SPEED" target="_blank" rel="noreferrer">MAV_CMD_DO_CHANGE_SPEED</a></td><td>Change the speed setpoint</td></tr><tr><td>Set launch location</td><td><a href="./MAV_CMD_DO_SET_HOME.html">MAV_CMD_DO_SET_HOME</a></td><td>Changes launch location to specified coordinates.</td></tr><tr><td>Jump to item (all)</td><td><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_DO_JUMP" target="_blank" rel="noreferrer">MAV_CMD_DO_JUMP</a> (and other jump commands)</td><td>Jump to specified mission item.</td></tr><tr><td>Loiter (all)</td><td><a href="https://mavlink.io/en/messages/common.html#MAV_CMD_NAV_LOITER_TIME" target="_blank" rel="noreferrer">MAV_CMD_NAV_LOITER_TIME</a> (and other loiter commands)</td><td>Stop the rover for given time. Other commands stop indefinitely.</td></tr></tbody></table><h3 id="return-mode" tabindex="-1">Return Mode <a class="header-anchor" href="#return-mode" aria-label="Permalink to &quot;Return Mode&quot;">​</a></h3><p>This mode uses the <a href="./../config_rover/mecanum.html#pure-pursuit-guidance-logic">pure pursuit guidance logic</a> with the launch position as goal. Return mode can be activated through the respective <a href="#mission-commands">mission command</a> or through the ground station UI.</p>',47)]))}const g=o(s,[["render",n]]);export{f as __pageData,g as default};
