import{_ as a}from"./chunks/position_fixed.t2m3lWVy.js";import{_ as t,c as r,a8 as i,o}from"./chunks/framework.BDnHobkS.js";const u=JSON.parse('{"title":"Takeoff Mode (Fixed-Wing)","description":"","frontmatter":{},"headers":[],"relativePath":"en/flight_modes_fw/takeoff.md","filePath":"en/flight_modes_fw/takeoff.md"}'),n={name:"en/flight_modes_fw/takeoff.md"};function d(l,e,h,c,f,_){return o(),r("div",null,e[0]||(e[0]=[i('<h1 id="takeoff-mode-fixed-wing" tabindex="-1">Takeoff Mode (Fixed-Wing) <a class="header-anchor" href="#takeoff-mode-fixed-wing" aria-label="Permalink to &quot;Takeoff Mode (Fixed-Wing)&quot;">​</a></h1><img src="'+a+'" title="Position fix required (e.g. GPS)" width="30px"><p>The <em>Takeoff</em> flight mode causes the vehicle to take off to a specified height and then enter <a href="./../flight_modes_fw/takeoff.html">Hold mode</a>.</p><p>Vehicles are <a href="#catapult-hand-launch">hand or catapult launched</a> by default, but can also be <a href="#RWTO_TKOFF">configured</a> to use a <a href="#runway-takeoff">runway takeoff</a> when supported by the hardware.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><ul><li>Mode is automatic - no user intervention is <em>required</em> to control the vehicle.</li><li>Mode requires at least a valid local position estimate (does not require a global position). <ul><li>Flying vehicles can&#39;t switch to this mode without valid local position.</li><li>Flying vehicles will failsafe if they lose the position estimate.</li><li>Disarmed vehicles can switch to mode without valid position estimate but can&#39;t arm.</li></ul></li><li>RC control switches can be used to change flight modes.</li><li>RC stick movement is ignored in catapult takeoff but can can be used to nudge the vehicle in runway takeoff.</li><li>The <a href="./../config/safety.html#failure-detector">Failure Detector</a> will automatically stop the engines if there is a problem on takeoff.</li></ul></div><h2 id="technical-summary" tabindex="-1">Technical Summary <a class="header-anchor" href="#technical-summary" aria-label="Permalink to &quot;Technical Summary&quot;">​</a></h2><p>Takeoff mode (and <a href="./../flight_modes_fw/mission.html#mission-takeoff">fixed wing mission takeoff</a>) has two modalities: <a href="#catapult-hand-launch">catapult/hand-launch</a> or <a href="#runway-takeoff">runway takeoff</a> (hardware-dependent). The mode defaults to catapult/hand launch, but can be set to runway takeoff by setting <a href="#RWTO_TKOFF">RWTO_TKOFF</a> to 1.</p><p>To use <em>Takeoff mode</em> you first switch to the mode, and then arm the vehicle. The acceleration of hand/catapult launch triggers the motors to start. For runway launch, motors ramp up automatically once the vehicle has been armed.</p><p>Irrespective of the modality, a flight path (starting point and takeoff course) and clearance altitude are defined:</p><ul><li>The starting point is the vehicle position when the takeoff mode is first entered.</li><li>The course is set to the vehicle heading on arming</li><li>The clearance altitude is set to <a href="#MIS_TAKEOFF_ALT">MIS_TAKEOFF_ALT</a>.</li></ul><p>On takeoff, the aircraft will follow line defined by the starting point and course, climbing at the maximum climb rate (<a href="./../advanced_config/parameter_reference.html#FW_T_CLMB_MAX">FW_T_CLMB_MAX</a>) until reaching the clearance altitude. Reaching the clearance altitude causes the vehicle to enter <a href="./../flight_modes_fw/takeoff.html">Hold mode</a>.</p><h3 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to &quot;Parameters&quot;">​</a></h3><p>Parameters that affect both catapult/hand-launch and runway takeoffs:</p><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><a id="MIS_TAKEOFF_ALT"></a><a href="./../advanced_config/parameter_reference.html#MIS_TAKEOFF_ALT">MIS_TAKEOFF_ALT</a></td><td>Minimum altitude setpoint above Home that the vehicle will climb to during takeoff.</td></tr><tr><td><a id="FW_TKO_AIRSPD"></a><a href="./../advanced_config/parameter_reference.html#FW_TKO_AIRSPD">FW_TKO_AIRSPD</a></td><td>Takeoff airspeed (is set to <a href="./../advanced_config/parameter_reference.html#FW_AIRSPD_MIN">FW_AIRSPD_MIN</a> if not defined by operator)</td></tr><tr><td><a id="FW_TKO_PITCH_MIN"></a><a href="./../advanced_config/parameter_reference.html#FW_TKO_PITCH_MIN">FW_TKO_PITCH_MIN</a></td><td>This is the minimum pitch angle setpoint during the climbout phase</td></tr><tr><td><a id="FW_T_CLMB_MAX"></a><a href="./../advanced_config/parameter_reference.html#FW_T_CLMB_MAX">FW_T_CLMB_MAX</a></td><td>Maximum climb rate.</td></tr><tr><td><a id="FW_FLAPS_TO_SCL"></a><a href="./../advanced_config/parameter_reference.html#FW_FLAPS_TO_SCL">FW_FLAPS_TO_SCL</a></td><td>Flaps setpoint during takeoff</td></tr></tbody></table><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The vehicle always respects normal FW max/min throttle settings during takeoff (<a href="./../advanced_config/parameter_reference.html#FW_THR_MIN">FW_THR_MIN</a>, <a href="./../advanced_config/parameter_reference.html#FW_THR_MAX">FW_THR_MAX</a>).</p></div><p><a id="hand_launch"></a></p><h2 id="catapult-hand-launch" tabindex="-1">Catapult/Hand Launch <a class="header-anchor" href="#catapult-hand-launch" aria-label="Permalink to &quot;Catapult/Hand Launch&quot;">​</a></h2><p>In <em>catapult/hand-launch mode</em> the vehicle waits to detect launch (based on acceleration trigger). On launch it enables the motor(s) and climbs with the maximum climb rate <a href="#FW_T_CLMB_MAX">FW_T_CLMB_MAX</a> while keeping the pitch setpoint above <a href="#FW_TKO_PITCH_MIN">FW_TKO_PITCH_MIN</a>. Once it reaches <a href="#MIS_TAKEOFF_ALT">MIS_TAKEOFF_ALT</a> it will automatically switch to <a href="./../flight_modes_fw/hold.html">Hold mode</a> and loiter.</p><p>All RC stick movement is ignored during the full takeoff sequence.</p><p>To launch in this mode:</p><ol><li>Arm the vehicle</li><li>Put the vehicle into <em>Takeoff mode</em></li><li>Launch/throw the vehicle (firmly) directly into the wind. You can also shake the vehicle first, wait till the motor spins up and then throw it</li></ol><h3 id="parameters-launch-detector" tabindex="-1">Parameters (Launch Detector) <a class="header-anchor" href="#parameters-launch-detector" aria-label="Permalink to &quot;Parameters (Launch Detector)&quot;">​</a></h3><p>The <em>launch detector</em> is affected by the following parameters:</p><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><a id="FW_LAUN_DETCN_ON"></a><a href="./../advanced_config/parameter_reference.html#FW_LAUN_DETCN_ON">FW_LAUN_DETCN_ON</a></td><td>Enable automatic launch detection. If disabled motors spin up on arming already</td></tr><tr><td><a id="FW_LAUN_AC_THLD"></a><a href="./../advanced_config/parameter_reference.html#FW_LAUN_AC_THLD">FW_LAUN_AC_THLD</a></td><td>Acceleration threshold (acceleration in body-forward direction must be above this value)</td></tr><tr><td><a id="FW_LAUN_AC_T"></a><a href="./../advanced_config/parameter_reference.html#FW_LAUN_AC_T">FW_LAUN_AC_T</a></td><td>Trigger time (acceleration must be above threshold for this amount of seconds)</td></tr><tr><td><a id="FW_LAUN_MOT_DEL"></a><a href="./../advanced_config/parameter_reference.html#FW_LAUN_MOT_DEL">FW_LAUN_MOT_DEL</a></td><td>Delay from launch detection to motor spin up</td></tr></tbody></table><p><a id="runway_launch"></a></p><h2 id="runway-takeoff" tabindex="-1">Runway Takeoff <a class="header-anchor" href="#runway-takeoff" aria-label="Permalink to &quot;Runway Takeoff&quot;">​</a></h2><p>Runway takeoffs can be used by vehicles with landing gear and and steerable wheel (only). You will first need to enable the wheel controller using the parameter <a href="#FW_W_EN">FW_W_EN</a>.</p><p>Vehicle should be centered and aligned with runway when takeoff is initiated. The operator can &quot;nudge&quot; the vehicle while on the runway to help keeping it centered and aligned (see <a href="./../advanced_config/parameter_reference.html#RWTO_NUDGE">RWTO_NUDGE</a>).</p><p>The <em>runway takeoff mode</em> has the following phases:</p><ol><li><strong>Throttle ramp</strong>: Throttle is ramped up within <a href="./../advanced_config/parameter_reference.html#RWTO_RAMP_TIME">RWTO_RAMP_TIME</a> to <a href="./../advanced_config/parameter_reference.html#RWTO_MAX_THR">RWTO_MAX_THR</a>.</li><li><strong>Clamped to runway</strong>: Pitch fixed, no roll and takeoff path controlled until the rotation airspeed (<a href="./../advanced_config/parameter_reference.html#RWTO_ROT_AIRSPD">RWTO_ROT_AIRSPD</a>) is reached. The operator is able to nudge the vehicle left/right via yaw stick.</li><li><strong>Climbout</strong>: Increase pitch setpoint and climb to takeoff altitude. To prevent wingstrikes, the controller will keep the roll setpoint locked to 0 when close to the ground, and then gradually allow more roll while climbing. It is based on the vehicle geometry as configured in <a href="#FW_WING_SPAN">FW_WING_SPAN</a> and <a href="#FW_WING_HEIGHT">FW_WING_HEIGHT</a>.</li></ol><div class="info custom-block"><p class="custom-block-title">INFO</p><p>For a smooth takeoff, the runway wheel controller possibly needs to be tuned. It consists of a rate controller (P-I-FF-controller with the parameters <a href="./../advanced_config/parameter_reference.html#FW_WR_P">FW_WR_P</a>, <a href="./../advanced_config/parameter_reference.html#FW_WR_I">FW_WR_I</a>, <a href="./../advanced_config/parameter_reference.html#FW_WR_FF">FW_WR_FF</a>) and an outer loop that calculates heading setpoints from course errors and can be tuned via <a href="#RWTO_NPFG_PERIOD">RWTO_NPFG_PERIOD</a>.</p></div><h3 id="parameters-runway-takeoff" tabindex="-1">Parameters (Runway Takeoff) <a class="header-anchor" href="#parameters-runway-takeoff" aria-label="Permalink to &quot;Parameters (Runway Takeoff)&quot;">​</a></h3><p>Runway takeoff is affected by the following parameters:</p><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><a id="RWTO_TKOFF"></a><a href="./../advanced_config/parameter_reference.html#RWTO_TKOFF">RWTO_TKOFF</a></td><td>Enable runway takeoff</td></tr><tr><td><a id="FW_W_EN"></a><a href="./../advanced_config/parameter_reference.html#FW_W_EN">FW_W_EN</a></td><td>Enable wheel controller</td></tr><tr><td><a id="RWTO_MAX_THR"></a><a href="./../advanced_config/parameter_reference.html#RWTO_MAX_THR">RWTO_MAX_THR</a></td><td>Max throttle during runway takeoff</td></tr><tr><td><a id="RWTO_RAMP_TIME"></a><a href="./../advanced_config/parameter_reference.html#RWTO_RAMP_TIME">RWTO_RAMP_TIME</a></td><td>Throttle ramp up time</td></tr><tr><td><a id="RWTO_ROT_AIRSPD"></a><a href="./../advanced_config/parameter_reference.html#RWTO_ROT_AIRSPD">RWTO_ROT_AIRSPD</a></td><td>Airspeed threshold to start rotation (pitching up). If not configured by operator is set to 0.9*FW_TKO_AIRSPD.</td></tr><tr><td><a id="RWTO_ROT_TIME"></a><a href="./../advanced_config/parameter_reference.html#RWTO_ROT_TIME">RWTO_ROT_TIME</a></td><td>This is the time desired to linearly ramp in takeoff pitch constraints during the takeoff rotation.</td></tr><tr><td><a id="FW_TKO_AIRSPD"></a><a href="./../advanced_config/parameter_reference.html#FW_TKO_AIRSPD">FW_TKO_AIRSPD</a></td><td>Airspeed setpoint during the takeoff climbout phase (after rotation). If not configured by operator is set to FW_AIRSPD_MIN.</td></tr><tr><td><a id="RWTO_NUDGE"></a><a href="./../advanced_config/parameter_reference.html#RWTO_NUDGE">RWTO_NUDGE</a></td><td>Enable wheel controller nudging while on the runway</td></tr><tr><td><a id="FW_WING_SPAN"></a><a href="./../advanced_config/parameter_reference.html#FW_WING_SPAN">FW_WING_SPAN</a></td><td>The wingspan of the vehicle. Used to prevent wingstrikes.</td></tr><tr><td><a id="FW_WING_HEIGHT"></a><a href="./../advanced_config/parameter_reference.html#FW_WING_HEIGHT">FW_WING_HEIGHT</a></td><td>The height of the wings above ground (ground clearance). Used to prevent wingstrikes.</td></tr><tr><td><a id="RWTO_NPFG_PERIOD"></a><a href="./../advanced_config/parameter_reference.html#RWTO_NPFG_PERIOD">RWTO_NPFG_PERIOD</a></td><td>L1 period while steering on runway. Increase for less aggressive response to course errors.</td></tr></tbody></table><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="./../flight_modes_mc/takeoff.html">Takeoff Mode (MC)</a></li><li><a href="./../flight_modes_fw/mission.html#mission-takeoff">Planning a mission takeoff</a></li></ul>',36)]))}const p=t(n,[["render",d]]);export{u as __pageData,p as default};
