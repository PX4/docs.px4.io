import{a as i,_ as o,b as l,c as n}from"./chunks/comp_params.D8ShN-Ld.js";import{_ as r,c as p,a8 as s,j as e,a as t,o as c}from"./chunks/framework.BDnHobkS.js";const y=JSON.parse('{"title":"나침반 전력 보정","description":"","frontmatter":{},"headers":[],"relativePath":"ko/advanced_config/compass_power_compensation.md","filePath":"ko/advanced_config/compass_power_compensation.md"}'),h={name:"ko/advanced_config/compass_power_compensation.md"};function d(m,a,u,g,f,k){return c(),p("div",null,a[0]||(a[0]=[s('<h1 id="나침반-전력-보정" tabindex="-1">나침반 전력 보정 <a class="header-anchor" href="#나침반-전력-보정" aria-label="Permalink to &quot;나침반 전력 보정&quot;">​</a></h1><p>케이블은 나침반 판독 값을 왜곡시킬 수 있는 자기장을 유도하므로, 큰 전류가 흐르는 케이블에서 최대한 멀리 나침반(자력계)을 장착해야합니다.</p><p>이 항목에서는 나침반 이동이 현실적으로 불가능할 경우에 유도된 자기장을 보정하는 방법을 설명합니다.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Moving the compass away from power-carrying cables is the easiest and most effective way to fix this issue, because the strength of the magnetic fields decreases quadratically with the distance from the cable.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The process is demonstrated for a multicopter, but is equally valid for other vehicle types.</p></div><p><a id="when"></a></p><h2 id="전력-보정은-언제-적용됩니까" tabindex="-1">전력 보정은 언제 적용됩니까? <a class="header-anchor" href="#전력-보정은-언제-적용됩니까" aria-label="Permalink to &quot;전력 보정은 언제 적용됩니까?&quot;">​</a></h2><p>전력 보정은 아래의 사항들이 모두 해당되는 경우에만 권장됩니다.</p><ol><li><p>나침반과 전력 공급 케이블 사이의 거리를 띄울 수 없을 때.</p></li><li><p>There is a strong correlation between the compass readings and the thrust setpoint, and/or the battery current.</p><p><img src="'+o+'" alt="Corrupted mag"></p></li><li><p>드론 케이블이 모두 제자리에 고정되어 이동할 수 없는 경우. (전류가 흐르는 케이블이 움직일 수 있다면 계산된 보정 매개 변수가 유효하지 않습니다)</p></li></ol><p><a id="how"></a></p><h2 id="나침반-보정-방법" tabindex="-1">나침반 보정 방법 <a class="header-anchor" href="#나침반-보정-방법" aria-label="Permalink to &quot;나침반 보정 방법&quot;">​</a></h2>',11),e("ol",null,[e("li",null,[e("p",null,"드론의 펌웨어 버전이 전력 보정을 지원하는지 확인하십시오. (현재 마스터 버전 또는 v.1.11.0 릴리즈)")]),e("li",null,[e("p",null,[t("Perform the "),e("a",{href:"./../config/compass.html#compass-calibration"},"standard compass calibration"),t(".")])]),e("li",null,[e("p",null,[t("Set the parameter "),e("a",{href:"./../advanced_config/parameter_reference.html#SDLOG_MODE"},"SDLOG_MODE"),t(" to 2 to enable logging of data from boot.")])]),e("li",null,[e("p",null,[t("Set the parameter "),e("a",{href:"./../advanced_config/parameter_reference.html#SDLOG_PROFILE"},"SDLOG_PROFILE"),t(" checkbox for "),e("em",null,"Sensor comparison"),t(" (bit 6) to get more data points.")])]),e("li",null,[e("p",null,"드론이 움직이지 않도록 고정하고 프로펠러를 부착하십시오(모터가 비행 중과 동일한 전류를 소비하게 됩니다). 이 예시에서는 끈으로 드론을 고정시킵니다."),e("p",null,[e("img",{src:i,alt:"strap"})])]),e("li",null,[e("p",null,[t("Power the vehicle and switch into "),e("a",{href:"./../flight_modes_mc/acro.html"},"ACRO flight mode"),t(" (using this mode ensures the vehicle won't attempt to compensate for movement resulting from the straps).")]),e("ul",null,[e("li",null,"기체에 시동을 걸고 스로틀을 천천히 최대로 올립니다."),e("li",null,"스로틀을 천천히 0까지 낮춥니다."),e("li",null,[t("기체 시동을 끄십시오. > "),e("strong",{"x-id":"1"},"참고"),t(" 진동을 면밀히 관찰하고, 신중하게 테스트를 진행하십시오.")])]),e("div",{class:"info custom-block"},[e("p",{class:"custom-block-title"},"INFO"),e("p",null,"Perform the test carefully and closely monitor the vibrations.")])])],-1),s('<p>:::</p><ol start="7"><li><p>Retrieve the ulog and use the python script <a href="https://github.com/PX4/PX4-Autopilot/blob/main/src/modules/sensors/vehicle_magnetometer/mag_compensation/python/mag_compensation.py" target="_blank" rel="noreferrer">mag_compensation.py</a> to identify the compensation parameters.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mag_compensation.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/path/to/log/logfile.ulg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">typ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--instance </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">numbe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]</span></span></code></pre></div><p>여기서:</p><ul><li><code>&lt;type&gt;</code>: <code>current</code> or <code>thrust</code> (power signal used for compensation)</li><li><code>--instance &lt;number&gt;</code> (optional): The number is <code>0</code> (default) or <code>1</code>, the instance of the current or thrust signal to use.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If your log does not contain battery current measurements, you will need to comment out the respective lines in the Python script, such that it does the calculation for thrust only.</p></div></li></ol><p>:::</p><ol start="8"><li><p>스크립트는 추력 및 전류에 대한 매개변수 식별값을 계산하여 콘솔에 인쇄할 것입니다. 스크립트에서 나타나는 그림은 각 나침반 인스턴스에 대한 &quot;적합성&quot;과 제안된 값으로 데이터가 보정된 경우의 모습을 보여줍니다. 전류 측정이 가능한 경우, 일반적으로 전류 보정을 사용하면 더 나은 결과를 얻을 수 있습니다. 다음은 현재 적합도는 양호하지만 관계가 선형이 아니므로 추력 매개 변수를 사용할 수 없는 로그의 예입니다.</p><p><img src="'+l+'" alt="line fit"></p></li><li><p>Once the parameters are identified, the power compensation must be enabled by setting <a href="./../advanced_config/parameter_reference.html#CAL_MAG_COMP_TYP">CAL_MAG_COMP_TYP</a> to 1 (when using thrust parameters) or 2 (when using current parameters). 또한 각 나침반의 각 축에 대한 보정 매개 변수를 설정해야합니다.</p><p><img src="'+n+'" alt="comp params"></p></li></ol>',4)]))}const v=r(h,[["render",d]]);export{y as __pageData,v as default};
