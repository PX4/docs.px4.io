import{_ as t,c as i,a8 as a,o as n}from"./chunks/framework.BDnHobkS.js";const g=JSON.parse('{"title":"Середовище розробки Windows Cygwin (Інструкції з обслуговування)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/dev_setup/dev_env_windows_cygwin_packager_setup.md","filePath":"uk/dev_setup/dev_env_windows_cygwin_packager_setup.md"}'),s={name:"uk/dev_setup/dev_env_windows_cygwin_packager_setup.md"};function o(l,e,r,h,p,c){return n(),i("div",null,e[0]||(e[0]=[a(`<h1 id="середовище-розробки-windows-cygwin-інструкціі-з-обслуговування" tabindex="-1">Середовище розробки Windows Cygwin (Інструкції з обслуговування) <a class="header-anchor" href="#середовище-розробки-windows-cygwin-інструкціі-з-обслуговування" aria-label="Permalink to &quot;Середовище розробки Windows Cygwin (Інструкції з обслуговування)&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This development environment is <a href="./../advanced/community_supported_dev_env.html">community supported and maintained</a>. Це може працювати або не працювати з поточними версіями PX4.</p><p>Дивіться <a href="./../dev_setup/dev_env.html">Встановлення інструментарію</a> для інформації про середовища та інструменти, що підтримуються основною командою розробників.</p></div><p>This topic explains how to construct and extend the development environment used for the no-longer-supported <a href="./../dev_setup/dev_env_windows_cygwin.html">Cygwin-based Windows Development Environment</a>.</p><h2 id="додаткова-інформація" tabindex="-1">Додаткова інформація <a class="header-anchor" href="#додаткова-інформація" aria-label="Permalink to &quot;Додаткова інформація&quot;">​</a></h2><h3 id="можливості-проблеми" tabindex="-1">Можливості / Проблеми <a class="header-anchor" href="#можливості-проблеми" aria-label="Permalink to &quot;Можливості / Проблеми&quot;">​</a></h3><p>Відомо що наступні можливості працюють (версія 2.0):</p><ul><li>Building and running SITL with jMAVSim with significantly better performance than a VM (it generates a native windows binary <strong>px4.exe</strong>).</li><li>Збірка та завантаження NuttX збірок (напр.: px4_fmu-v2 та px4_fmu-v4)</li><li>Style check with <em>astyle</em> (supports the command: <code>make format</code>)</li><li>Автодоповнення в командному рядку</li><li>Неінвазивний встановлювач! Встановлювач НЕ впливає на систему і глобальний шлях (лише змінює вибрану директорію установки, наприклад **C:\\PX4** і використовує тимчасовий локальний шлях).</li><li>Встановлювач підтримує оновлення до нової версії зі збереженням ваших особистих змін у теці інструментарію.</li></ul><p>Відсутні:</p><ul><li>Симуляція: Gazebo та ROS не підтримуються.</li><li>Підтримуються лише збірки NuttX і JMAVSim/SITL.</li><li><a href="https://github.com/orgs/PX4/projects/6" target="_blank" rel="noreferrer">Known problems</a> (Also use to report issues).</li></ul><h3 id="встановлення-за-допомогою-скриптів-оболонки" tabindex="-1">Встановлення за допомогою скриптів оболонки <a class="header-anchor" href="#встановлення-за-допомогою-скриптів-оболонки" aria-label="Permalink to &quot;Встановлення за допомогою скриптів оболонки&quot;">​</a></h3><p>Ви також можете встановити середовище за допомогою скриптів в Github проєкті.</p><ol><li><p>Make sure you have <a href="https://git-scm.com/download/win" target="_blank" rel="noreferrer">Git for Windows</a> installed.</p></li><li><p>Клонуйте репозиторій <a href="https://github.com/PX4/windows-toolchain" target="_blank" rel="noreferrer">https://github.com/PX4/windows-toolchain</a> туди куди ви хочете встановити інструментарій. Default location and naming is achieved by opening the <code>Git Bash</code> and executing:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /c/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/PX4/windows-toolchain</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4</span></span></code></pre></div></li><li><p>If you want to install all components navigate to the freshly cloned folder and double click on the script <code>install-all-components.bat</code> located in the folder <code>toolchain</code>. If you only need certain components and want to safe Internet traffic and or disk space you can navigate to the different component folders like e.g. <code>toolchain\\cygwin64</code> and click on the <strong>install-XXX.bat</strong> scripts to only fetch something specific.</p></li><li><p>Continue with <a href="./../dev_setup/dev_env_windows_cygwin.html#getting-started">Getting Started</a>.</p></li></ol><h3 id="ручне-встановлення-для-розробників-інструментарію" tabindex="-1">Ручне встановлення (для розробників інструментарію) <a class="header-anchor" href="#ручне-встановлення-для-розробників-інструментарію" aria-label="Permalink to &quot;Ручне встановлення (для розробників інструментарію)&quot;">​</a></h3><p>Цей розділ описує як налаштувати інструментарій Cygwin вручну самостійно, із вказанням на відповідні скрипти з репозитарію установки за допомогою скриптів. Результат повинен бути таким самим як при використанні скриптів, так і встановлювачі MSI.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The toolchain gets maintained and hence these instructions might not cover every detail of all the future changes.</p></div><ol><li><p>Create the <em>folders</em>: **C:\\PX4**, **C:\\PX4\\toolchain** and **C:\\PX4\\home**</p></li><li><p>Download the <em>Cygwin installer</em> file <a href="https://cygwin.com/setup-x86_64.exe" target="_blank" rel="noreferrer">setup-x86_64.exe</a> from the <a href="https://cygwin.com/install.html" target="_blank" rel="noreferrer">official Cygwin website</a></p></li><li><p>Запустіть завантажений файл встановлювача</p></li><li><p>У майстрі оберіть встановлення в теку: **C:\\PX4\\toolchain\\cygwin64**</p></li><li><p>Оберіть для встановлення стандартні основні пакети Cygwin і найновішу версію додаткових пакетів:</p><ul><li><strong>Category:Packagename</strong></li><li>Devel:cmake (3.3.2 не дає попереджень про застарілість, 3.6.2 працює, але попереджає про це)</li><li>Devel:gcc-g++</li><li>Devel:gdb</li><li>Devel:git</li><li>Devel:make</li><li>Devel:ninja</li><li>Devel:patch</li><li>Editors:xxd</li><li>Editors:nano (якщо ви не професіонал із vim)</li><li>Python:python2</li><li>Python:python2-pip</li><li>Python:python2-numpy</li><li>Python:python2-jinja2</li><li>Python:python2-pyyaml</li><li>Python:python2-cerberus</li><li>Archive:unzip</li><li>Utils:astyle</li><li>Shells:bash-completion</li><li>Web:wget</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Do not select as many packages as possible which are not on this list, there are some which conflict and break the builds.</p></div></li></ol><p>:::</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>That&#39;s what <a href="https://github.com/MaEtUgR/PX4Toolchain/blob/master/toolchain/cygwin64/install-cygwin-px4.bat" target="_blank" rel="noreferrer">cygwin64/install-cygwin-px4.bat</a> does.</p></div><ol start="6"><li><p>Write up or copy the <strong>batch scripts</strong> <a href="https://github.com/MaEtUgR/PX4Toolchain/blob/master/run-console.bat" target="_blank" rel="noreferrer"><code>run-console.bat</code></a> and <a href="https://github.com/PX4/windows-toolchain/blob/master/toolchain/scripts/setup-environment.bat" target="_blank" rel="noreferrer"><code>setup-environment.bat</code></a>.</p><p>Причиною запуску всіх інструментів розробки через підготовлений пакетні скрипти є те, що вони налаштовують початкову програму використовувати локальне, портативне середовище Cygwin всередині директорії інструментарію. This is done by always first calling the script <a href="https://github.com/PX4/windows-toolchain/blob/master/toolchain/scripts/setup-environment.bat" target="_blank" rel="noreferrer"><strong>setup-environment.bat</strong></a> and the desired application like the console after that.</p><p>The script <a href="https://github.com/PX4/windows-toolchain/blob/master/toolchain/scripts/setup-environment.bat" target="_blank" rel="noreferrer">setup-environment.bat</a> locally sets environmental variables for the workspace root directory <code>PX4_DIR</code>, all binary locations <code>PATH</code>, and the home directory of the unix environment <code>HOME</code>.</p></li><li><p>Add necessary <strong>python packages</strong> to your setup by opening the Cygwin toolchain console (double clicking <strong>run-console.bat</strong>) and executing</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> toml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyserial</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyulog</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>That&#39;s what <a href="https://github.com/MaEtUgR/PX4Toolchain/blob/master/toolchain/cygwin64/install-cygwin-python-packages.bat" target="_blank" rel="noreferrer">cygwin64/install-cygwin-python-packages.bat</a> does.</p></div></li></ol><p>:::</p><ol start="8"><li><p>Download the <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads" target="_blank" rel="noreferrer"><strong>ARM GCC compiler</strong></a> as zip archive of the binaries for Windows and unpack the content to the folder <code>C:\\PX4\\toolchain\\gcc-arm</code>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This is what the toolchain does in: <a href="https://github.com/MaEtUgR/PX4Toolchain/blob/master/toolchain/gcc-arm/install-gcc-arm.bat" target="_blank" rel="noreferrer">gcc-arm/install-gcc-arm.bat</a>.</p></div></li></ol><p>:::</p><ol start="9"><li><p>Встановіть JDK:</p><ul><li>Download Java 14 from <a href="https://www.oracle.com/java/technologies/javase-jdk14-downloads.html" target="_blank" rel="noreferrer">Oracle</a> or <a href="https://adoptopenjdk.net/" target="_blank" rel="noreferrer">AdoptOpenJDK</a>.</li><li>Оскільки, на жаль, не існує портативного архіву, який містить безпосередньо бінарні файли вам потрібно встановити Java.</li><li>Find the binaries and move/copy them to <strong>C:\\PX4\\toolchain\\jdk</strong>.</li><li>Ви можете видалити Java із вашої системи Windows, нам були потрібні лише бінарні файли для набору інструментів.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This is what the toolchain does in: <a href="https://github.com/MaEtUgR/PX4Toolchain/blob/master/toolchain/jdk/install-jdk.bat" target="_blank" rel="noreferrer">jdk/install-jdk.bat</a>.</p></div></li></ol><p>:::</p><ol start="10"><li><p>Download <a href="https://ant.apache.org/bindownload.cgi" target="_blank" rel="noreferrer"><strong>Apache Ant</strong></a> as zip archive of the binaries for Windows and unpack the content to the folder <code>C:\\PX4\\toolchain\\apache-ant</code>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Make sure you don&#39;t have an additional folder layer from the folder which is inside the downloaded archive.</p></div></li></ol><p>:::</p><pre><code>::: info
This is what the toolchain does in: [apache-ant/install-apache-ant.bat](https://github.com/MaEtUgR/PX4Toolchain/blob/master/toolchain/apache-ant/install-apache-ant.bat).
</code></pre><p>:::</p><ol start="11"><li><p>Download, build and add <em>genromfs</em> to the path:</p><ul><li><p>Clone the source code to the folder <strong>C:\\PX4\\toolchain\\genromfs\\genromfs-src</strong> with</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /c/toolchain/genromfs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/chexum/genromfs.git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genromfs-src</span></span></code></pre></div></li><li><p>Скомпілюйте це:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genromfs-src</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span></span></code></pre></div></li><li><p>Copy the resulting binary <strong>genromfs.exe</strong> one folder level out to: <strong>C:\\PX4\\toolchain\\genromfs</strong></p></li></ul></li><li><p>Make sure all the binary folders of all the installed components are correctly listed in the <code>PATH</code> variable configured by <a href="https://github.com/PX4/windows-toolchain/blob/master/toolchain/scripts/setup-environment.bat" target="_blank" rel="noreferrer"><strong>setup-environment.bat</strong></a>.</p></li></ol>`,29)]))}const k=t(s,[["render",o]]);export{g as __pageData,k as default};
