(window.webpackJsonp=window.webpackJsonp||[]).push([[909],{1737:function(e,t,a){"use strict";a.r(t);var r=a(19),o=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"imu-factory-calibration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#imu-factory-calibration"}},[e._v("#")]),e._v(" IMU Factory Calibration")]),e._v(" "),a("p",[e._v("PX4 OEM manufacturers can perform an IMU factory calibration in order to store persistent values for the accelerometer, gyroscope and magnetometer biases into persistent storage (usually EEPROM).\nThis ensures that end users can always reset vehicle configurations and tuning to a safe state for flying.")]),e._v(" "),a("p",[e._v("This procedure will write the following parameters to "),a("code",[e._v("/fs/mtd_caldata")]),e._v(": "),a("RouterLink",{attrs:{to:"/en/advanced_config/parameter_reference.html#CAL_ACC0_ID"}},[e._v("CAL_ACC*")]),e._v(", "),a("RouterLink",{attrs:{to:"/en/advanced_config/parameter_reference.html#CAL_MAG0_ID"}},[e._v("CAL_MAG*")]),e._v(", "),a("RouterLink",{attrs:{to:"/en/advanced_config/parameter_reference.html#CAL_GYRO0_ID"}},[e._v("CAL_GYRO*")]),e._v(".\nThis data will then be used when the parameters are set (or reset) to their default values.")],1),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("This feature relies on the FMU having a dedicated EEPROM chip or an accompanying IMU PCBA that has sufficient space for the data.\nPX4 will store the data to "),a("code",[e._v("/fs/mtd_caldata")]),e._v(", creating the file if necessary.")])]),e._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v("These values cannot be stored in the "),a("RouterLink",{attrs:{to:"/en/dev_airframes/adding_a_new_frame.html"}},[e._v("frame configuration")]),e._v(" because they vary from device to device (the frame configuration defines the set of parameters that are applicable across all vehicles of the same type, such as the enabled sensors, "),a("RouterLink",{attrs:{to:"/en/config/flight_controller_orientation.html"}},[e._v("autopilot rotation")]),e._v(" and PID tuning).")],1)]),e._v(" "),a("h2",{attrs:{id:"performing-the-factory-calibration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#performing-the-factory-calibration"}},[e._v("#")]),e._v(" Performing the Factory Calibration")]),e._v(" "),a("ol",[a("li",[e._v("Set the parameter "),a("RouterLink",{attrs:{to:"/en/advanced_config/parameter_reference.html#SYS_FAC_CAL_MODE"}},[e._v("SYS_FAC_CAL_MODE")]),e._v(" to 1.")],1),e._v(" "),a("li",[e._v("Perform all IMU calibrations: "),a("RouterLink",{attrs:{to:"/en/config/accelerometer.html#performing-the-calibration"}},[e._v("accelerometer")]),e._v(", "),a("RouterLink",{attrs:{to:"/en/config/gyroscope.html#performing-the-calibration"}},[e._v("gyroscope")]),e._v(" and "),a("RouterLink",{attrs:{to:"/en/config/compass.html#performing-the-calibration"}},[e._v("magnetometer")]),e._v(".")],1),e._v(" "),a("li",[e._v("Reboot the vehicle.\nThis will write all "),a("code",[e._v("CAL_ACC*")]),e._v(", "),a("code",[e._v("CAL_GYRO*")]),e._v(" and "),a("code",[e._v("CAL_MAG*")]),e._v(" parameters into "),a("code",[e._v("/fs/mtd_caldata")]),e._v(".")]),e._v(" "),a("li",[e._v("Set the parameter "),a("code",[e._v("SYS_FAC_CAL_MODE")]),e._v(" back to 0 (default).")])]),e._v(" "),a("p",[e._v("Subsequent user calibrations will then take effect as usual (factory calibration data is only used for the parameter default values).")]),e._v(" "),a("h2",{attrs:{id:"further-information"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#further-information"}},[e._v("#")]),e._v(" Further Information")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.qgroundcontrol.com/master/en/SetupView/sensors_px4.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("QGroundControl User Guide > Sensors"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=o.exports}}]);