(window.webpackJsonp=window.webpackJsonp||[]).push([[476],{3640:function(t,e,r){"use strict";r.r(e);var _=r(19),a=Object(_.a)({},(function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"holybro-dronecan-m8n-gps"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#holybro-dronecan-m8n-gps"}},[t._v("#")]),t._v(" Holybro DroneCAN M8N GPS")]),t._v(" "),_("p",[t._v("Holybro DroneCAN GPS有一个UBLOX M8N 模块，BMM150指南针，三色LED指示器。")]),t._v(" "),_("p",[t._v("GPS模块使用 "),_("RouterLink",{attrs:{to:"/zh/dronecan/"}},[t._v("DroneCAN")]),t._v(" 协议进行通信。 DroneCAN连接比串行连接更抗电磁干扰，从而更加可靠。 此外，使用DroneCAN意味着GPS和指南针不占用任何飞控串口（不同/附加的CAN设备可以通过CAN分离板连接到同一CAN总线。")],1),t._v(" "),_("img",{attrs:{src:r(783),width:"400px",title:"Hero diagram for the GPS module"}}),t._v(" "),_("h2",{attrs:{id:"购买途径"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#购买途径"}},[t._v("#")]),t._v(" 购买途径")]),t._v(" "),_("p",[t._v("通过以下途径购买模块：")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://holybro.com/products/dronecan-m8n-gps",target:"_blank",rel:"noopener noreferrer"}},[t._v("Holybro"),_("OutboundLink")],1)])]),t._v(" "),_("h2",{attrs:{id:"硬件规格"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#硬件规格"}},[t._v("#")]),t._v(" 硬件规格")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th"),t._v(" "),_("th",[t._v("DroneCAN M8N")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("GNSS Receiver")]),t._v(" "),_("td",[t._v("Ublox NEO M8N")])]),t._v(" "),_("tr",[_("td",[t._v("Number of Concurrent GNSS")]),t._v(" "),_("td",[t._v("2 (Default GPS + GLONASS)")])]),t._v(" "),_("tr",[_("td",[t._v("Processor")]),t._v(" "),_("td",[t._v("STM32G4 (170MHz, 512K FLASH)")])]),t._v(" "),_("tr",[_("td",[t._v("Compass")]),t._v(" "),_("td",[t._v("BMM150")])]),t._v(" "),_("tr",[_("td",[t._v("Frequency Band")]),t._v(" "),_("td",[_("p",[t._v("GPS: L1C/A"),_("br"),t._v("GLONASS: L10F"),_("br"),t._v("Beidou: B1I"),_("br"),t._v("Galileo: E1B/C")])])]),t._v(" "),_("tr",[_("td",[t._v("GNSS Augmentation System")]),t._v(" "),_("td",[t._v("SBAS: WAAS, EGNOS, MSAS, QZSS")])]),t._v(" "),_("tr",[_("td",[t._v("Navigation Update")]),t._v(" "),_("td",[t._v("5Hz Default(10Hz MAX)")])]),t._v(" "),_("tr",[_("td",[t._v("Navigation sensitivity")]),t._v(" "),_("td",[t._v("–167 dBm")])]),t._v(" "),_("tr",[_("td",[t._v("Cold starts")]),t._v(" "),_("td",[t._v("~ 26s")])]),t._v(" "),_("tr",[_("td",[t._v("Accuracy")]),t._v(" "),_("td",[t._v("2.5m")])]),t._v(" "),_("tr",[_("td",[t._v("Speed Accuracy")]),t._v(" "),_("td",[t._v("0.05 m/s")])]),t._v(" "),_("tr",[_("td",[t._v("Max # of Satellites")]),t._v(" "),_("td",[t._v("22+")])]),t._v(" "),_("tr",[_("td",[t._v("Default CAN BUS data rate")]),t._v(" "),_("td",[t._v("1MHz")])]),t._v(" "),_("tr",[_("td",[t._v("Communication Protocol")]),t._v(" "),_("td",[t._v("DroneCAN @ 1 Mbit/s")])]),t._v(" "),_("tr",[_("td",[t._v("Supports Autopilot FW")]),t._v(" "),_("td",[t._v("PX4, Ardupilot")])]),t._v(" "),_("tr",[_("td",[t._v("Port Type")]),t._v(" "),_("td",[t._v("GHR-04V-S")])]),t._v(" "),_("tr",[_("td",[t._v("Antenna")]),t._v(" "),_("td",[t._v("25 x 25 x 4 mm ceramic patch antenna")])]),t._v(" "),_("tr",[_("td",[t._v("Voltage")]),t._v(" "),_("td",[t._v("4.7-5.2V")])]),t._v(" "),_("tr",[_("td",[t._v("Power consumption")]),t._v(" "),_("td",[t._v("Less than 200mA @ 5V")])]),t._v(" "),_("tr",[_("td",[t._v("Temperature")]),t._v(" "),_("td",[t._v("-40~80C")])]),t._v(" "),_("tr",[_("td",[t._v("Size")]),t._v(" "),_("td",[_("p",[t._v("Diameter: 54mm"),_("br"),t._v("Thickness: 14.5mm")])])]),t._v(" "),_("tr",[_("td",[t._v("Weight")]),t._v(" "),_("td",[t._v("36g")])]),t._v(" "),_("tr",[_("td",[t._v("Cable Length")]),t._v(" "),_("td",[t._v("26cm")])]),t._v(" "),_("tr",[_("td",[t._v("Other")]),t._v(" "),_("td",[_("ul",[_("li",[t._v("LNA MAX2659ELT+ RF Amplifier")]),_("li",[t._v("Rechargeable Farah capacitance")]),_("li",[t._v("Low noise 3.3V regulator")]),_("li",[t._v("26cm cable included")])])])])])]),t._v(" "),_("h2",{attrs:{id:"硬件设置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#硬件设置"}},[t._v("#")]),t._v(" 硬件设置")]),t._v(" "),_("h3",{attrs:{id:"挂载"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#挂载"}},[t._v("#")]),t._v(" 挂载")]),t._v(" "),_("p",[t._v("建议安装方向是GPS上的箭头指向"),_("strong",[t._v("机架前方")])]),t._v(" "),_("p",[t._v("The sensor can be mounted anywhere on the frame, but you will need to specify its position, relative to vehicle centre of gravity, during "),_("a",{attrs:{href:"#px4-configuration"}},[t._v("PX4 configuration")]),t._v(".")]),t._v(" "),_("h3",{attrs:{id:"wiring"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#wiring"}},[t._v("#")]),t._v(" Wiring")]),t._v(" "),_("p",[t._v("The Holybro DroneCAN GPS is connected to the CAN bus using a Pixhawk standard 4 pin JST GH cable. For more information, refer to the "),_("RouterLink",{attrs:{to:"/zh/can/#wiring"}},[t._v("CAN Wiring")]),t._v(" instructions.")],1),t._v(" "),_("h3",{attrs:{id:"针脚定义"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#针脚定义"}},[t._v("#")]),t._v(" 针脚定义")]),t._v(" "),_("p",[_("img",{attrs:{src:r(784),alt:"Diagram showing GPS pinouts"}})]),t._v(" "),_("h3",{attrs:{id:"dimensions"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#dimensions"}},[t._v("#")]),t._v(" Dimensions")]),t._v(" "),_("p",[_("img",{attrs:{src:r(785),alt:"Diagram showing GPS dimensions"}})]),t._v(" "),_("h2",{attrs:{id:"px4配置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#px4配置"}},[t._v("#")]),t._v(" PX4配置")]),t._v(" "),_("p",[t._v("You need to set necessary "),_("RouterLink",{attrs:{to:"/zh/dronecan/"}},[t._v("DroneCAN")]),t._v(" parameters and define offsets if the sensor is not centred within the vehicle. The required settings are outlined below.")],1),t._v(" "),_("div",{staticClass:"custom-block note"},[_("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),_("p",[t._v("The GPS will not boot if there is no SD card in the flight controller when powered on.")])]),t._v(" "),_("h3",{attrs:{id:"enable-dronecan"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#enable-dronecan"}},[t._v("#")]),t._v(" Enable DroneCAN")]),t._v(" "),_("p",[t._v("In order to use the ARK GPS board, connect it to the Pixhawk CAN bus and enable the DroneCAN driver by setting parameter "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#UAVCAN_ENABLE"}},[t._v("UAVCAN_ENABLE")]),t._v(" to "),_("code",[t._v("2")]),t._v(" for dynamic node allocation (or "),_("code",[t._v("3")]),t._v(" if using "),_("RouterLink",{attrs:{to:"/zh/dronecan/escs.html"}},[t._v("DroneCAN ESCs")]),t._v(").")],1),t._v(" "),_("p",[t._v("The steps are:")]),t._v(" "),_("ul",[_("li",[t._v("In "),_("em",[t._v("QGroundControl")]),t._v(" set the parameter "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#UAVCAN_ENABLE"}},[t._v("UAVCAN_ENABLE")]),t._v(" to "),_("code",[t._v("2")]),t._v(" or "),_("code",[t._v("3")]),t._v(" and reboot (see "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameters.html"}},[t._v("Finding/Updating Parameters")]),t._v(").")],1),t._v(" "),_("li",[t._v("Connect GPS CAN to the Pixhawk CAN.")])]),t._v(" "),_("p",[t._v("Once enabled, the module will be detected on boot. GPS data should arrive at 5Hz.")]),t._v(" "),_("p",[t._v("DroneCAN configuration in PX4 is explained in more detail in "),_("RouterLink",{attrs:{to:"/zh/dronecan/#enabling-dronecan"}},[t._v("DroneCAN > Enabling DroneCAN")]),t._v(".")],1),t._v(" "),_("h3",{attrs:{id:"sensor-position-configuration"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sensor-position-configuration"}},[t._v("#")]),t._v(" Sensor Position Configuration")]),t._v(" "),_("p",[t._v("If the sensor is not centred within the vehicle you will also need to define sensor offsets:")]),t._v(" "),_("ul",[_("li",[t._v("Enable GPS yaw fusion by setting bit 3 of "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_CTRL"}},[t._v("EKF2_GPS_CTRL")]),t._v(" to true.")],1),t._v(" "),_("li",[t._v("Enable "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#UAVCAN_SUB_GPS"}},[t._v("UAVCAN_SUB_GPS")]),t._v(", "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#UAVCAN_SUB_MAG"}},[t._v("UAVCAN_SUB_MAG")]),t._v(", and "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#UAVCAN_SUB_BARO"}},[t._v("UAVCAN_SUB_BARO")]),t._v(".")],1),t._v(" "),_("li",[t._v("Set "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#CANNODE_TERM"}},[t._v("CANNODE_TERM")]),t._v(" to "),_("code",[t._v("1")]),t._v(" if this is that last node on the CAN bus.")],1),t._v(" "),_("li",[t._v("The parameters "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_POS_X"}},[t._v("EKF2_GPS_POS_X")]),t._v(", "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_POS_Y"}},[t._v("EKF2_GPS_POS_Y")]),t._v(" and "),_("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#EKF2_GPS_POS_Z"}},[t._v("EKF2_GPS_POS_Z")]),t._v(" can be set to account for the offset of the ARK GPS from the vehicles centre of gravity.")],1)])])}),[],!1,null,null,null);e.default=a.exports},783:function(t,e,r){t.exports=r.p+"assets/img/hb_dronecan_m8n_gps.6ec5bfb1.jpg"},784:function(t,e,r){t.exports=r.p+"assets/img/hb_dronecan_m8n_gps_pinout.e1dc6601.jpg"},785:function(t,e,r){t.exports=r.p+"assets/img/hb_dronecan_m8n_gps_dimension.7a736825.jpg"}}]);