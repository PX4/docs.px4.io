(window.webpackJsonp=window.webpackJsonp||[]).push([[1454],{2656:function(t,s,a){"use strict";a.r(s);var e=a(19),_=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"외부-모듈-별도"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#외부-모듈-별도"}},[t._v("#")]),t._v(" 외부 모듈(별도)")]),t._v(" "),a("p",[t._v("외부 모듈은 개발자가 PX4 펌웨어에 추가(또는 업데이트)하려는 독점 모듈을 관리/그룹화할 수 있는 편리한 메커니즘을 제공합니다. 외부 모듈은 내부 모듈과 같이 사용할 수 있으며, uORB로 내부 모듈과 상호 작용할 수 있습니다.")]),t._v(" "),a("p",[t._v('PX4 빌드에 외부("out of tree") 모듈을 추가하는 방법을 설명합니다.')]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("가능하면, 변경 사항을 PX4에 제공할 것을 권장합니다!")])]),t._v(" "),a("h2",{attrs:{id:"사용법"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#사용법"}},[t._v("#")]),t._v(" 사용법")]),t._v(" "),a("p",[t._v("외부 모듈을 만들려면:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Create an "),a("em",[t._v("external directory")]),t._v(" folder for grouping the external modules:")]),t._v(" "),a("ul",[a("li",[t._v("이것은 "),a("strong",[t._v("PX4-Autopilot")]),t._v(" 트리 외부 위치에 있을 수 있습니다.")]),t._v(" "),a("li",[a("strong",[t._v("PX4-Autopilot")]),t._v("과 구조가 동일하여야 합니다(즉, "),a("strong",[t._v("src")]),t._v("라는 디렉토리를 포함하여야 함).")]),t._v(" "),a("li",[t._v("나중에 "),a("code",[t._v("EXTERNAL_MODULES_LOCATION")]),t._v("을 사용하여 이 디렉토리를 참조합니다.")])])]),t._v(" "),a("li",[a("p",[t._v("기존 모듈(예: "),a("strong",[t._v("examples/px4_simple_app")]),t._v(")을 외부 디렉토리에 복사하거나 새 모듈을 직접 만듭니다.")])]),t._v(" "),a("li",[a("p",[t._v("Rename the module (including "),a("code",[t._v("MODULE")]),t._v(" in "),a("strong",[t._v("CMakeLists.txt")]),t._v(") or remove it from the existing PX4-Autopilot "),a("em",[t._v("cmake")]),t._v(" build config. 이것은 내부 모듈과의 충돌을 피하기 위한 것입니다.")])]),t._v(" "),a("li",[a("p",[t._v("콘텐츠가 있는 외부 디렉터리에 "),a("strong",[t._v("CMakeLists.txt")]),t._v(" 파일을 추가합니다.")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_module_list_external\n    modules/<new_module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("\n    PARENT_SCOPE\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("내부의 "),a("code",[t._v("modules/<new_module>/CMakeLists.txt")]),t._v("에 "),a("code",[t._v("EXTERNAL")]),t._v(" 줄을 추가합니다. 예를 들면, "),a("code",[t._v("px4_add_module()")]),t._v("와 같습니다.")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("px4_add_module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  MODULE modules__test_app\n  MAIN test_app\n  STACK_MAIN "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v("\n  SRCS\n      px4_simple_app.c\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("DEPENDS")]),t._v("\n      platforms__common\n  EXTERNAL\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"별도-uorb-메시지-정의"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#별도-uorb-메시지-정의"}},[t._v("#")]),t._v(" 별도 uORB 메시지 정의")]),t._v(" "),a("p",[t._v("uORB 메시지는 트리 외부에서 정의할 수 있습니다. 이를 위해서는 "),a("code",[t._v("$EXTERNAL_MODULES_LOCATION/msg")]),t._v(" 폴더가 있어야 합니다.")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("새 메시지 정의를 "),a("code",[t._v("$EXTERNAL_MODULES_LOCATION/msg")]),t._v(" 디렉토리에 배치합니다. 이러한 새로운 트리 외부 메시지 정의의 형식은 다른 모든 "),a("RouterLink",{attrs:{to:"/ko/middleware/uorb.html#adding-a-new-topic"}},[t._v("uORB 메시지 정의")]),t._v("와 동일합니다.")],1)]),t._v(" "),a("li",[a("p",[t._v("콘텐츠가 포함된 "),a("code",[t._v("$EXTERNAL_MODULES_LOCATION/msg/CMakeLists.txt")]),t._v(" 파일을 추가합니다.")]),t._v(" "),a("div",{staticClass:"language-cmake extra-class"},[a("pre",{pre:!0,attrs:{class:"language-cmake"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config_msg_list_external\n    <message1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(".msg\n    <message2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(".msg\n    <message3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(".msg\n    PARENT_SCOPE\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("여기서 "),a("code",[t._v("<message#>.msg")]),t._v("는 처리되고 uORB 메시지 생성에 사용되는 uORB 메시지 정의 파일의 이름입니다.")])])]),t._v(" "),a("p",[t._v("외부 uORB 메시지는 일반 uORB 메시지와 동일한 위치에 생성됩니다. uORB 주제 헤더는 "),a("code",[t._v("<build_dir>/uORB/topics/")]),t._v("에 생성되며, 메시지 소스 파일은 "),a("code",[t._v("<build_dir>/msg/topics_sources/")]),t._v("에서 생성됩니다.")]),t._v(" "),a("p",[t._v("새 uORB 메시지는 "),a("RouterLink",{attrs:{to:"/ko/middleware/uorb.html#adding-a-new-topic"}},[t._v("여기")]),t._v("에 설명된 대로, 다른 uORB 메시지처럼 사용할 수 있습니다.")],1),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("외부 uORB 메시지 정의는 일반 uORB 메시지와 같은 이름을 가질 수 없습니다.")])]),t._v(" "),a("h2",{attrs:{id:"외부-모듈-및-uorb-메시지-빌드"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#외부-모듈-및-uorb-메시지-빌드"}},[t._v("#")]),t._v(" 외부 모듈 및 uORB 메시지 빌드")]),t._v(" "),a("p",[a("code",[t._v("make px4_sitl EXTERNAL_MODULES_LOCATION=<path>")]),t._v("을 실행합니다.")]),t._v(" "),a("p",[t._v("다른 빌드 대상을 사용할 수 있지만, 빌드 디렉토리가 아직 존재하지 않아야 합니다. If it already exists, you can also just set the "),a("em",[t._v("cmake")]),t._v(" variable in the build folder.")]),t._v(" "),a("p",[t._v("차후 추가 빌드 과정에서는 "),a("code",[t._v("EXTERNAL_MODULES_LOCATION")]),t._v(" 값을 지정할 필요가 없습니다.")])])}),[],!1,null,null,null);s.default=_.exports}}]);