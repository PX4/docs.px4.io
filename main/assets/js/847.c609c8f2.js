(window.webpackJsonp=window.webpackJsonp||[]).push([[847],{1548:function(e,t,a){e.exports=a.p+"assets/img/SIH_diagram.4e53f869.png"},3209:function(e,t,a){"use strict";a.r(t);var i=a(19),r=Object(i.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"하드웨어-시뮬레이션-sih"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#하드웨어-시뮬레이션-sih"}},[e._v("#")]),e._v(" 하드웨어 시뮬레이션(SIH)")]),e._v(" "),i("p",[e._v("Simulation-In-Hardware (SIH) is an alternative to "),i("RouterLink",{attrs:{to:"/ko/simulation/hitl.html"}},[e._v("Hardware In The Loop simulation (HITL)")]),e._v(" for quadrotors, fixed-wing vehicles (airplane), and VTOL tailsitters.")],1),e._v(" "),i("p",[e._v("SIH can be used by new PX4 users to get familiar with PX4 and the different modes and features, and of course to learn to fly a vehicle using an RC controller in simulation, which is not possible using SITL.")]),e._v(" "),i("h2",{attrs:{id:"overview"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),i("p",[e._v("With SIH the whole simulation is running on embedded hardware: the controller, the state estimator, and the simulator. 데스크톱 컴퓨터는 가상 차량을 출력에만 사용됩니다.")]),e._v(" "),i("p",[i("img",{attrs:{src:a(1548),alt:"MAVLink API 시뮬레이터"}})]),e._v(" "),i("h3",{attrs:{id:"compatibility"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#compatibility"}},[e._v("#")]),e._v(" Compatibility")]),e._v(" "),i("ul",[i("li",[i("code",[e._v("-q")]),e._v(" - "),i("em",[e._v("QGroundControl")]),e._v("에 대한 통신 허용(선택 사항)")]),e._v(" "),i("li",[e._v("SIH for quadrotor is supported from PX4 v1.9.")]),e._v(" "),i("li",[e._v("SIH for fixed-wing (airplane) and VTOL tailsitter are supported from PX4 v1.13.")]),e._v(" "),i("li",[e._v("SIH as SITL (without hardware) from PX4 v1.14.")])]),e._v(" "),i("h3",{attrs:{id:"benefits"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#benefits"}},[e._v("#")]),e._v(" Benefits")]),e._v(" "),i("p",[e._v("SIH provides several benefits over HITL:")]),e._v(" "),i("ul",[i("li",[e._v("컴퓨터에 대한 양방향 연결을 하지 않으므로, 동기 타이밍을 보장합니다. 사용자는 고사양의 데스크탑 컴퓨터가 필요하지 않습니다.")]),e._v(" "),i("li",[e._v("전체 시뮬레이션은 PX4 환경에서 유지됩니다. PX4 개발자는 수학적 모델을 시뮬레이터에 손 쉽게 통합할 수 있습니다. 예를 들어, 공기역학적 모델이나 센서의 소음 수준을 수정하거나 시뮬레이션 센서를 추가할 수 있습니다.")]),e._v(" "),i("li",[e._v("The physical parameters representing the vehicle (such as mass, inertia, and maximum thrust force) can easily be modified from the "),i("RouterLink",{attrs:{to:"/ko/advanced_config/parameter_reference.html#simulation-in-hardware"}},[e._v("SIH parameters")]),e._v(".")],1)]),e._v(" "),i("h2",{attrs:{id:"요구-사항"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#요구-사항"}},[e._v("#")]),e._v(" 요구 사항")]),e._v(" "),i("p",[e._v("To run the SIH, you will need a:")]),e._v(" "),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/ko/flight_controller/"}},[e._v("Flight controller")]),e._v(", such as a Pixhawk-series board")],1),e._v(" "),i("li",[e._v("Development computer for displaying the virtual vehicle.")]),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/ko/getting_started/px4_basic_concepts.html#manual-control"}},[e._v("Manual controller")]),e._v(": either a "),i("RouterLink",{attrs:{to:"/ko/getting_started/px4_basic_concepts.html#radio-control-rc"}},[e._v("radio control system")]),e._v(" or a "),i("RouterLink",{attrs:{to:"/ko/getting_started/px4_basic_concepts.html#gcs-joystick-controller"}},[e._v("joystick")]),e._v(".")],1)]),e._v(" "),i("p",[e._v('From PX4 v1.14 you can run SIH "as SITL", in which case a flight controller is not required.')]),e._v(" "),i("h2",{attrs:{id:"sih-설정"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#sih-설정"}},[e._v("#")]),e._v(" SIH 설정")]),e._v(" "),i("p",[e._v("To set up SIH")]),e._v(" "),i("ol",[i("li",[e._v("Connect the flight controller to the desktop computer with a USB cable")]),e._v(" "),i("li",[e._v("Open QGroundControl and wait for the flight controller too boot and connect.")]),e._v(" "),i("li",[e._v("Open "),i("RouterLink",{attrs:{to:"/ko/config/airframe.html"}},[e._v("Vehicle Setup > Airframe")]),e._v(" then select the desired frame:\n"),i("ul",[i("li",[i("RouterLink",{attrs:{to:"/ko/airframes/airframe_reference.html#copter_simulation_sih_quadcopter_x"}},[e._v("SIH Quadcopter X")])],1),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/ko/airframes/airframe_reference.html#plane_simulation_sih_plane_aert"}},[e._v("SIH plane AERT")])],1),e._v(" "),i("li",[i("RouterLink",{attrs:{to:"/ko/airframes/airframe_reference.html#vtol_simulation_sih_tailsitter_duo"}},[e._v("SIH Tailsitter Duo")])],1)])],1)]),e._v(" "),i("p",[e._v("The autopilot will then reboot. Once restarted the "),i("code",[e._v("sih")]),e._v(" module is started, and the vehicle should be displayed on the ground control station map.")]),e._v(" "),i("div",{staticClass:"custom-block warning"},[i("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),i("p",[e._v("The airplane needs to takeoff in manual mode at full throttle.\nAlso, if the airplane crashes the state estimator might lose its fix.")])]),e._v(" "),i("h2",{attrs:{id:"디스플레이-설정"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#디스플레이-설정"}},[e._v("#")]),e._v(" 디스플레이 설정")]),e._v(" "),i("p",[e._v("To display the simulated vehicle:")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Close "),i("em",[e._v("QGroundControl")]),e._v(" (if open).")])]),e._v(" "),i("li",[i("p",[e._v("Unplug and replug the flight controller (allow a few seconds for it to boot).")])]),e._v(" "),i("li",[i("p",[e._v("터미널에서 "),i("strong",[e._v("jmavsim_run.sh")]),e._v(" 스크립트를 입력하여, jMAVSim을 실행합니다.")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[e._v("./Tools/simulation/jmavsim/jmavsim_run.sh -q -d /dev/ttyACM0 -b "),i("span",{pre:!0,attrs:{class:"token number"}},[e._v("2000000")]),e._v(" -o\n")])])]),i("p",[e._v("where the flags are:")]),e._v(" "),i("ul",[i("li",[i("code",[e._v("-q")]),e._v(" to allow the communication to "),i("em",[e._v("QGroundControl")]),e._v(" (optional).")]),e._v(" "),i("li",[i("code",[e._v("-d")]),e._v(" Linux에서 직렬 장치 "),i("code",[e._v("/dev/ttyACM0")]),e._v("를 사용합니다. MacOS에서는 "),i("code",[e._v("/dev/tty.usbmodem1")]),e._v("를 사용합니다.")]),e._v(" "),i("li",[i("code",[e._v("-b")]),e._v(" 직렬 전송 속도를 "),i("code",[e._v("2000000")]),e._v("으로 설정합니다.")]),e._v(" "),i("li",[i("code",[e._v("-o")]),e._v(" to start jMAVSim in "),i("em",[e._v("display Only")]),e._v(" mode (i.e. the physical engine is turned off and jMAVSim only displays the trajectory given by the SIH in real-time).")]),e._v(" "),i("li",[e._v("add a flag "),i("code",[e._v("-a")]),e._v(" to display an aircraft or '-t' to display a tailsitter. 이 플래그가 없으면 기본적으로 쿼드로터가 표시됩니다.")])])]),e._v(" "),i("li",[i("p",[e._v("After few seconds, "),i("em",[e._v("QGroundControl")]),e._v(" can be opened again.")])])]),e._v(" "),i("p",[e._v("At this point, the system can be armed and flown. The vehicle can be observed moving in jMAVSim, and on the QGC "),i("em",[e._v("Fly")]),e._v(" view.")]),e._v(" "),i("h2",{attrs:{id:"running-the-sih-as-sitl-without-hardware"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#running-the-sih-as-sitl-without-hardware"}},[e._v("#")]),e._v(" Running the SIH as SITL (without hardware)")]),e._v(" "),i("p",[e._v("SIH can be run as SITL (Software-In-The-Loop) from v1.14. What this means is that the simulation code is executed on the laptop/computer, similar to Gazebo or jMAVSim. In this case you don't need the flight controller hardware.")]),e._v(" "),i("p",[e._v("To run SIH as SITL:")]),e._v(" "),i("ol",[i("li",[i("p",[e._v("Install the "),i("RouterLink",{attrs:{to:"/ko/dev_setup/dev_env.html"}},[e._v("PX4 Development toolchain")]),e._v(".")],1)]),e._v(" "),i("li",[i("p",[e._v("Run the appropriate make command for each vehicle type (at the root of the PX4-Autopilot repository):")]),e._v(" "),i("ul",[i("li",[i("p",[e._v("quadrotor:")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[i("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" px4_sitl sihsim_quadx\n")])])])]),e._v(" "),i("li",[i("p",[e._v("Fixed-wing (plane):")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[i("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" px4_sitl sihsim_airplane\n")])])])]),e._v(" "),i("li",[i("p",[e._v("XVert VTOL tailsitter:")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[i("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" px4_sitl sihsim_xvert\n")])])])])])])]),e._v(" "),i("p",[e._v("SITL allows the simulation to be run faster than real time. To run the airplane simulation 10 times faster than real time, run the commandL")]),e._v(" "),i("div",{staticClass:"language-sh extra-class"},[i("pre",{pre:!0,attrs:{class:"language-sh"}},[i("code",[i("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("PX4_SIM_SPEED_FACTOR")]),i("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),i("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v(" "),i("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" px4_sitl sihsim_airplane\n")])])]),i("h2",{attrs:{id:"dynamic-model"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#dynamic-model"}},[e._v("#")]),e._v(" Dynamic Model")]),e._v(" "),i("p",[e._v("The dynamic models for the various vehicles are:")]),e._v(" "),i("ul",[i("li",[e._v("Quadrotor: "),i("a",{attrs:{href:"https://github.com/PX4/PX4-user_guide/raw/main/assets/simulation/SIH_dynamic_model.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("pdf report"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("li",[e._v('Fixed-wing: Inspired by the PhD thesis: "Dynamics modeling of agile fixed-wing unmanned aerial vehicles." Khan, Waqas, supervised by Nahon, Meyer, McGill University, PhD thesis, 2016.')]),e._v(" "),i("li",[e._v('Tailsitter: Inspired by the master\'s thesis: "Modeling and control of a flying wing tailsitter unmanned aerial vehicle." Chiappinelli, Romain, supervised by Nahon, Meyer, McGill University, Masters thesis, 2018.')])]),e._v(" "),i("h2",{attrs:{id:"video"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#video"}},[e._v("#")]),e._v(" Video")]),e._v(" "),i("p"),i("div",{staticClass:"embed-responsive embed-responsive-16by9"},[i("iframe",{staticClass:"embed-responsive-item youtube-player",attrs:{type:"text/html",width:"640",height:"390",src:"https://www.youtube.com/embed/PzIpSCRD8Jo",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),i("p"),e._v(" "),i("h2",{attrs:{id:"개발진"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#개발진"}},[e._v("#")]),e._v(" 개발진")]),e._v(" "),i("p",[e._v("SIH was originally developed by Coriolis g Corporation. The airplane model and tailsitter models were added by Altitude R&D inc. Both are Canadian companies:")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"http://ww7.vogi-vtol.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Coriolis g"),i("OutboundLink")],1),e._v(" develops a new type of Vertical Takeoff and Landing (VTOL) vehicles based on passive coupling systems;")]),e._v(" "),i("li",[i("a",{attrs:{href:"https://www.altitude-rd.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Altitude R&D"),i("OutboundLink")],1),e._v(" is specialized in dynamics, control, and real-time simulation.")])]),e._v(" "),i("p",[e._v("The simulator is released for free under BSD license.")])])}),[],!1,null,null,null);t.default=r.exports}}]);