(window.webpackJsonp=window.webpackJsonp||[]).push([[746],{1435:function(e,t,r){e.exports=r.p+"assets/img/px4_fmu_io_functions.97862480.png"},2270:function(e,t,r){"use strict";r.r(t);var a=r(19),i=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"px4-reference-flight-controller-design"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#px4-reference-flight-controller-design"}},[e._v("#")]),e._v(" PX4 Reference Flight Controller Design")]),e._v(" "),a("p",[e._v("The PX4 reference design is the "),a("RouterLink",{attrs:{to:"/en/flight_controller/pixhawk_series.html"}},[e._v("Pixhawk series")]),e._v(" of flight controllers. First released in 2011, this design is now in its 5th "),a("a",{attrs:{href:"#reference_design_generations"}},[e._v("generation")]),e._v(" (with the 6th generation board design in progress).")],1),e._v(" "),a("h2",{attrs:{id:"binary-compatibility"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#binary-compatibility"}},[e._v("#")]),e._v(" Binary Compatibility")]),e._v(" "),a("p",[e._v("All boards manufactured to a particular design are expected to be binary compatible (i.e. can run the same firmware). From 2018 we will offer a binary compatibility test suite that will allow us to verify and certify this compatibility.")]),e._v(" "),a("p",[e._v("FMU generations 1-3 were designed as open hardware, while FMU generations 4 and 5 provided only pinout and power supply specifications (schematics were created by individual manufacturers). In order to better ensure compatibility, FMUv6 and onward will return to a complete reference design model.")]),e._v(" "),a("p",[a("a",{attrs:{id:"reference_design_generations"}})]),e._v(" "),a("h2",{attrs:{id:"reference-design-generations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reference-design-generations"}},[e._v("#")]),e._v(" Reference Design Generations")]),e._v(" "),a("ul",[a("li",[e._v("FMUv1: Development board (STM32F407, 128 KB RAM, 1MB flash, "),a("a",{attrs:{href:"https://github.com/PX4/Hardware/tree/master/FMUv1",target:"_blank",rel:"noopener noreferrer"}},[e._v("schematics"),a("OutboundLink")],1),e._v(") (no longer supported by PX4)")]),e._v(" "),a("li",[e._v("FMUv2: Pixhawk (STM32F427, 168 MHz, 192 KB RAM, 1MB flash, "),a("a",{attrs:{href:"https://github.com/PX4/Hardware/tree/master/FMUv2",target:"_blank",rel:"noopener noreferrer"}},[e._v("schematics"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("FMUv3: Pixhawk variants with 2MB flash (3DR Pixhawk 2 (Solo), Hex Pixhawk 2.1, Holybro Pixfalcon, 3DR Pixhawk Mini, STM32F427, 168 MHz, 256 KB RAM, 2 MB flash, "),a("a",{attrs:{href:"https://github.com/PX4/Hardware/tree/master/FMUv3_REV_D",target:"_blank",rel:"noopener noreferrer"}},[e._v("schematics"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("FMUv4: Pixracer (STM32F427, 168 MHz, 256 KB RAM, 2 MB flash, "),a("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/1raRRouNsveQz8cj-EneWG6iW0dqGfRAifI91I2Sr5E0/edit#gid=1585075739",target:"_blank",rel:"noopener noreferrer"}},[e._v("pinout"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("FMUv4 PRO: Drotek Pixhawk 3 PRO (STM32F469, 180 MHz, 384 KB RAM, 2 MB flash, "),a("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/1raRRouNsveQz8cj-EneWG6iW0dqGfRAifI91I2Sr5E0/edit#gid=1585075739",target:"_blank",rel:"noopener noreferrer"}},[e._v("pinout"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("FMUv5: Holybro Pixhawk 4 (STM32F765, 216 MHz, 512 KB RAM, 2 MB flash, "),a("a",{attrs:{href:"https://docs.google.com/spreadsheets/d/1-n0__BYDedQrc_2NHqBenG1DNepAgnHpSGglke-QQwY/edit#gid=912976165",target:"_blank",rel:"noopener noreferrer"}},[e._v("pinout"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[e._v("FMUv6: work in progress, final name TBD, variant 6s (STM32H7, 400 MHz, 2 MB RAM, 2 MB flash) and variant 6i (i.MX RT1050, 600 MHz, 512 KB RAM, external flash)")])]),e._v(" "),a("h2",{attrs:{id:"main-io-function-breakdown"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#main-io-function-breakdown"}},[e._v("#")]),e._v(" Main/IO Function Breakdown")]),e._v(" "),a("p",[e._v("The diagram below shows the division of bus and functional responsibilities between the FMU and I/O boards in a Pixhawk-series flight controller (the boards are incorporated into a single physical module).")]),e._v(" "),a("p",[a("img",{attrs:{src:r(1435),alt:"PX4 Main/IO Functional Breakdown"}})]),e._v(" "),a("p",[e._v("Some Pixhawk-series controllers are built without the I/O board in order to reduce space or complexity, or to better address certain board use-cases.\nIn this case the I/O driver is not started.")]),e._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),a("p",[e._v('Manufacturer flight controller variants without an I/O board are often named as a "diminutive" of a version that includes the I/O board: e.g. '),a("em",[e._v("Pixhawk 4")]),e._v(" "),a("strong",[e._v("Mini")]),a("em",[e._v(", _CUAV v5 "),a("strong",[e._v("nano")])]),e._v(".")])]),e._v(" "),a("p",[e._v("Build targets that must run on flight controllers with an I/O board map the FMU outputs to "),a("code",[e._v("AUX")]),e._v(" and the I/0 outputs to "),a("code",[e._v("MAIN")]),e._v(" (see diagram above).\nIf the target is run on hardware where I/O board is not present or has been disabled, the PWM MAIN outputs will not be present.\nYou might see this, for example, by running "),a("code",[e._v("px4_fmu-v5_default")]),e._v(" on "),a("RouterLink",{attrs:{to:"/en/flight_controller/pixhawk4.html"}},[e._v("Pixhawk 4")]),e._v(" (with IO) and "),a("RouterLink",{attrs:{to:"/en/flight_controller/pixhawk4_mini.html"}},[e._v("Pixhawk 4 Mini")]),e._v(" (without I/O).")],1),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("On "),a("RouterLink",{attrs:{to:"/en/flight_controller/pixhawk4_mini.html"}},[e._v("Pixhawk 4 Mini")]),e._v(" this results in a mismatch between the "),a("code",[e._v("MAIN")]),e._v(" label screenprinted on the flight controller and the "),a("code",[e._v("AUX")]),e._v(" bus shown during "),a("RouterLink",{attrs:{to:"/en/config/actuators.html"}},[e._v("Actuator Configuration")]),e._v(".")],1)]),e._v(" "),a("p",[e._v("Note that if a build target is only ever intended to run on a flight controller that does not have an I/0 board, then the FMU outputs are mapped to "),a("code",[e._v("MAIN")]),e._v(" (for example, the "),a("code",[e._v("px4_fmu-v4_default")]),e._v(" target for "),a("RouterLink",{attrs:{to:"/en/flight_controller/pixracer.html"}},[e._v("Pixracer")]),e._v(").")],1),e._v(" "),a("p",[e._v("PX4 PWM outputs are mapped to either "),a("code",[e._v("MAIN")]),e._v(" or "),a("code",[e._v("AUX")]),e._v(" ports in "),a("RouterLink",{attrs:{to:"/en/config/actuators.html"}},[e._v("Actuator Configuration")]),e._v(".")],1)])}),[],!1,null,null,null);t.default=i.exports}}]);