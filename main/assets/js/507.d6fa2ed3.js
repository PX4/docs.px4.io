(window.webpackJsonp=window.webpackJsonp||[]).push([[507],{1448:function(t,s,a){t.exports=a.p+"assets/img/qgc_generic_actuator_output_setting_example.89574de0.png"},1449:function(t,s,a){t.exports=a.p+"assets/img/mission_item_select_set_actuator.c7b79741.png"},1450:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAADdCAMAAAAl6KiSAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAMAUExURSgoKC8pKCgoKygpL5mZmUBDVmFhYVhdg////3BwcNHS3T4oKCsoKEpNYVRUVCgvXjMuKWlqfVZZavT19n+Cnz8/O0hFQuDi6OTl64uPqe7u8JBMK1pehBkYGVBSZCcnNmgzKF1ihjU1NrK1xvn5+SpNk/r9/iwvMDk6OM2KSjA4QOfr6iovNSgoPDNmrHJyg2FjdDUoKU6P0mhtjygwS3l9m2JegyxJikgqKOHf39bY4WJnigMDA1QvKJCUrna+52BkiISIpEB6vq6ww8HH0yUoRJWYs82/eGKn20KByCY/hSY2al+i0CgoUDo/QIZFLHW8z/Pt57+GSrduN5hNKFxdbkVIXeXHgNHost6iXKjj9VtaWuf//+S9d9mumUtOTig+eTdwuTowKl80Kuvl3sXExDBEYJS73srM2IO+5z83MLBpNr29zaeqvs+ZWJ7TslhdiJbT6tLR0f/3y+rPjrV3QGtqatChXqfk1adeL3F0lsZ+QKKYm///+6ioozJXm1hlnEuJxXCdvni33FeSytvKvI58X8bt79OqaVhsr3EtJ6jV8OXx9yMbGea/puXkxb3mzlpfkKFfNnpihI9yUObVxZOSklNGNFx8v9OSUn16esrMicnNytW3curv4m1nW2Wy6IeJga3SpVNXdbfb5//+4VeZ1HeSo9ra1UqDvVVYXtbr7KeYeNa4s7y6u9T3/rCwsHtgQajZzcGWjWdvcG2f3ert0OzYnuGtZoHS/I3Q3xIREpxpYLimrunQsHM8KfC9cllISok4GtmQPs3t25y1zWF5qp5yhJ2huNOsh2peg93XmMalgX1/jXis5W+bzGVlZ+fKp8re34DBxYvOyjBco7x6QT0kOR5UqWYsPCxIfrzn+KJxQu+zXmGFm///8vvvtUid4mxUOXKLeNHiqcrKq8Hds8+bkEZqi1ODqzlNdcPU3uzisompzUlslThFToVdW8K8n4lphVIlToxnQbe6f3dxapSCkLKWWm8+ZBI1WS8OApykrZKyjm1VkbTEi/BS/MUAAA+tSURBVHja7JgLVFNHGoAnN9SkEIUS1oQQhSiPYgKK4Z2FEggPeSggq62tiMojyENEWQ6I8kp4iAsColSEsyJLYRV8rexpV3QfPqgoniLiQVzbbde19bXqdk/1nLa7/9x7owGBFaVCzuY/nMvM3Jm53/zzz///GfQ7U5ZuiemqVchHx5hZwv0zEEvnRPhbHYRmmeqh9dCjyxCblmVnZ8t0R9NCkQ+Id7JCIZdBQSSc0tC/oKBdulJAPG3ZbCUudGXrgqa7BGxtsTafGqr2yXahxIwSuZkUg02noM0VhtqidJkS0CIzhRKEYvLEYtgFZ05IQ/tky829vQOweHuby7NFU0LRInOemC/mY+FR4pmCHcVsClok94NDiJelVCiS55pTPkSYl+DZ0lk9edRSb0qNWMyxyMnDRkNLk635fGu2gAe2zedxldRBzFuhlnu3a6Brb7o+N+ulY8NbRuo10UKbh4tSkNLFYyu9lda2ft48ngvZWnr6HAV/LznHNS+hJiUHm/rZM1Cj/p1tUqd8V5ADla3VVDvVixzAyvs++0zn+VfNjkBEWLBPlvkItaEN+eYuhmw/qR/X1lxmKDajNV1+nvzXFjAYfTahJuA7qFUmdAYM3mLVHmjr6pSXtQVcTIwG/VZU4/biW2Sv0sG2gLKT50t7PdtzKL3zuWy2rWDcwNkpfil+lMwlxc9c9AzazHMItICCZpUOctuqWcdPnmepKqqPf6bZeOHxcp/EaFh05YZbrDQaGr/oKXfFvfCAvOJzpcUa4xHKkwVcz65xH0Rva/ZQsZ4rewYtHwrNlWvGnS3reNTDFQgEGx/R0JX3Dgi45ZUrMJA2NNWOodPwguCVxrpwgmCWbBgw7ogldKEU7PdUUuSiF4BmAR3oD2yKRUP31DwCTVeW3dKGho3oqakW0pruwdBlx7SgRRAmZOP3/UIRTip8SJvGxk03zx4LOm8+WEjxudoO+LhMiDedBYzlwsqyctceqIlIYCBNS9xYDerNg3bKlh6xak+f04KG7098GB/Zpmu3CwTcaNc0sA8unKviiGjQde0hgTi53DWvjLv9brVqu/gYtIvTK6qhcwO0415pPQJ+xDHhEOiXEpmc9M6UoyZdNhmqNdAjeg9WmlRK2bFURtZcqUbXNGxZMqgKKyEZSJPKhKKn7WSvSvwQvmqyKDL3pCMhnxIxXzsiYpdn5smeK53LtfWWGvLNhu2q9teFo2y1kDXRCYtITmccVEJkCOE6wEcrIiq4hkoBm6fg2bINFQJPl6mRg8rMNEJne9RvlGV0whSg9KQ3AbISZZd06t0b0PFRC5oldTGTy7HZw9PMRTq1f7nM1v8a12tabx566JeSBboIjS9rpi+2Q7oidounk+axfw7SHSGIOfsx9DKkU0Isw+bxhm5Bozd0E3qBLkK/pde0Hlpv05MPPV/noePNt+50osIO58Uj1FhdLW+cck6M7byuqYet3/bidG6BL2AexkdPmBY5YQqiYIl2N/8fvLTneszRQiW+sRh1KQSHmO6VW+90+8vRoIMfay857Aej8UM3WsHT8UBsRuv2CHuErjXxfm/lXCi+myBoOLHeihma5dbE636yIuLuQGhsR5XD5TMdS5Dv9ogPY5r4m9bC2go9GqpUyeKKJcx8cUcV0SpuSAp/NNiwqTbSMhRaLUM91De34X6xFRZh662I0BMw14/tvWJ7RrgF8o18J6IjCjmWMPz7HmzwqFjiFmjcuJYZWuWcSE4/MjTh23DBC8iN1w9cxppmmhChSb6pHBTS6GVMQjNNmKFJjpkcxxKnkMaBxM2gJsvwKMvwLOSbCpqpc2cymu05jvVudUZudbfr3AmHcIsrJQzfyCv1Tlfqc5cbhfwDoH1TGTF1/8LQWTCXTbdX2NElJHRwHWgavmQTaEQQvvY0dFZrJNEaObr3cKjtTiv2gEWS0NeaWnqXNiehZ9C4BUPDHP59VCfLcIuwvlPIBraS+c2BTHdVEoqpK23w8OjOK2EgDbQvNCwvTeWQ5qHKADN58hQ60AkW/gyaUGWoMowTWgyfQgfFenikjqppDgrre9II9uuAeThBWcygpfmRJDTspkNhViG0kJrOZGi2Az7oEA6bmkmeO1V/82aUG5gbCF+3AQQNNGwNQqBuYwztaw8zgqYtC0noOndQQHgUsZCCRjYPG63gq4swNPlVVf8Y3iP4dFxvplN+RVy3V7M6A6FFNclxSSFN6psDiW3Xg9SKvVn5NYq4pGs7Hg4Uqu/YkytDRL76sU1vcgWU3Xa0t1io0uNOVzkE1ShKrgap916nof0LaxSpzonqvdimjT9p6+1nhuIJY3Y8/PGO+k6Jk29F8t7IsA1tcKr9EzMZV3DVLdASf7UqpEytzBjV5UkWrwEKyc9MEDEPSmjeOokJYkIj820GQVbIh2Qdh3xvxyD3B4qSt8kiHqnKWEwNZcCbdRwJAw8wIcu4qx2HHoIIei6bwDnwCgbYmdDz4O4SqDJN6E5McsoxgwvxSq4fbHp8AjY96RHxn7vHOcB5N0efe+izvJ8ImnD+ymv0vjcMvsX/bhdpen/9LbpvsPP+kdcPbaoNnd8/YvZGlcJPwBEjHNPr6eB5aW8Gij+bGdK4dlKhIf64PWxaeb+Xt9K9tZ0PKVFhC+Q5OPnB0FG4z6pcKvUiJDMgGkMghPRkUu89cJrz7ikkWQPBNx+iUj0kLqvtIQ2CPw00mWRQkk9Co9Wpk2rTkPm6QdKQ29vSEgWWYhMYcrToXoYjTn68MHRwMWSOz0E7lkwqNNZ0oBFkLw59FLT/5Qe7IQuDLIaDoQk7CMIYWrJmiKYh3E4eNLbpQCMyk6GgHQojYlOvQvJT76RtHv59Fs+gidClC/84iVcIhKofKw3SGYkJTlNM8jMI/8unyOSH9h74lwEK+Y87ovIayntI1rxm6Nlj+enVaoMz9UZD/TSZLWg6TJKfXjZmRJy3at3/yGY4iMOZYtDkCZx6YXy2/lJdfwGpvzXV2/T/j/dYpoceQQwmSl6neRiwJ0YMXudB/CmgF+gi9Fu6CK19wzRCVz20HnoUaGuBeIpCXxwN2lYQtytHx6CtPQxm7PMgoS0Lro9wwTemOBdUDYP+vGR3fCIufPFgBkjeoZXw3D84odDc9D1zpqVbk9AxTcvdNb8YHSOH88X82+g55mtNLUuHQf817MyFqx9DYWNnTk7OdZsP/uKWk/P9oYmxaS7XFj/j3kQzD1vbktCLoo/iy5n4j7YWTU+I3nXk650MFL/PCzfsdHK+dHLXTobzja1FRsj5qz99dBDW51Bw4p1h0L+J+ht7y+ZFthTAxj//eov9ookJLvBK3H44ncsWtE+bhfYJKO/h/ElVcyoDXSu+cPHg/oRP93y58D0GCn7XyrLg4PyyD+MLPttzxHjDp/MTNrkbH1UcKyL17jAceuM20PJ7Nh/Qag8+tGVpa1yv7UtCmw6F3jVjzi8Ptxx+f9YfpqXTLi+328vm72uZzYCKmEH2iKCh8QjflUarlxuh1WA/YRuSjFdspk3+OegvBj4mWZ+q/fP+eTN/FfKSNj17KPT76OezZr656r/tnX9MG1UcwK+tu7ahLb9sayDXkhPa6wbYEpJK0qbJEhKBrQtWEFdMVdgfmwmZlBUXUpc4kxlGzWLUObJZCIE4Fp0adGZoRkH/WLZE/jEuGtNh5qJTMxMT/tB/fK/XbsBaao/32j5833DtXbmQD1/evffu+7k75l36j2pFaPMTbx84cMHX4Blh1kObf/3NOLYAoROfmCdspS+nLkjYCB1OZPrHdjHTC6U/JOHbLCgy/ZBu3uXi5l2RyV3JwaXj1Beh0DfPfuexrYWu66lpu9SnaRMz3fS5A3COZIZWTS9OqFRLNxLQ00eTrOGl5y1bnuWBb1V96OdcIHRnUyMiaAGgizi1r23IzVhlM2c0DCBVNN2sAaStnoWSxqHHwa9wBexSvQl0eKmxN7i4En7jpEo1tHc/6AKNFnA8riA5EEG/AamZdyqT0K2XoZ0wT5xpPt75yKW+YxdajnTs7zd+cLvGeaK//8tzJWDrdcf5XS3vPSnbBFoV3MdFjl2cXrzRG/fB/AYXuch8Y68KRabBqHKW5Vzs+6m5h1wU4LAEvFNfBvW3jFF4D8mtGmjS4ccJcV3vhTVicV8Y99dSI2K4c0x8CddaxO2WMRRnLsmxcDBkeKW2qCdMFQ+OiLXGlipLUUObSJyadpMIvYPEc0QKTaELCo2hlocdmkUVpJd6TRQ6T9Bamuk89R52WlSnRfVtDE3MfJpCUxOwCfTD1AQkd7rz9eB1dwYToAqfS6zFhw/dOYm2eWzJBDhvv6U9/nRJehMA166CtaWOT4ZhUa9YTAAjl2ucYgH7QRMQP7oCy6WwjBp/samYTADDNF5zpzcBwVEPrFT3wCp7sva7VWhEJoApfcmXwQQk8Beeu/UXaBrPoIFGZAKaDw44MpgAEbo9AY0o02hMQPPBYUcmEzD91ARM8WeAPTwi0QSUYzABMM/yVOe40QSEATo4LOO+3Zbg6ETxmIDd8Pl6nb4MJiBYzUXqLqpujnKcVBNQjsEEKHgYsgwmQHy594ZmwkSACSgn0QTQK2voOeJ/tFsUmkJvgNaSWMvrpiYgT6XeHRQ6T9D0noB0oUYV+ezyKHS+RBEO6ArSobHMpyk0habQSKBzNgGKXx4dvN6HEborO3TOJqDu5z+1nw658UHbs0PnbgJAfN9zpZDQkkxAw0zqr1MYaAkmoP1E5VWcbTortBQTYLXufPf3dc3j4whnPh3hWufU6p/A22mOa57DCC3pngAGJn4tdFSnm2XBMieugqUCZ+8hwQTcfYFhnF9Vp2seq7EKBM1DmwVakgmo6jeCzXTQ0X/+RgCd7fppSfcE1Hv1sgwjYmgOAbSJxGHcTiJ0OYUuADQx54h2EqG7KDRtHgU8EHGYgMfoc5jyBE3vCdg2maalXpIHF5rpQkATM5/uoueIFHqblRBMGEwAiNZXjxQWOvenAzHy84O2PLlxdCbAeesPW0EzLcEE7L385p7CQuduAhSvDThmCgotwQR8e82tgIVsbCbAhN4ENHgqYSTvzsFhAkzoTYC8XhD4PQNl+EyACYMJgOAzNg0+E2DCYQKg4CrDaAK0JA7jFJpC04sJKTSF/p9D4zABWlqfptAUuiigCft39Ew3hJ7iiWLmpyC0Uuu1EoNc79Uq4YVXysNKkuKwcsrLdNmJYlZOme4KDLscWobB+gMGvd4gCIHlZb/fz7I6g1cQBN7Ajq9Go/5YzGCIxfzR1dXxycnxcTWrZmcD92IWhE6ng4suEPCH/ODn8OBL7zV4ed7K6wU9CEMy1qzeD/3GENYFvyaEfwFU+0fsF6R+HAAAAABJRU5ErkJggg=="},4134:function(t,s,a){"use strict";a.r(s);var n=a(19),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"generic-actuator-control"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#generic-actuator-control"}},[t._v("#")]),t._v(" Generic Actuator Control")]),t._v(" "),n("p",[t._v("You can connect arbitrary hardware to unused PX4 outputs and control it using "),n("a",{attrs:{href:"#generic-actuator-control-with-rc"}},[t._v("RC Control")]),t._v(" or "),n("a",{attrs:{href:"#generic-actuator-control-with-mavlink"}},[t._v("MAVLink")]),t._v(" (either as commands or in a "),n("a",{attrs:{href:"#generic-actuator-control-in-missions"}},[t._v("mission")]),t._v(").")]),t._v(" "),n("p",[t._v("This is useful when you need to use a payload type for which there is no associated MAVLink command, or for which PX4 doesn't have any specific integration.")]),t._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),n("p",[t._v("Prefer using integrated hardware and hardware-specific MAVLink commands, such as those for "),n("RouterLink",{attrs:{to:"/zh/peripherals/gripper.html"}},[t._v("Grippers")]),t._v(", to generic actuator control when possible.\nUsing integrated hardware allows optimised "),n("RouterLink",{attrs:{to:"/zh/flying/package_delivery_mission.html"}},[t._v("mission planning and behaviour")]),t._v(" because the mission can know key facts about the hardware, such as how long it takes to trigger.")],1)]),t._v(" "),n("h2",{attrs:{id:"generic-actuator-control-with-mavlink"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#generic-actuator-control-with-mavlink"}},[t._v("#")]),t._v(" Generic Actuator Control with MAVLink")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_ACTUATOR",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAV_CMD_DO_SET_ACTUATOR"),n("OutboundLink")],1),t._v(" can be used to set the value of up to 6 actuators (at a time).\nThis command can be used in "),n("a",{attrs:{href:"#generic-actuator-control-in-missions"}},[t._v("missions")]),t._v(' by creating a "Set actuator" mission item, or as a stand alone command.')]),t._v(" "),n("p",[t._v("The outputs that are to be controlled are specified in the "),n("RouterLink",{attrs:{to:"/zh/config/actuators.html#actuator-outputs"}},[t._v("Actuators")]),t._v(" configuration screen by assigning the functions "),n("code",[t._v("Peripheral via Actuator Set 1")]),t._v(" to "),n("code",[t._v("Peripheral via Actuator Set 6")]),t._v(" to the desired "),n("RouterLink",{attrs:{to:"/zh/config/actuators.html#actuator-outputs"}},[t._v("actuator outputs")]),t._v(".")],1),t._v(" "),n("p",[n("img",{attrs:{src:a(1448),alt:"Generic actuator output setting in QGC"}})]),t._v(" "),n("p",[n("code",[t._v("MAV_CMD_DO_SET_ACTUATOR")]),t._v(" "),n("code",[t._v("param1")]),t._v(" to "),n("code",[t._v("param6")]),t._v(" control the outputs mapped by "),n("code",[t._v("Peripheral via Actuator Set 1")]),t._v(" to "),n("code",[t._v("Peripheral via Actuator Set 6")]),t._v(" respectively.")]),t._v(" "),n("p",[t._v("For example, in the image above, the "),n("code",[t._v("AUX5")]),t._v(" output is assigned the function "),n("code",[t._v("Peripheral via Actuator Set 1")]),t._v(" function.\nTo control the actuator attached to "),n("code",[t._v("AUX5")]),t._v(" you would set the value of "),n("code",[t._v("MAV_CMD_DO_SET_ACTUATOR.param1")]),t._v(".")]),t._v(" "),n("h2",{attrs:{id:"generic-actuator-control-with-rc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#generic-actuator-control-with-rc"}},[t._v("#")]),t._v(" Generic Actuator Control with RC")]),t._v(" "),n("p",[t._v("Up to 6 autopilot PWM or CAN outputs can be controlled using RC channels.\nThe outputs that are to be controlled are specified in the "),n("RouterLink",{attrs:{to:"/zh/config/actuators.html#actuator-outputs"}},[t._v("Actuators")]),t._v(" configuration screen by assigning the functions "),n("code",[t._v("RC AUX 1")]),t._v(" to "),n("code",[t._v("RC AUX 6")]),t._v(" to the desired "),n("RouterLink",{attrs:{to:"/zh/config/actuators.html#actuator-outputs"}},[t._v("actuator outputs")]),t._v(".")],1),t._v(" "),n("p",[t._v("To map a particular RC channel to an output function "),n("code",[t._v("RC AUX n")]),t._v(" (and hence it's assigned output) you use the "),n("RouterLink",{attrs:{to:"/zh/advanced_config/parameter_reference.html#RC_MAP_AUX1"}},[t._v("RC_MAP_AUXn")]),t._v(" parameter that has the same "),n("code",[t._v("n")]),t._v(" number.")],1),t._v(" "),n("p",[t._v("For example, to control an actuator attached to AUX pin 3 (say) you would assign the output function "),n("code",[t._v("RC AUX 5")]),t._v(" to the output "),n("code",[t._v("AUX3")]),t._v(".\nYou could then use set the RC channel to control the "),n("code",[t._v("AUX3")]),t._v(" output using "),n("code",[t._v("RC_MAP_AUX5")]),t._v(".")]),t._v(" "),n("h2",{attrs:{id:"generic-actuator-control-in-missions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#generic-actuator-control-in-missions"}},[t._v("#")]),t._v(" Generic Actuator Control in Missions")]),t._v(" "),n("p",[t._v("To use generic actuator control in a mission you must first "),n("a",{attrs:{href:"#generic-actuator-control-with-mavlink"}},[t._v("configure the outputs that you want to control using MAVLink")]),t._v(".")]),t._v(" "),n("p",[t._v("Then in "),n("em",[t._v("QGroundControl")]),t._v(" you can set the value of actuator outputs in a mission using the "),n("strong",[t._v("Set actuator")]),t._v(" mission item (this adds a "),n("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_ACTUATOR",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAV_CMD_DO_SET_ACTUATOR"),n("OutboundLink")],1),t._v(" to the uploaded mission plan).")]),t._v(" "),n("p",[t._v("It is important to note that with generic actuator control, neither "),n("em",[t._v("QGroundControl")]),t._v(" or PX4 know anything about the hardware being triggered.\nWhen processing the mission item, PX4 will simply set the outputs to the specified values and then immediately proceed to the next mission item.\nIf the hardware requires time to activate and you need to pause at the current waypoint for this to happen, then you will need to plan the mission with additional items to achieve the desired behaviour.")]),t._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),n("p",[t._v("This is one reason why integrated hardware is preferred!\nIt allows missions to be written generically, with any hardware-specific behaviour or timing managed by the flight stack configuration.")])]),t._v(" "),n("p",[t._v("To use a generic actuator in a mission:")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("Create a waypoint mission item where you want the actuator command.")])]),t._v(" "),n("li",[n("p",[t._v('Change the waypoint mission item to a "Set actuator" mission item:')]),t._v(" "),n("p",[n("img",{attrs:{src:a(1449),alt:"Set actuator mission item"}})]),t._v(" "),n("ul",[n("li",[t._v("Select the header on the waypoint mission editor to open the "),n("strong",[t._v("Select Mission Command")]),t._v(" editor.")]),t._v(" "),n("li",[t._v("Select the category "),n("strong",[t._v("Advanced")]),t._v(", and then the "),n("strong",[t._v("Set actuator")]),t._v(" item (if the item is not present, try a more recent version of "),n("em",[t._v("QGroundControl")]),t._v(' or a daily build).\nThis will change the mission item type to "Set actuator".')])])]),t._v(" "),n("li",[n("p",[t._v("Select the actuators that are connected and set their values (these are normalized between -1 and 1).")]),t._v(" "),n("p",[n("img",{attrs:{src:a(1450),alt:"Set actuator mission item"}})])])]),t._v(" "),n("h2",{attrs:{id:"mavsdk-example-script"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mavsdk-example-script"}},[t._v("#")]),t._v(" MAVSDK (Example script)")]),t._v(" "),n("p",[t._v("The following "),n("a",{attrs:{href:"https://mavsdk.mavlink.io/main/en/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAVSDK"),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://github.com/mavlink/MAVSDK/blob/main/examples/set_actuator/set_actuator.cpp",target:"_blank",rel:"noopener noreferrer"}},[t._v("example code"),n("OutboundLink")],1),t._v(" shows how to trigger payload release using the MAVSDK Action plugin's "),n("a",{attrs:{href:"https://mavsdk.mavlink.io/main/en/cpp/api_reference/classmavsdk_1_1_action.html#classmavsdk_1_1_action_1ad30beac27f05c62dcf6a3d0928b86e4c",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("set_actuator()")]),n("OutboundLink")],1),t._v(" method.")]),t._v(" "),n("p",[t._v("The "),n("code",[t._v("set_actuator()")]),t._v(" index values map to the MAVLink payload outputs defined for your airframe.")]),t._v(" "),n("div",{staticClass:"custom-block note"},[n("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),n("p",[t._v("MAVSDK sends the "),n("a",{attrs:{href:"https://mavlink.io/en/messages/common.html#MAV_CMD_DO_SET_ACTUATOR",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAV_CMD_DO_SET_ACTUATOR"),n("OutboundLink")],1),t._v(" MAVLink command under the hood.")])]),t._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token macro property"}},[n("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),n("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("<mavsdk/mavsdk.h>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token macro property"}},[n("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),n("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("<mavsdk/plugins/action/action.h>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token macro property"}},[n("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),n("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("<chrono>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token macro property"}},[n("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),n("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("<cstdint>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token macro property"}},[n("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),n("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("<iostream>")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token macro property"}},[n("span",{pre:!0,attrs:{class:"token directive-hash"}},[t._v("#")]),n("span",{pre:!0,attrs:{class:"token directive keyword"}},[t._v("include")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("<future>")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" mavsdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("usage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("string"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" bin_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("cerr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Usage :"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" bin_name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" <connection_url> <actuator_index> <actuator_value>\\n"')]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Connection URL format should be :\\n"')]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" For TCP : tcp://[server_host][:server_port]\\n"')]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" For UDP : udp://[bind_host][:bind_port]\\n"')]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" For Serial : serial:///path/to/serial/dev[:baudrate]\\n"')]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"For example, to connect to the simulator use URL: udp://:14540\\n"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" argc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("usage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("string connection_url "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" index "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stod")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stof")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    Mavsdk mavsdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ConnectionResult connection_result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mavsdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add_any_connection")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("connection_url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("connection_result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" ConnectionResult"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("Success"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("cerr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Connection failed: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" connection_result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("cout "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Waiting to discover system...\\n"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" prom "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("promise"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("shared_ptr"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("System"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" fut "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" prom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_future")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// We wait for new systems to be discovered, once we find one that has an")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// autopilot, we decide to use it.")]),t._v("\n    mavsdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe_on_new_system")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("mavsdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("prom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" system "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mavsdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("systems")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("back")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("system"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("has_autopilot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("cout "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Discovered autopilot\\n"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Unsubscribe again as we only want to find one system.")]),t._v("\n            mavsdk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe_on_new_system")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nullptr")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            prom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("system"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// We usually receive heartbeats at 1Hz, therefore we should find a")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// system after around 3 seconds max, surely.")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fut"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("wait_for")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("chrono"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("seconds")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("future_status"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("timeout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("cerr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"No autopilot found, exiting.\\n"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Get discovered system now.")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" system "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fut"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Instantiate plugins.")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" action "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("system"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("cout "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Setting actuator...\\n"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Action"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("Result set_actuator_result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" action"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("set_actuator")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("set_actuator_result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" Action"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("Result"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("Success"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        std"),n("span",{pre:!0,attrs:{class:"token double-colon punctuation"}},[t._v("::")]),t._v("cerr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Setting actuator failed:"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" set_actuator_result "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"testing"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#testing"}},[t._v("#")]),t._v(" Testing")]),t._v(" "),n("p",[t._v("Payloads that are triggered by servos and other actuators, such as grippers, can be tested in the "),n("RouterLink",{attrs:{to:"/zh/getting_started/px4_basic_concepts.html#arming-and-disarming"}},[t._v("pre-arm state")]),t._v(", which disables motors but allows actuators to move.")],1),t._v(" "),n("p",[t._v("This is safer than testing when the vehicle is armed.")]),t._v(" "),n("p",[t._v("Camera payloads can be triggered and tested at any time.")])])}),[],!1,null,null,null);s.default=e.exports}}]);