(window.webpackJsonp=window.webpackJsonp||[]).push([[1823],{3332:function(t,e,s){"use strict";s.r(e);var a=s(19),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ulog-文件格式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ulog-文件格式"}},[t._v("#")]),t._v(" ULog 文件格式")]),t._v(" "),s("p",[t._v("ULog is the file format used for logging messages. The format is self-describing, i.e. it contains the format and "),s("RouterLink",{attrs:{to:"/zh/middleware/uorb.html"}},[t._v("uORB")]),t._v(" message types that are logged. This document is meant to be the ULog File Format Spec Documentation. It is intended especially for anyone who is interested in writing a ULog parser / serializer and needs to decode / encode files.")],1),t._v(" "),s("p",[t._v("PX4 uses ULog to log uORB topics as messages related to (but not limited to) the following sources:")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Device inputs:")]),t._v(" Sensors, RC input, etc.")]),t._v(" "),s("li",[s("strong",[t._v("Internal states:")]),t._v(" CPU load, attitude, EKF state, etc.")]),t._v(" "),s("li",[s("strong",[t._v("String messages:")]),t._v(" "),s("code",[t._v("printf")]),t._v(" statements, including "),s("code",[t._v("PX4_INFO()")]),t._v(" and "),s("code",[t._v("PX4_ERR()")]),t._v(".")])]),t._v(" "),s("p",[t._v("The format uses "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Endianness",target:"_blank",rel:"noopener noreferrer"}},[t._v("little endian"),s("OutboundLink")],1),t._v(" memory layout for all binary types (the least significant byte (LSB) of data type is placed at the lowest memory address).")]),t._v(" "),s("h2",{attrs:{id:"数据类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[t._v("#")]),t._v(" 数据类型")]),t._v(" "),s("p",[t._v("The following binary types are used for logging. They all correspond to the types in C.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("大小（以字节为单位）")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("int8_t, uint8_t")]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("int16_t, uint16_t")]),t._v(" "),s("td",[t._v("2")])]),t._v(" "),s("tr",[s("td",[t._v("int32_t, uint32_t")]),t._v(" "),s("td",[t._v("4")])]),t._v(" "),s("tr",[s("td",[t._v("int64_t, uint64_t")]),t._v(" "),s("td",[t._v("8")])]),t._v(" "),s("tr",[s("td",[t._v("float")]),t._v(" "),s("td",[t._v("4")])]),t._v(" "),s("tr",[s("td",[t._v("double")]),t._v(" "),s("td",[t._v("8")])]),t._v(" "),s("tr",[s("td",[t._v("bool, char")]),t._v(" "),s("td",[t._v("1")])])])]),t._v(" "),s("p",[t._v("Additionally the types can be used as an array: e.g. "),s("code",[t._v("float[5]")]),t._v(".")]),t._v(" "),s("p",[t._v("Strings ("),s("code",[t._v("char[length]")]),t._v(") do not contain the termination NULL character "),s("code",[t._v("'\\0'")]),t._v(" at the end.")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("String comparisons are case sensitive, which should be taken into account when comparing message names when "),s("a",{attrs:{href:"#a-subscription-message"}},[t._v("adding subscriptions")]),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"ulog-file-structure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ulog-file-structure"}},[t._v("#")]),t._v(" ULog File Structure")]),t._v(" "),s("p",[t._v("ULog files have the following three sections:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("----------------------\n|         头         |\n----------------------\n|        定义        |\n----------------------\n|        数据        |\n----------------------\n")])])]),s("p",[t._v("A description of each section is provided below.")]),t._v(" "),s("h3",{attrs:{id:"头部分"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#头部分"}},[t._v("#")]),t._v(" 头部分")]),t._v(" "),s("p",[t._v("头是一个固定大小的部分，具有以下格式（16个字节）：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("----------------------------------------------------------------------\n| 0x55 0x4c 0x6f 0x67 0x01 0x12 0x35 | 0x01         | uint64_t       |\n| File magic(7B)                     | Version (1B) |  Timestamp (8B) |\n----------------------------------------------------------------------\n")])])]),s("ul",[s("li",[s("strong",[t._v("File Magic (7 Bytes):")]),t._v(' File type indicator that reads "ULogXYZ where XYZ is the magic bytes sequence '),s("code",[t._v("0x01 0x12 0x35")]),t._v('"')]),t._v(" "),s("li",[s("strong",[t._v("Version (1 Byte):")]),t._v(" File format version (currently 1)")]),t._v(" "),s("li",[s("strong",[t._v("Timestamp (8 Bytes):")]),t._v(" "),s("code",[t._v("uint64_t")]),t._v(" integer that denotes when the logging started in microseconds.")])]),t._v(" "),s("h3",{attrs:{id:"definition-data-section-message-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#definition-data-section-message-header"}},[t._v("#")]),t._v(" Definition & Data Section Message Header")]),t._v(" "),s("p",[t._v("The "),s("em",[t._v("Definitions and Data")]),t._v(" sections contain a number of "),s("strong",[t._v("messages")]),t._v(". Each message is preceded by this header:")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" msg_size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" msg_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("msg_size")]),t._v(" is the size of the message in bytes without the header.")]),t._v(" "),s("li",[s("code",[t._v("msg_type")]),t._v(" defines the content, and is a single character.")])]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("Message sections below are prefixed with the character that corresponds to it's "),s("code",[t._v("msg_type")]),t._v(".")])]),t._v(" "),s("h3",{attrs:{id:"定义部分"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定义部分"}},[t._v("#")]),t._v(" 定义部分")]),t._v(" "),s("p",[t._v("The definitions section contains basic information such as software version, message format, initial parameter values, and so on.")]),t._v(" "),s("p",[t._v("The message types in this section are:")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"#b-flag-bits-message"}},[t._v("Flag Bits")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#f-format-message"}},[t._v("Format Definition")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#i-information-message"}},[t._v("Information")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#m-multi-information-message"}},[t._v("Multi Information")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#p-parameter-message"}},[t._v("Parameter")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#q-default-parameter-message"}},[t._v("Default Parameter")])])]),t._v(" "),s("h4",{attrs:{id:"b-flag-bits-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#b-flag-bits-message"}},[t._v("#")]),t._v(" 'B': Flag Bits Message")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("This message must be the "),s("strong",[t._v("first message")]),t._v(" right after the header section, so that it has a fixed constant offset from the start of the file!")])]),t._v(" "),s("p",[t._v("This message provides information to the log parser whether the log is parsable or not.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ulog_message_flag_bits_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'B'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" compat_flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" incompat_flags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint64_t")]),t._v(" appended_offsets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// file offset(s) for appended data if appending bit is set")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("p",[s("code",[t._v("compat_flags")]),t._v(": compatible flag bits")]),t._v(" "),s("ul",[s("li",[t._v("These flags indicate the presence of features in the log file that are compatible with any ULog parser.")]),t._v(" "),s("li",[s("code",[t._v("compat_flags[0]")]),t._v(": "),s("em",[t._v("DEFAULT_PARAMETERS")]),t._v(" (Bit 0): if set, the log contains "),s("a",{attrs:{href:"#q-default-parameter-message"}},[t._v("default parameters message")])])]),t._v(" "),s("p",[t._v("The rest of the bits are currently not defined and must be set to 0. These bits can be used for future ULog changes that are compatible with existing parsers. For example, adding a new message type can be indicated by defining a new bit in the standard, and existing parsers will ignore the new message type. It means parsers can just ignore the bits if one of the unknown bits is set.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("incompat_flags")]),t._v(": 不兼容的标志位。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("incompat_flags[0]")]),t._v(": "),s("em",[t._v("DATA_APPENDED")]),t._v(" (Bit 0): if set, the log contains appended data and at least one of the "),s("code",[t._v("appended_offsets")]),t._v(" is non-zero.")])]),t._v(" "),s("p",[t._v("The rest of the bits are currently not defined and must be set to 0. 这可用于引入现有解析器无法处理的重大更改。 For example, when an old ULog parser that didn't have the concept of "),s("em",[t._v("DATA_APPENDED")]),t._v(" reads the newer ULog, it would stop parsing the log as the log will contain out-of-spec messages / concepts. If a parser finds any of these bits set that isn't specified, it must refuse to parse the log.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("appended_offsets")]),t._v(": File offset (0-based) for appended data. 如果没有附加数据，则所有偏移量必须为零。 这可以用于消息中途暂停的情况下可靠的添加数据。 For example, crash dumps.")]),t._v(" "),s("p",[t._v("附加数据的过程应该做到：")]),t._v(" "),s("ul",[s("li",[t._v("set the relevant "),s("code",[t._v("incompat_flags")]),t._v(" bit")]),t._v(" "),s("li",[t._v("set the first "),s("code",[t._v("appended_offsets")]),t._v(" that is currently 0 to the length of the log file without the appended data, as that is where the new data will start")]),t._v(" "),s("li",[t._v("append any type of messages that are valid for the Data section.")])])])]),t._v(" "),s("p",[t._v("It is possible that there are more fields appended at the end of this message in future ULog specifications. This means a parser must not assume a fixed length of this message. If the message is longer than expected (currently 40 bytes), the exceeding bytes must just be ignored. 这意味着解析器必须不能假定此消息的长度是固定的。 If the "),s("code",[t._v("msg_size")]),t._v(" is bigger than expected (currently 40), any additional bytes must be ignored/discarded.")]),t._v(" "),s("h4",{attrs:{id:"f-format-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#f-format-message"}},[t._v("#")]),t._v(" 'F': Format Message")]),t._v(" "),s("p",[t._v("Format message defines a single message name and it's inner fields in a single string.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_format_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'F'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" format"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("format")]),t._v(" is a plain-text string with the following format: "),s("code",[t._v("message_name:field0;field1;")]),t._v(" "),s("ul",[s("li",[t._v("There can be an arbitrary amount of fields (minimum 1), separated by "),s("code",[t._v(";")]),t._v(".")])])])]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("field")]),t._v(" has the format: "),s("code",[t._v("type field_name")]),t._v(", or for an array: "),s("code",[t._v("type[array_length] field_name")]),t._v(" is used (only fixed size arrays are supported).")]),t._v(" "),s("p",[t._v("A "),s("code",[t._v("type")]),t._v(" is one of the "),s("a",{attrs:{href:"#data-types"}},[t._v("basic binary types")]),t._v(" or a "),s("code",[t._v("message_name")]),t._v(" of another format definition (nested usage).")]),t._v(" "),s("ul",[s("li",[t._v("一个类型可以在定义之前使用。\n"),s("ul",[s("li",[t._v("e.g. The message "),s("code",[t._v("MessageA:MessageB[2] msg_b")]),t._v(" can come before the "),s("code",[t._v("MessageB:uint_8[3] data")])])])]),t._v(" "),s("li",[t._v("There can be arbitrary nesting but "),s("strong",[t._v("no circular dependencies")]),t._v(" "),s("ul",[s("li",[t._v("e.g. "),s("code",[t._v("MessageA:MessageB[2] msg_b")]),t._v(" & "),s("code",[t._v("MessageB:MessageA[4] msg_a")])])])])]),t._v(" "),s("p",[t._v("有些字段名是特殊的：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("timestamp")]),t._v(": every "),s("a",{attrs:{href:"#a-subscription-message"}},[t._v("Subscription Message")]),t._v(" must include a timestamp field\n"),s("ul",[s("li",[t._v("它的类型可以是："),s("code",[t._v("uint64_t")]),t._v(" (目前唯一使用的)，"),s("code",[t._v("uint32_t")]),t._v(", "),s("code",[t._v("uint16_t")]),t._v(" 或者是 "),s("code",[t._v("uint8_t")]),t._v(" 。")]),t._v(" "),s("li",[t._v("The unit is always microseconds, except for in "),s("code",[t._v("uint8_t")]),t._v(" where the unit is in milliseconds.")]),t._v(" "),s("li",[t._v("对于具有相同 "),s("code",[t._v("msg_id")]),t._v(" 报文的时间戳必须是单调递增的。")]),t._v(" "),s("li",[t._v("Optionally, when using a small timestamp datatype such as "),s("code",[t._v("uint8_t")]),t._v(", the log writer must make sure to log messages often enough to be able to detect "),s("strong",[t._v("wrap-arounds")]),t._v(" (when the timestamp overflows the data type and goes back to 0)")]),t._v(" "),s("li",[t._v("In that case, the log reader must handle wrap-arounds as well, and take into account dropouts.")])])]),t._v(" "),s("li",[s("code",[t._v("_padding{}")]),t._v(": field names that start with "),s("code",[t._v("_padding")]),t._v(" (e.g. "),s("code",[t._v("_padding[3]")]),t._v(") should not be displayed and their data must be ignored by a reader.\n"),s("ul",[s("li",[t._v("写入器可以通过插入这个字段确保正确对齐。")]),t._v(" "),s("li",[t._v("If the padding field is the last field, then this field may not be logged, to avoid writing unnecessary data.")]),t._v(" "),s("li",[t._v("这意味着 "),s("code",[t._v("message_data_s.data")]),t._v(" 会因为填充大小而更短。")]),t._v(" "),s("li",[t._v("但是当报文在嵌套定义中使用时任然需要填充。")])])])]),t._v(" "),s("h4",{attrs:{id:"i-information-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#i-information-message"}},[t._v("#")]),t._v(" 'I': Information Message")]),t._v(" "),s("p",[t._v("The Information message defines a dictionary type definition "),s("code",[t._v("key")]),t._v(" : "),s("code",[t._v("value")]),t._v(" pair for any information, including but not limited to Hardware version, Software version, Build toolchain for the software, etc.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ulog_message_info_header_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'I'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("key_len")]),t._v(": Length of the key value")]),t._v(" "),s("li",[s("code",[t._v("key")]),t._v(": Contains the key string. eg. "),s("code",[t._v("char[value_len] sys_toolchain_ver")])]),t._v(" "),s("li",[s("code",[t._v("value")]),t._v(": Contains the data (with the length "),s("code",[t._v("value_len")]),t._v(") corresponding to the "),s("code",[t._v("key")]),t._v(" e.g. "),s("code",[t._v("9.4.0")]),t._v(".")])]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[t._v("A key : value pair defined in the Information message should be unique. Meaning there shouldn't be more than one definition with the same key value!")])]),t._v(" "),s("p",[t._v("解析器可以将报文信息存储为字典。")]),t._v(" "),s("p",[t._v("预定义的信息报文有：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("键")]),t._v(" "),s("th",[t._v("描述")]),t._v(" "),s("th",[t._v("示例值")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("char[value_len] sys_name")])]),t._v(" "),s("td",[t._v("系统名称")]),t._v(" "),s("td",[t._v('"PX4"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] ver_hw")])]),t._v(" "),s("td",[t._v("硬件版本 (主板)")]),t._v(" "),s("td",[t._v('"PX4FMU_V4"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] ver_hw_subtype")])]),t._v(" "),s("td",[t._v("主办子版本 (变化的)")]),t._v(" "),s("td",[t._v('"V2"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] ver_sw")])]),t._v(" "),s("td",[t._v("软件版本 (git 标签)")]),t._v(" "),s("td",[t._v('"7f65e01"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] ver_sw_branch")])]),t._v(" "),s("td",[t._v("git branch")]),t._v(" "),s("td",[t._v('"master"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("uint32_t ver_sw_release")])]),t._v(" "),s("td",[t._v("软件版本 (见下文)")]),t._v(" "),s("td",[t._v("0x010401ff")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] sys_os_name")])]),t._v(" "),s("td",[t._v("操作系统名称")]),t._v(" "),s("td",[t._v('"Linux"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] sys_os_ve")]),t._v("r")]),t._v(" "),s("td",[t._v("操作系统版本 (git 标签)")]),t._v(" "),s("td",[t._v('"9f82919"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("uint32_t ver_os_release")])]),t._v(" "),s("td",[t._v("操作系统版本 (见下文)")]),t._v(" "),s("td",[t._v("0x010401ff")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] sys_toolchain")])]),t._v(" "),s("td",[t._v("工具链名称")]),t._v(" "),s("td",[t._v('"GNU GCC"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] sys_toolchain_ver")])]),t._v(" "),s("td",[t._v("工具链版本")]),t._v(" "),s("td",[t._v('"6.2.1"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] sys_mcu")])]),t._v(" "),s("td",[t._v("芯片名称和修订")]),t._v(" "),s("td",[t._v('"STM32F42x, rev A"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] sys_uuid")])]),t._v(" "),s("td",[t._v("Unique identifier for vehicle (eg. MCU ID)")]),t._v(" "),s("td",[t._v('"392a93e32fa3"...')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] log_type")])]),t._v(" "),s("td",[t._v("Type of the log (full log if not specified)")]),t._v(" "),s("td",[t._v('"mission"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("char[value_len] replay")])]),t._v(" "),s("td",[t._v("重播日志的文件名如果处于重播模式")]),t._v(" "),s("td",[t._v('"log001.ulg"')])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("int32_t time_ref_utc")])]),t._v(" "),s("td",[t._v("UTC 时间的秒偏移量")]),t._v(" "),s("td",[t._v("-3600")])])])]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("注解")]),t._v(" "),s("p",[s("code",[t._v("value_len")]),t._v(" represents the data size of the "),s("code",[t._v("value")]),t._v(". This is described in the "),s("code",[t._v("key")]),t._v(".")])]),t._v(" "),s("ul",[s("li",[t._v("The format of "),s("code",[t._v("ver_sw_release")]),t._v(" and "),s("code",[t._v("ver_os_release")]),t._v(" is: 0xAABBCCTT, where AA is "),s("strong",[t._v("major")]),t._v(", BB is "),s("strong",[t._v("minor")]),t._v(", CC is patch and TT is the "),s("strong",[t._v("type")]),t._v(".\n"),s("ul",[s("li",[s("strong",[t._v("Type")]),t._v(" is defined as following: "),s("code",[t._v(">= 0")]),t._v(": development, "),s("code",[t._v(">= 64")]),t._v(": alpha version, "),s("code",[t._v(">= 128")]),t._v(": beta version, "),s("code",[t._v(">= 192")]),t._v(": RC version, "),s("code",[t._v("== 255")]),t._v(": release version.")]),t._v(" "),s("li",[t._v("For example, "),s("code",[t._v("0x010402FF")]),t._v(" translates into the release version v1.4.2.")])])])]),t._v(" "),s("p",[t._v("This message can also be used in the Data section (this is however the preferred section).")]),t._v(" "),s("h4",{attrs:{id:"m-multi-information-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#m-multi-information-message"}},[t._v("#")]),t._v(" 'M': Multi Information Message")]),t._v(" "),s("p",[t._v("Multi information message serves the same purpose as the information message, but for long messages or multiple messages with the same key.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ulog_message_info_multiple_header_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'M'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" is_continued"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// can be used for arrays")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("is_continued")]),t._v(" can be used for split-up messages: if set to 1, it is part of the previous message with the same key.")])]),t._v(" "),s("p",[t._v("解析器可以将所有多报文信息存储为一个 2D 列表，使用与日志中报文相同的顺序。")]),t._v(" "),s("h4",{attrs:{id:"p-parameter-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#p-parameter-message"}},[t._v("#")]),t._v(" 'P': Parameter Message")]),t._v(" "),s("p",[t._v("Parameter message in the "),s("em",[t._v("Definitions")]),t._v(" section defines the parameter values of the vehicle when logging is started. It uses the same format as the "),s("a",{attrs:{href:"#i-information-message"}},[t._v("Information Message")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_info_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'P'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("If a parameter dynamically changes during runtime, this message can also be "),s("a",{attrs:{href:"#messages-shared-with-the-definitions-section"}},[t._v("used in the Data section")]),t._v(" as well.")]),t._v(" "),s("p",[t._v("The data type is restricted to "),s("code",[t._v("int32_t")]),t._v(" and "),s("code",[t._v("float")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"q-default-parameter-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#q-default-parameter-message"}},[t._v("#")]),t._v(" 'Q': Default Parameter Message")]),t._v(" "),s("p",[t._v("The default parameter message defines the default value of a parameter for a given vehicle and setup.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ulog_message_parameter_default_header_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'Q'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" default_types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("key_len"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("default_types")]),t._v(" is a bitfield and defines to which group(s) the value belongs to.\n"),s("ul",[s("li",[t._v("At least one bit must be set:\n"),s("ul",[s("li",[s("code",[t._v("1<<0")]),t._v(": system wide default")]),t._v(" "),s("li",[s("code",[t._v("1<<1")]),t._v(": default for the current configuration (e.g. an airframe)")])])])])])]),t._v(" "),s("p",[t._v("A log may not contain default values for all parameters. In those cases the default is equal to the parameter value, and different default types are treated independently.")]),t._v(" "),s("p",[t._v("This message can also be used in the Data section, and the data type is restricted to "),s("code",[t._v("int32_t")]),t._v(" and "),s("code",[t._v("float")]),t._v(".")]),t._v(" "),s("p",[t._v("This section ends before the start of the first "),s("a",{attrs:{href:"#a-subscription-message"}},[t._v("Subscription Message")]),t._v(" or "),s("a",{attrs:{href:"#l-logged-string-message"}},[t._v("Logging")]),t._v(" message, whichever comes first.")]),t._v(" "),s("h3",{attrs:{id:"数据部分"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据部分"}},[t._v("#")]),t._v(" 数据部分")]),t._v(" "),s("p",[t._v("The message types in the "),s("em",[t._v("Data")]),t._v(" section are:")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"#a-subscription-message"}},[t._v("Subscription")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#r-unsubscription-message"}},[t._v("Unsubscription")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#d-logged-data-message"}},[t._v("Logged Data")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#l-logged-string-message"}},[t._v("Logged String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#c-tagged-logged-string-message"}},[t._v("Tagged Logged String")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#s-synchronization-message"}},[t._v("Synchronization")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#o-dropout-message"}},[t._v("Dropout Mark")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#i-information-message"}},[t._v("Information")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#m-multi-information-message"}},[t._v("Multi Information")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#p-parameter-message"}},[t._v("Parameter")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#q-default-parameter-message"}},[t._v("Default Parameter")])])]),t._v(" "),s("h4",{attrs:{id:"a-subscription-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#a-subscription-message"}},[t._v("#")]),t._v(" "),s("code",[t._v("A")]),t._v(": Subscription Message")]),t._v(" "),s("p",[t._v("Subscribe a message by name and give it an id that is used in "),s("a",{attrs:{href:"#d-logged-data-message"}},[t._v("Logged data Message")]),t._v(". This must come before the first corresponding "),s("a",{attrs:{href:"#d-logged-data-message"}},[t._v("Logged data Message")]),t._v(".")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_add_logged_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'A'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" multi_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" msg_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" message_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("multi_id")]),t._v(": the same message format can have multiple instances, for example if the system has two sensors of the same type. The default and first instance must be 0. "),s("code",[t._v("msg_id")]),t._v(": unique id to match "),s("code",[t._v("message_data_s")]),t._v(" data. The first use must set this to 0, then increase it. The same "),s("code",[t._v("msg_id")]),t._v(" must not be used twice for different subscriptions, not even after unsubscribing. "),s("code",[t._v("message_name")]),t._v(": message name to subscribe to. Must match one of the "),s("code",[t._v("message_format_s")]),t._v(" definitions. 默认值以及第一个实例一定是0.")]),t._v(" "),s("li",[s("code",[t._v("msg_id")]),t._v(": unique id to match "),s("a",{attrs:{href:"#d-logged-data-message"}},[t._v("Logged data Message")]),t._v(" data. 第一次使用一定要设置为 0，然后递增。\n"),s("ul",[s("li",[t._v("The same "),s("code",[t._v("msg_id")]),t._v(" must not be used twice for different subscriptions.")])])]),t._v(" "),s("li",[s("code",[t._v("msg_name")]),t._v("：订阅的消息名称。 Must match one of the "),s("a",{attrs:{href:"#f-format-message"}},[t._v("Format Message")]),t._v(" definitions.")])]),t._v(" "),s("h4",{attrs:{id:"r-unsubscription-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#r-unsubscription-message"}},[t._v("#")]),t._v(" "),s("code",[t._v("R")]),t._v(": Unsubscription Message")]),t._v(" "),s("p",[t._v("Unsubscribe a message, to mark that it will not be logged anymore (not used currently).")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_remove_logged_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'R'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" msg_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"d-logged-data-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#d-logged-data-message"}},[t._v("#")]),t._v(" 'D': Logged Data Message")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_data_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'D'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" msg_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("msg_id")]),t._v(": as defined by a "),s("a",{attrs:{href:"#a-subscription-message"}},[t._v("Subscription Message")])]),t._v(" "),s("li",[s("code",[t._v("data")]),t._v(" contains the logged binary message as defined by "),s("a",{attrs:{href:"#f-format-message"}},[t._v("Format Message")])])]),t._v(" "),s("p",[t._v("有关填充字段的特殊处理，请参见上文。")]),t._v(" "),s("h4",{attrs:{id:"l-logged-string-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#l-logged-string-message"}},[t._v("#")]),t._v(" 'L': Logged String Message")]),t._v(" "),s("p",[t._v("Logged string message, i.e. "),s("code",[t._v("printf()")]),t._v(" output.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_logging_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'L'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" log_level"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint64_t")]),t._v(" timestamp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("timestamp")]),t._v(": in microseconds")]),t._v(" "),s("li",[s("code",[t._v("log_level")]),t._v(": same as in the Linux kernel:")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("对应值")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("EMERG")]),t._v(" "),s("td",[t._v("'0'")]),t._v(" "),s("td",[t._v("系统无法使用")])]),t._v(" "),s("tr",[s("td",[t._v("ALERT")]),t._v(" "),s("td",[t._v("'1'")]),t._v(" "),s("td",[t._v("操作必须立即执行")])]),t._v(" "),s("tr",[s("td",[t._v("CRIT")]),t._v(" "),s("td",[t._v("'2'")]),t._v(" "),s("td",[t._v("紧急情况")])]),t._v(" "),s("tr",[s("td",[t._v("ERR")]),t._v(" "),s("td",[t._v("'3'")]),t._v(" "),s("td",[t._v("错误情况")])]),t._v(" "),s("tr",[s("td",[t._v("WARNING")]),t._v(" "),s("td",[t._v("'4'")]),t._v(" "),s("td",[t._v("警告情况")])]),t._v(" "),s("tr",[s("td",[t._v("NOTICE")]),t._v(" "),s("td",[t._v("'5'")]),t._v(" "),s("td",[t._v("正常但重要的情况")])]),t._v(" "),s("tr",[s("td",[t._v("INFO")]),t._v(" "),s("td",[t._v("'6'")]),t._v(" "),s("td",[t._v("信息")])]),t._v(" "),s("tr",[s("td",[t._v("DEBUG")]),t._v(" "),s("td",[t._v("'7'")]),t._v(" "),s("td",[t._v("调试级别的消息")])])])]),t._v(" "),s("h4",{attrs:{id:"c-tagged-logged-string-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#c-tagged-logged-string-message"}},[t._v("#")]),t._v(" 'C': Tagged Logged String Message")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_logging_tagged_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'C'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" log_level"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint64_t")]),t._v(" timestamp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg_size"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("p",[s("code",[t._v("tag")]),t._v(": id representing source of logged message string. It could represent a process, thread or a class depending upon the system architecture.")]),t._v(" "),s("ul",[s("li",[t._v("For example, a reference implementation for an onboard computer running multiple processes to control different payloads, external disks, serial devices etc can encode these process identifiers using a "),s("code",[t._v("uint16_t enum")]),t._v(" into the "),s("code",[t._v("tag")]),t._v(" attribute of struct as follows:")])]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("class")]),t._v(" ulog_tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  unassigned"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  mavlink_handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ppk_handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  camera_handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ptp_handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  serial_handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  watchdog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  io_service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  cbuf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ulg\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("timestamp")]),t._v(": in microseconds")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("log_level")]),t._v(": same as in the Linux kernel:")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("名称")]),t._v(" "),s("th",[t._v("对应值")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("EMERG")]),t._v(" "),s("td",[t._v("'0'")]),t._v(" "),s("td",[t._v("系统无法使用")])]),t._v(" "),s("tr",[s("td",[t._v("ALERT")]),t._v(" "),s("td",[t._v("'1'")]),t._v(" "),s("td",[t._v("操作必须立即执行")])]),t._v(" "),s("tr",[s("td",[t._v("CRIT")]),t._v(" "),s("td",[t._v("'2'")]),t._v(" "),s("td",[t._v("紧急情况")])]),t._v(" "),s("tr",[s("td",[t._v("ERR")]),t._v(" "),s("td",[t._v("'3'")]),t._v(" "),s("td",[t._v("错误情况")])]),t._v(" "),s("tr",[s("td",[t._v("WARNING")]),t._v(" "),s("td",[t._v("'4'")]),t._v(" "),s("td",[t._v("警告情况")])]),t._v(" "),s("tr",[s("td",[t._v("NOTICE")]),t._v(" "),s("td",[t._v("'5'")]),t._v(" "),s("td",[t._v("正常但重要的情况")])]),t._v(" "),s("tr",[s("td",[t._v("INFO")]),t._v(" "),s("td",[t._v("'6'")]),t._v(" "),s("td",[t._v("信息")])]),t._v(" "),s("tr",[s("td",[t._v("DEBUG")]),t._v(" "),s("td",[t._v("'7'")]),t._v(" "),s("td",[t._v("调试级别的消息")])])])]),t._v(" "),s("h4",{attrs:{id:"s-synchronization-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#s-synchronization-message"}},[t._v("#")]),t._v(" 'S': Synchronization message")]),t._v(" "),s("p",[t._v("Synchronization message so that a reader can recover from a corrupt message by searching for the next sync message.")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_sync_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'S'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint8_t")]),t._v(" sync_magic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[s("code",[t._v("sync_magic")]),t._v(": to be defined.")])]),t._v(" "),s("h4",{attrs:{id:"o-dropout-message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#o-dropout-message"}},[t._v("#")]),t._v(" 'O': Dropout message")]),t._v(" "),s("p",[t._v("Mark a dropout (lost logging messages) of a given duration in ms.")]),t._v(" "),s("p",[t._v("例如当设备不够快的情况下会出现丢包。")]),t._v(" "),s("div",{staticClass:"language-c extra-class"},[s("pre",{pre:!0,attrs:{class:"language-c"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_dropout_s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("message_header_s")]),t._v(" header"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// msg_type = 'O'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("uint16_t")]),t._v(" duration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"messages-shared-with-the-definitions-section"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#messages-shared-with-the-definitions-section"}},[t._v("#")]),t._v(" Messages shared with the Definitions Section")]),t._v(" "),s("p",[t._v("Since the Definitions and Data Sections use the same message header format, they also share the same messages listed below:")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#i-information-message"}},[t._v("Information Message")]),t._v(".")]),t._v(" "),s("li",[s("a",{attrs:{href:"#m-multi-information-message"}},[t._v("Multi Information Message")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#p-parameter-message"}},[t._v("Parameter Message")]),t._v(" "),s("ul",[s("li",[t._v("For the "),s("em",[t._v("Data")]),t._v(" section, the Parameter Message is used when the parameter value changes")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#q-default-parameter-message"}},[t._v("Default Parameter Message")])])]),t._v(" "),s("h2",{attrs:{id:"解析器的要求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解析器的要求"}},[t._v("#")]),t._v(" 解析器的要求")]),t._v(" "),s("p",[t._v("一个有效的 ULog 解析器必须满足以下要求:")]),t._v(" "),s("ul",[s("li",[t._v("Must ignore unknown messages (but it can print a warning)")]),t._v(" "),s("li",[t._v("解析未来/未知的文件格式版本 (但可以打印警告) 。")]),t._v(" "),s("li",[t._v("Must refuse to parse a log which contains unknown incompatibility bits set ("),s("code",[t._v("incompat_flags")]),t._v(" of "),s("a",{attrs:{href:"#b-flag-bits-message"}},[t._v("Flag Bits Message")]),t._v("), meaning the log contains breaking changes that the parser cannot handle.")]),t._v(" "),s("li",[t._v("A parser must be able to correctly handle logs that end abruptly, in the middle of a message. The unfinished message should just be discarged. 未完成的报文应该丢弃。")]),t._v(" "),s("li",[t._v("对于附加数据:解析器可以假设数据部分存在，即在定义部分之后的位置有一个偏移点。\n"),s("ul",[s("li",[t._v("必须将附加数据视为常规数据部分的一部分。")])])])]),t._v(" "),s("h2",{attrs:{id:"known-parser-implementations"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#known-parser-implementations"}},[t._v("#")]),t._v(" Known Parser Implementations")]),t._v(" "),s("ul",[s("li",[t._v("PX4 Firmware: C++\n"),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot/tree/main/src/modules/logger",target:"_blank",rel:"noopener noreferrer"}},[t._v("日志模块"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot/tree/main/src/modules/replay",target:"_blank",rel:"noopener noreferrer"}},[t._v("回放模块"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/PX4/PX4-Autopilot/tree/main/src/systemcmds/hardfault_log",target:"_blank",rel:"noopener noreferrer"}},[t._v("hardfault_log module"),s("OutboundLink")],1),t._v(": append hardfault crash data.")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/PX4/pyulog",target:"_blank",rel:"noopener noreferrer"}},[t._v("pyulog"),s("OutboundLink")],1),t._v(": python, ULog reader and writer library with CLI scripts.")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/PX4/ulog_cpp",target:"_blank",rel:"noopener noreferrer"}},[t._v("ulog_cpp"),s("OutboundLink")],1),t._v(": C++, ULog reader and writer library.")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/PX4/FlightPlot",target:"_blank",rel:"noopener noreferrer"}},[t._v("FlightPlot"),s("OutboundLink")],1),t._v(": Java，日志绘图仪。")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/mavlink/mavlink",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAVLink"),s("OutboundLink")],1),t._v("：通过 MAVLink 进行 ULog 流的消息 (注意，不支持追加数据，至少不支持截断消息)。")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/mavlink/qgroundcontrol",target:"_blank",rel:"noopener noreferrer"}},[t._v("QGroundControl"),s("OutboundLink")],1),t._v("：C++，通过 MAVLink 的 Ulog 流和最小的 GeoTagging。")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/01org/mavlink-router",target:"_blank",rel:"noopener noreferrer"}},[t._v("mavlink-router"),s("OutboundLink")],1),t._v("：C++，通过 MAVLink 的 ULog 流。")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/ecmnet/MAVGCL",target:"_blank",rel:"noopener noreferrer"}},[t._v("MAVGAnalysis"),s("OutboundLink")],1),t._v("：Java，通过 MAVLink 的数据流和日志的绘制、分析。")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/facontidavide/PlotJuggler",target:"_blank",rel:"noopener noreferrer"}},[t._v("PlotJuggler"),s("OutboundLink")],1),t._v(": 绘制日志和时间序列的 C++/Qt 应用。 自版本2.1.3支持 ULog。")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/maxsun/ulogreader",target:"_blank",rel:"noopener noreferrer"}},[t._v("ulogreader"),s("OutboundLink")],1),t._v(": Javascript, ULog reader and parser outputs log in JSON object format.")])]),t._v(" "),s("h2",{attrs:{id:"文件格式版本历史"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件格式版本历史"}},[t._v("#")]),t._v(" 文件格式版本历史")]),t._v(" "),s("h3",{attrs:{id:"版本-2-中的改变"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本-2-中的改变"}},[t._v("#")]),t._v(" 版本 2 中的改变")]),t._v(" "),s("ul",[s("li",[t._v("Addition of "),s("a",{attrs:{href:"#m-multi-information-message"}},[t._v("Multi Information Message")]),t._v(" and "),s("a",{attrs:{href:"#b-flag-bits-message"}},[t._v("Flag Bits Message")]),t._v(" and the ability to append data to a log.\n"),s("ul",[s("li",[t._v("这被用来给现有的日志添加损坏的数据。")]),t._v(" "),s("li",[t._v("如果从中间切开的报文数据被附加到日志中，这不能被版本 1 解析器解析。")])])]),t._v(" "),s("li",[t._v("除此之外，如果解析器忽略未知消息，则提供向前和向后的兼容性。")])])])}),[],!1,null,null,null);e.default=n.exports}}]);