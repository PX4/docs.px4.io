import{_ as a,a as r,b as i,c as l,d as t,e as o,f as s,g as n,h}from"./chunks/pullup.ZkydBtNY.js";import{_ as d,c as p,a8 as c,o as u}from"./chunks/framework.BDnHobkS.js";const F=JSON.parse('{"title":"Omnibus F4 SD","description":"","frontmatter":{},"headers":[],"relativePath":"uk/flight_controller/omnibus_f4_sd.md","filePath":"uk/flight_controller/omnibus_f4_sd.md"}'),m={name:"uk/flight_controller/omnibus_f4_sd.md"};function b(f,e,g,S,_,k){return u(),p("div",null,e[0]||(e[0]=[c('<h1 id="omnibus-f4-sd" tabindex="-1">Omnibus F4 SD <a class="header-anchor" href="#omnibus-f4-sd" aria-label="Permalink to &quot;Omnibus F4 SD&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This flight controller has been <a href="./../flight_controller/autopilot_experimental.html">discontinued</a> and is no longer commercially available.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>PX4 не розробляє цей (або будь-який інший) автопілот. Звертайтесь до виробника з питань щодо підтримки або відповідності.</p></div><p>The <em>Omnibus F4 SD</em> is a controller board designed for racers. На відміну від звичайної гоночної дошки, вона має деякі додаткові функції, такі як SD-карта та швидший процесор.</p><img src="'+a+'" width="400px" title="Omnibus F4 SD"><p>These are the main differences compared to a <a href="./../flight_controller/pixracer.html">Pixracer</a>:</p><ul><li>Нижча ціна</li><li>Менше портів вводу/виводу (хоча все ще можна підключити GPS або датчик потоку, наприклад)</li><li>Requires external pull up resistor on the I2C bus for external GPS, see <a href="#i2c">I2C</a> below.</li><li>Менше ОЗП (192 КБ проти 256 КБ) та FLASH (1 МБ проти 2 МБ)</li><li>Same board dimensions as a <em>Pixracer</em>, but slightly smaller form factor (because it has less connectors)</li><li>Інтегрований OSD (ще не реалізований у програмному забезпеченні)</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>All the usual PX4 features can still be used for your racer!</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This flight controller is <a href="./../flight_controller/autopilot_manufacturer_supported.html">manufacturer supported</a>.</p></div><h2 id="основні-характеристики" tabindex="-1">Основні характеристики <a class="header-anchor" href="#основні-характеристики" aria-label="Permalink to &quot;Основні характеристики&quot;">​</a></h2><ul><li>Main System-on-Chip: <a href="https://www.st.com/en/microcontrollers/stm32f405rg.html" target="_blank" rel="noreferrer">STM32F405RGT6</a><ul><li>CPU: 168 МГц ARM Cortex M4 з одноточним FPU</li><li>RAM: 192 KB SRAM</li><li>FLASH: 1 МБ</li></ul></li><li>Стандартна форма гонщика: 36x36 мм зі стандартним отвором 30,5 мм</li><li>MPU6000 Акселератор / Гіроскоп</li><li>BMP280 Baro (встановлений не на всі плати)</li><li>microSD (логування)</li><li>Futaba S.BUS і S.BUS2 / Spektrum DSM2 і DSMX / Graupner SUMD / PPM input / Yuneec ST24</li><li>OneShot PWM (налаштовується)</li><li>Вбудований датчик струму</li><li>Вбудований чіп OSD (AB7456 через SPI)</li></ul><h2 id="де-купити" tabindex="-1">Де купити <a class="header-anchor" href="#де-купити" aria-label="Permalink to &quot;Де купити&quot;">​</a></h2><p>Дошка виробляється різними вендорами, з деякими варіаціями (наприклад, з барометром або без нього).</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>PX4 is compatible with boards that support the Betaflight OMNIBUSF4SD target (if <em>OMNIBUSF4SD</em> is present on the product page the board should work with PX4).</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Any Omnibus F4 labeled derivative (e.g. clone) should work as well. Однак розподіл живлення на цих платах має різну якість.</p></div><p>Ось дошки, які були протестовані і відомо, що працюють:</p><ul><li><p><a href="https://www.hobbywing.com/en/products/info.html?id=164" target="_blank" rel="noreferrer">Hobbywing XRotor Flight Controller F4</a></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This board fits on top of the <a href="https://www.hobbywing.com/en/products/info.html?id=116" target="_blank" rel="noreferrer">Hobbywing XRotor Micro 40A 4in1 ESC</a> without soldering. Ця плата ESC також забезпечує живлення для плати Omnibus.</p></div></li></ul><p>:::</p><p>Купуйте у:</p><ul><li><p><a href="https://www.getfpv.com/hobbywing-xrotor-f4-flight-controller-w-osd.html" target="_blank" rel="noreferrer">Hobbywing XRotor F4 Flight Controller w/OSD</a> (getfpv)</p></li><li><p>Original Airbot Omnibus F4 SD</p><p>Купуйте у:</p><ul><li><a href="https://store.myairbot.com/omnibusf4prov3.html" target="_blank" rel="noreferrer">Airbot (CN manufacturer)</a></li><li><a href="https://quadsrtf.com/product/flip-32-f4-omnibus-rev-2/" target="_blank" rel="noreferrer">Ready To Fly Quads (US reseller)</a></li></ul></li></ul><p>Аксесуари в комплекті:</p><ul><li><a href="./../telemetry/esp8266_wifi_module.html">ESP8266 WiFi Module</a> for MAVLink telemetry. Потрібно підключити ці контакти: GND, RX, TX, VCC та CH-PD (CH-PD до 3,3В). Швидкість передачі даних становить 921600.</li></ul><h2 id="з-єднання" tabindex="-1">З’єднання <a class="header-anchor" href="#з-єднання" aria-label="Permalink to &quot;З’єднання&quot;">​</a></h2><p>Плати від різних виробників (на основі цього дизайну) можуть мати дуже різні макети. Макети / Silkscreen-и для різних версій показані нижче.</p><h3 id="airbot-omnibus-f4-sd" tabindex="-1">Airbot Omnibus F4 SD <a class="header-anchor" href="#airbot-omnibus-f4-sd" aria-label="Permalink to &quot;Airbot Omnibus F4 SD&quot;">​</a></h3><p>Нижче подані silkscreen-и для Airbot Omnibus F4 SD (V1), що показують як верхню, так і нижню частину.</p><p><img src="'+r+'" alt="Omnibus F4 SD v1 Silkscreen Top"><img src="'+i+'" alt="Omnibus F4 SD v1 Silkscreen Bottom"></p><h3 id="hobbywing-xrotor-flight-controller-f4" tabindex="-1">Hobbywing XRotor Flight Controller F4 <a class="header-anchor" href="#hobbywing-xrotor-flight-controller-f4" aria-label="Permalink to &quot;Hobbywing XRotor Flight Controller F4&quot;">​</a></h3><p>Нижче наведені silkscreen-и для Hobbywing XRotor Flight Controller F4.</p><p><img src="'+l+'" alt="Hobbywing XRotor Flight Controller F4 Silkscreen"></p><h2 id="схема-розташування-виводів" tabindex="-1">Схема розташування виводів <a class="header-anchor" href="#схема-розташування-виводів" aria-label="Permalink to &quot;Схема розташування виводів&quot;">​</a></h2><h3 id="радіоуправління" tabindex="-1">Радіоуправління <a class="header-anchor" href="#радіоуправління" aria-label="Permalink to &quot;Радіоуправління&quot;">​</a></h3><p>RC підключений до одного з наступних портів:</p><ul><li>UART1</li><li>Порт SBUS/PPM (через інвертор, йде до UART1)</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Some Omnibus F4 boards have a jumper connecting either or both the MCU SBUS and PPM to a single pin header. Встановіть ваш перемикач або припойте перемичку до відповідного контакту MCU перед використанням.</p></div><h3 id="uarts" tabindex="-1">UARTs <a class="header-anchor" href="#uarts" aria-label="Permalink to &quot;UARTs&quot;">​</a></h3><ul><li><p>UART6: Порт GPS</p><ul><li><p>TX: MCU pin PC6</p></li><li><p>RX: MCU pin PC7</p></li><li><p>Airbot Omnibus F4 SD знаходиться на порту J10 (TX6/RX6):</p></li></ul><p><img src="'+t+'" alt="Omnibus F4 SD UART6"></p></li><li><p>UART4</p><ul><li>TX: MCU pin PA0</li><li>RX: MCU pin PA1</li><li>57600 baud</li><li>This can be configured as the <code>TELEM 2</code> port.</li><li>Airbot Omnibus F4 SD Pinout: <ul><li>TX: RSSI pin</li><li>RX: PWM out 5</li></ul></li></ul><p><img src="'+o+'" alt="Omnibus F4 SD UART4"></p><p><img src="'+s+'" alt="Omnibus F4 SD UART4 Top"></p></li></ul><h3 id="i2c" tabindex="-1">I2C <a class="header-anchor" href="#i2c" aria-label="Permalink to &quot;I2C&quot;">​</a></h3><p>Є один доступний порт I2C через:</p><ul><li>SCL: Пін MCU PB10 (може мати мітку TX3)</li><li>SDA: пін MCU PB11 (може мати напис RX3)</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You will need external pullups on both signals (clock and data). Ви можете використовувати 2,2 тис. підтяжок, наприклад, щоб прикріпити зовнішню магнітолу.</p></div><ul><li>Airbot Omnibus F4 SD Pinout is on Port J10 (SCL [clock] / SCA [data]): <img src="'+t+'" title="Omnibus F4 SD UART6"></li></ul><p>Ось приклад імплементації. Я використовував штекер Spektrum, щоб отримати 3,3 В від порту DSM, підключаючи лише 3,3 В + до кожної лінії через резистор 2,2к.</p><p><img src="'+n+'" alt="Omnibus F4 SD Pullup"></p><p><img src="'+h+'" alt="Omnibus F4 SD Pullup Implementation"></p><h2 id="налаштування-послідовного-порту" tabindex="-1">Налаштування послідовного порту <a class="header-anchor" href="#налаштування-послідовного-порту" aria-label="Permalink to &quot;Налаштування послідовного порту&quot;">​</a></h2><table tabindex="0"><thead><tr><th>UART</th><th>Пристрій</th><th>Порт</th></tr></thead><tbody><tr><td>USART1</td><td>/dev/ttyS0</td><td>SerialRX</td></tr><tr><td>USART4</td><td>/dev/ttyS1</td><td>TELEM1</td></tr><tr><td>USART6</td><td>/dev/ttyS2</td><td>GPS</td></tr></tbody></table><h2 id="rc-телеметрія" tabindex="-1">RC Телеметрія <a class="header-anchor" href="#rc-телеметрія" aria-label="Permalink to &quot;RC Телеметрія&quot;">​</a></h2><p>The Omnibus supports telemetry to the RC Transmitter using <a href="./../peripherals/frsky_telemetry.html">FrSky Telemetry</a> or <a href="#crsf_telemetry">CRSF Crossfire Telemetry</a>.</p><p><a id="crsf_telemetry"></a></p><h3 id="телеметрія-crsf-tbs-crossfire-telemetry" tabindex="-1">Телеметрія CRSF (TBS Crossfire Telemetry) <a class="header-anchor" href="#телеметрія-crsf-tbs-crossfire-telemetry" aria-label="Permalink to &quot;Телеметрія CRSF (TBS Crossfire Telemetry)&quot;">​</a></h3><p><a href="./../telemetry/crsf_telemetry.html">TBS CRSF Telemetry</a> may be used to send telemetry data from the flight controller (the vehicle&#39;s attitude, battery, flight mode and GPS data) to an RC transmitter such as a Taranis.</p><p>Benefits over <a href="./../peripherals/frsky_telemetry.html">FrSky telemetry</a> include:</p><ul><li>Лише один UART потрібен для RC та телеметрії.</li><li>Протокол CRSF оптимізований для низької затримки.</li><li>150 Гц частота оновлення RC.</li><li>Сигнали неінвертовані, тому не потрібна (зовнішня) логіка інвертора.</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If you use CRSF Telemetry you will need to build custom PX4 firmware. На відміну від цього, телеметрія FrSky може використовувати завчасно побудоване програмне забезпечення.</p></div><p>For Omnibus we recommend the <a href="http://team-blacksheep.com/products/prod:crossfire_nano_rx" target="_blank" rel="noreferrer">TBS Crossfire Nano RX</a>, since it is specifically designed for small Quads.</p><p>On the handheld controller (e.g. Taranis) you will also need a <a href="http://team-blacksheep.com/shop/cat:rc_transmitters#product_listing" target="_blank" rel="noreferrer">Transmitter Module</a>. Це можна підключити ззаду до пульта радіо керування.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The referenced links above contains the documentation for the TX/RX modules.</p></div><h4 id="установка" tabindex="-1">Установка <a class="header-anchor" href="#установка" aria-label="Permalink to &quot;Установка&quot;">​</a></h4><p>Підключіть контакти Nano RX та Omnibus, як показано:</p><table tabindex="0"><thead><tr><th>Omnibus UART1</th><th>Nano RX</th></tr></thead><tbody><tr><td>TX</td><td>Ch2</td></tr><tr><td>RX</td><td>Ch1</td></tr></tbody></table><p>Наступне оновіть модулі TX/RX для використання протоколу CRSF та налаштуйте телеметрію. Instructions for this are provided in the <a href="https://www.team-blacksheep.com/tbs-crossfire-manual.pdf" target="_blank" rel="noreferrer">TBS Crossfire Manual</a> (search for &#39;Setting up radio for CRSF&#39;).</p><h4 id="налаштування-crsf-px4" tabindex="-1">Налаштування CRSF PX4 <a class="header-anchor" href="#налаштування-crsf-px4" aria-label="Permalink to &quot;Налаштування CRSF PX4&quot;">​</a></h4><p>Вам потрібно буде створити власну прошивку, щоб використовувати CRSF. For more information see <a href="./../telemetry/crsf_telemetry.html#px4-configuration">CRSF Telemetry</a>.</p><h2 id="креслення" tabindex="-1">Креслення <a class="header-anchor" href="#креслення" aria-label="Permalink to &quot;Креслення&quot;">​</a></h2><p>The schematics are provided by <a href="https://myairbot.com/" target="_blank" rel="noreferrer">Airbot</a>: <a href="http://bit.ly/obf4pro" target="_blank" rel="noreferrer">OmnibusF4-Pro-Sch.pdf</a>.</p><p><a id="bootloader"></a></p><h2 id="оновлення-завантажувача-px4" tabindex="-1">Оновлення завантажувача PX4 <a class="header-anchor" href="#оновлення-завантажувача-px4" aria-label="Permalink to &quot;Оновлення завантажувача PX4&quot;">​</a></h2><p>The board comes pre-installed with <a href="https://github.com/betaflight/betaflight/wiki" target="_blank" rel="noreferrer">Betaflight</a>. Before PX4 firmware can be installed, the <em>PX4 bootloader</em> must be flashed. Download the <a href="https://github.com/PX4/PX4-user_guide/raw/main/assets/flight_controller/omnibus_f4_sd/omnibusf4sd_bl_d52b70cb39.hex" target="_blank" rel="noreferrer">omnibusf4sd_bl.hex</a> bootloader binary and read <a href="./../advanced_config/bootloader_update_from_betaflight.html">this page</a> for flashing instructions.</p><h2 id="збірка-прошивки" tabindex="-1">Збірка прошивки <a class="header-anchor" href="#збірка-прошивки" aria-label="Permalink to &quot;Збірка прошивки&quot;">​</a></h2><p>To <a href="./../dev_setup/building_px4.html">build PX4</a> for this target:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>make omnibus_f4sd_default</span></span></code></pre></div><h2 id="встановлення-прошивки-px4" tabindex="-1">Встановлення прошивки PX4 <a class="header-anchor" href="#встановлення-прошивки-px4" aria-label="Permalink to &quot;Встановлення прошивки PX4&quot;">​</a></h2><p>Ви можете використовувати або готове вбудоване програмне забезпечення, або власне користувацьке програмне забезпечення.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you use <a href="./../telemetry/crsf_telemetry.html#px4-configuration">CRSF Telemetry</a> in your radio system, as describe above, then you must use custom firmware.</p></div><p>Прошивку можна встановити будь-якими звичайними способами:</p><ul><li><p>Збудуйте та завантажте джерело</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>make omnibus_f4sd_default upload</span></span></code></pre></div></li><li><p><a href="./../config/firmware.html">Load the firmware</a> using <em>QGroundControl</em>.</p></li></ul><h2 id="налаштування" tabindex="-1">Налаштування <a class="header-anchor" href="#налаштування" aria-label="Permalink to &quot;Налаштування&quot;">​</a></h2><p>In addition to the <a href="./../config/">basic configuration</a>, the following parameters are important:</p><table tabindex="0"><thead><tr><th>Параметр</th><th>Налаштування</th></tr></thead><tbody><tr><td><a href="./../advanced_config/parameter_reference.html#SYS_HAS_MAG">SYS_HAS_MAG</a></td><td>Це має бути вимкнено, оскільки у платі немає внутрішнього магніту. Ви можете активувати це, якщо приєднаєте зовнішній магніт.</td></tr><tr><td><a href="./../advanced_config/parameter_reference.html#SYS_HAS_BARO">SYS_HAS_BARO</a></td><td>Вимкніть це, якщо ваша плата не має барометра.</td></tr></tbody></table><h2 id="додаткова-інформація" tabindex="-1">Додаткова інформація <a class="header-anchor" href="#додаткова-інформація" aria-label="Permalink to &quot;Додаткова інформація&quot;">​</a></h2><p><a href="https://blog.dronetrest.com/omnibus-f4-flight-controller-guide/" target="_blank" rel="noreferrer">This page</a> provides a good overview with pinouts and setup instructions.</p>',82)]))}const R=d(m,[["render",b]]);export{F as __pageData,R as default};
