import{_ as i,c as a,a8 as n,o as t}from"./chunks/framework.BDnHobkS.js";const o=JSON.parse('{"title":"Інтеграційне тестування за допомогою MAVSDK","description":"","frontmatter":{},"headers":[],"relativePath":"uk/test_and_ci/integration_testing_mavsdk.md","filePath":"uk/test_and_ci/integration_testing_mavsdk.md"}'),e={name:"uk/test_and_ci/integration_testing_mavsdk.md"};function l(h,s,p,k,r,F){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="інтеграціине-тестування-за-допомогою-mavsdk" tabindex="-1">Інтеграційне тестування за допомогою MAVSDK <a class="header-anchor" href="#інтеграціине-тестування-за-допомогою-mavsdk" aria-label="Permalink to &quot;Інтеграційне тестування за допомогою MAVSDK&quot;">​</a></h1><p>PX4 can be tested end to end to using integration tests based on <a href="https://mavsdk.mavlink.io" target="_blank" rel="noreferrer">MAVSDK</a>.</p><p>Тести в основному розробляються для SITL і запускаються в режимі безперервної інтеграції (CI). В майбутньому ми плануємо зробити їх універсальними для будь-якої платформи/обладнання.</p><p>Інструкції нижче пояснюють, як налаштувати та запустити тести локально.</p><h2 id="вимоги" tabindex="-1">Вимоги <a class="header-anchor" href="#вимоги" aria-label="Permalink to &quot;Вимоги&quot;">​</a></h2><h3 id="налаштування-середовища-розробника" tabindex="-1">Налаштування середовища розробника <a class="header-anchor" href="#налаштування-середовища-розробника" aria-label="Permalink to &quot;Налаштування середовища розробника&quot;">​</a></h3><p>Якщо ви цього ще не зробили:</p><ul><li><p>Install the development toolchain for <a href="./../dev_setup/dev_env_linux_ubuntu.html">Linux</a> or <a href="./../dev_setup/dev_env_mac.html">macOS</a> (Windows not supported). <a href="./../sim_gazebo_classic/">Gazebo Classic</a> is required, and should be installed by default.</p></li><li><p><a href="./../dev_setup/building_px4.html#download-the-px4-source-code">Get the PX4 source code</a>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/PX4/PX4-Autopilot.git</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4-Autopilot</span></span></code></pre></div></li></ul><h3 id="збірка-px4-для-тестування" tabindex="-1">Збірка PX4 для тестування <a class="header-anchor" href="#збірка-px4-для-тестування" aria-label="Permalink to &quot;Збірка PX4 для тестування&quot;">​</a></h3><p>Щоб зібрати вихідний код PX4 для тестування на симуляторі, скористайтеся:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DONT_RUN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_sitl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gazebo-classic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mavsdk_tests</span></span></code></pre></div><h3 id="встановлення-бібліотеки-c-mavsdk" tabindex="-1">Встановлення бібліотеки C++ MAVSDK <a class="header-anchor" href="#встановлення-бібліотеки-c-mavsdk" aria-label="Permalink to &quot;Встановлення бібліотеки C++ MAVSDK&quot;">​</a></h3><p>The tests need the MAVSDK C++ library installed system-wide (e.g. in <code>/usr/lib</code> or <code>/usr/local/lib</code>).</p><p>Встановлюйте або з бінарних файлів, або з джерела:</p><ul><li><a href="https://mavsdk.mavlink.io/main/en/cpp/quickstart.html" target="_blank" rel="noreferrer">MAVSDK &gt; C++ &gt; C++ QuickStart</a>: Install as a prebuilt library on supported platforms (recommended)</li><li><a href="https://mavsdk.mavlink.io/main/en/cpp/guide/build.html" target="_blank" rel="noreferrer">MAVSDK &gt; C++ Guide &gt; Building from Source</a>: Build C++ library from source.</li></ul><h2 id="запуск-усіх-px4-тестів" tabindex="-1">Запуск усіх PX4 тестів <a class="header-anchor" href="#запуск-усіх-px4-тестів" aria-label="Permalink to &quot;Запуск усіх PX4 тестів&quot;">​</a></h2><p>To run all SITL tests as defined in <a href="https://github.com/PX4/PX4-Autopilot/blob/main/test/mavsdk_tests/configs/sitl.json" target="_blank" rel="noreferrer">sitl.json</a>, do:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test/mavsdk_tests/mavsdk_test_runner.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test/mavsdk_tests/configs/sitl.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --speed-factor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span></span></code></pre></div><p>Буде перелічено всі тести, а потім запущено їх послідовно.</p><p>To see all possible command line arguments use the <code>-h</code> argument:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test/mavsdk_tests/mavsdk_test_runner.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usage:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mavsdk_test_runner.py</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-h] [--log-dir LOG_DIR] [--speed-factor SPEED_FACTOR] [--iterations ITERATIONS] [--abort-early] [--gui] [--model MODEL]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                             [--case CASE] [--debugger DEBUGGER] [--verbose]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                             config_file</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">positional</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arguments:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  config_file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           JSON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">optional</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> arguments:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -h,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> message</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exit</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --log-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LOG_DIR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> files</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --speed-factor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SPEED_FACTOR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                        how</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fast</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simulation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --iterations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ITERATIONS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                        how</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> often</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --abort-early</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         abort</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> first</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unsuccessful</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --gui</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 display</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> visualization</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simulation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MODEL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         only</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> model</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CASE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           only</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tests</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> one</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> case</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --debugger</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DEBUGGER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   choice</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> valgrind,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> callgrind,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gdb,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lldb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --verbose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> more</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> verbose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> output</span></span></code></pre></div><h2 id="запуск-одного-тесту" tabindex="-1">Запуск одного тесту <a class="header-anchor" href="#запуск-одного-тесту" aria-label="Permalink to &quot;Запуск одного тесту&quot;">​</a></h2><p>Run a single test by specifying the <code>model</code> and test <code>case</code> as command line options. Наприклад, щоб протестувати керування хвостовиком у місії, ви можете виконати:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test/mavsdk_tests/mavsdk_test_runner.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test/mavsdk_tests/configs/sitl.json</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --speed-factor</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --model</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tailsitter</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly VTOL mission&#39;</span></span></code></pre></div><p>The easiest way to find out the current set of models and their associated test cases is to run all PX4 tests <a href="#run-all-px4-tests">as shown above</a> (note, you can then cancel the build if you wish to test just one).</p><p>На момент написання статті список, згенерований в результаті запуску всіх тестів, є таким:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">About</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 39</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cases</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> selected</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> models</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (1 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">iteration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> iris:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Land on GPS lost during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Land on GPS lost during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on mag lost during mission&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro lost during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro lost during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro stuck during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro stuck during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Takeoff and Land&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly square Multicopter Missions including RTL&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly square Multicopter Missions with manual RTL&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly straight Multicopter Mission&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Offboard takeoff and land&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Offboard position control&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly forward in position control&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly forward in altitude control&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> standard_vtol:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Land on GPS lost during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Land on GPS lost during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on mag lost during mission&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro lost during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro lost during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro stuck during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro stuck during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Takeoff and Land&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly square Multicopter Missions including RTL&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly square Multicopter Missions with manual RTL&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly forward in position control&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly forward in altitude control&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tailsitter:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Land on GPS lost during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Land on GPS lost during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on mag lost during mission&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro lost during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro lost during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro stuck during mission (baro height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Continue on baro stuck during mission (GPS height mode)&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Takeoff and Land&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly square Multicopter Missions including RTL&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly square Multicopter Missions with manual RTL&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly forward in position control&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Fly forward in altitude control&#39;</span></span></code></pre></div><h2 id="примітки-щодо-реалізаціи" tabindex="-1">Примітки щодо реалізацій: <a class="header-anchor" href="#примітки-щодо-реалізаціи" aria-label="Permalink to &quot;Примітки щодо реалізацій:&quot;">​</a></h2><ul><li><p>The tests are invoked from the test runner script <a href="https://github.com/PX4/PX4-Autopilot/blob/main/test/mavsdk_tests/mavsdk_test_runner.py" target="_blank" rel="noreferrer">mavsdk_test_runner.py</a>, which is written in Python.</p><p>In addition to MAVSDK, this runner starts <code>px4</code> as well as Gazebo for SITL tests, and collects the logs of these processes.</p></li><li><p>Модуль виконання тесту - це бінарний файл на мові C++, який містить:</p><ul><li>The <a href="https://github.com/PX4/PX4-Autopilot/blob/main/test/mavsdk_tests/test_main.cpp" target="_blank" rel="noreferrer">main</a> function to parse the arguments.</li><li>An abstraction around MAVSDK called <a href="https://github.com/PX4/PX4-Autopilot/blob/main/test/mavsdk_tests/autopilot_tester.h" target="_blank" rel="noreferrer">autopilot_tester</a>.</li><li>The actual tests using the abstraction around MAVSDK as e.g. <a href="https://github.com/PX4/PX4-Autopilot/blob/main/test/mavsdk_tests/test_multicopter_mission.cpp" target="_blank" rel="noreferrer">test_multicopter_mission.cpp</a>.</li><li>The tests use the <a href="https://github.com/catchorg/Catch2" target="_blank" rel="noreferrer">catch2</a> unit testing framework. Причини використання цього фреймворку наступні: <ul><li>Asserts (<code>REQUIRE</code>) which are needed to abort a test can be inside of functions (and not just in the top level test as is <a href="https://github.com/google/googletest/blob/main/docs/advanced.md#assertion-placement" target="_blank" rel="noreferrer">the case with gtest</a>).</li><li>Dependency management is easier because <em>catch2</em> can just be included as a header-only library.</li><li><em>Catch2</em> supports <a href="https://github.com/catchorg/Catch2/blob/devel/docs/test-cases-and-sections.md#tags" target="_blank" rel="noreferrer">tags</a>, which allows for flexible composition of tests.</li></ul></li></ul></li></ul><p>Терміни:</p><ul><li>&quot;model&quot;: This is the selected Gazebo model, e.g. <code>iris</code>.</li><li>&quot;test case&quot;: This is a <a href="https://github.com/catchorg/Catch2/blob/master/docs/test-cases-and-sections.md" target="_blank" rel="noreferrer">catch2 test case</a>.</li></ul>`,31)]))}const g=i(e,[["render",l]]);export{o as __pageData,g as default};
