import{_ as i}from"./chunks/bootloader_update.Xd2jMk9_.js";import{_ as s}from"./chunks/bootloader_fmu_v3_update.CJAgyzEt.js";import{_ as e,c as t,a8 as l,o}from"./chunks/framework.BDnHobkS.js";const b=JSON.parse('{"title":"Bootloader Update","description":"","frontmatter":{},"headers":[],"relativePath":"en/advanced_config/bootloader_update.md","filePath":"en/advanced_config/bootloader_update.md"}'),n={name:"en/advanced_config/bootloader_update.md"};function h(r,a,p,d,k,F){return o(),t("div",null,a[0]||(a[0]=[l(`<h1 id="bootloader-update" tabindex="-1">Bootloader Update <a class="header-anchor" href="#bootloader-update" aria-label="Permalink to &quot;Bootloader Update&quot;">​</a></h1><p>The <em>PX4 Bootloader</em> is used to load firmware for <a href="./../flight_controller/pixhawk_series.html">Pixhawk boards</a> (PX4FMU, PX4IO).</p><p>Pixhawk controllers usually comes with an appropriate bootloader version pre-installed. However in some cases it is not present, or an older version is present that needs to be updated, or the board has been bricked and needs to be erased and the bootloader reinstalled.</p><p>This topic explains how to build the PX4 bootloader, and several methods for flashing it to a board.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><ul><li>Most boards will need to use the <a href="#debug-probe-bootloader-update">Debug Probe</a> to update the bootloader.</li><li>On <a href="./../flight_controller/pixhawk6x-rt.html">FMUv6X-RT</a> you can <a href="./bootloader_update_v6xrt.html">install bootloader/unbrick boards via USB</a>. This is useful if you don&#39;t have a debug probe.</li><li>On FMUv2 and some custom firmware (only) you can use <a href="#qgc-bootloader-update">QGC Bootloader Update</a>.</li></ul></div><h2 id="building-the-px4-bootloader" tabindex="-1">Building the PX4 Bootloader <a class="header-anchor" href="#building-the-px4-bootloader" aria-label="Permalink to &quot;Building the PX4 Bootloader&quot;">​</a></h2><h3 id="px4-bootloader-fmuv6x-and-later" tabindex="-1">PX4 Bootloader FMUv6X and later <a class="header-anchor" href="#px4-bootloader-fmuv6x-and-later" aria-label="Permalink to &quot;PX4 Bootloader FMUv6X and later&quot;">​</a></h3><p>Boards starting with FMUv6X (STM32H7) use the in-tree PX4 bootloader.</p><p>This can be built from within the <a href="https://github.com/PX4/PX4-Autopilot" target="_blank" rel="noreferrer">PX4-Autopilot</a> directory using the <code>make</code> command and the board-specific target with a <code>_bootloader</code> suffix.</p><p>For FMUv6X the command is:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6x_bootloader</span></span></code></pre></div><p>This will build the bootloader binary as <code>build/px4_fmu-v6x_bootloader/px4_fmu-v6x_bootloader.elf</code>, which can be flashed via SWD or DFU. If you are building the bootloader you should be familiar with one of these options already.</p><p>If you need a HEX file instead of an ELF file, use objcopy:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-objcopy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ihex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/px4_fmu-v6x_bootloader/px4_fmu-v6x_bootloader.elf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6x_bootloader.hex</span></span></code></pre></div><h3 id="px4-bootloader-fmuv5x-and-earlier" tabindex="-1">PX4 Bootloader FMUv5X and earlier <a class="header-anchor" href="#px4-bootloader-fmuv5x-and-earlier" aria-label="Permalink to &quot;PX4 Bootloader FMUv5X and earlier&quot;">​</a></h3><p>PX4 boards up to FMUv5X (before STM32H7) used the <a href="https://github.com/PX4/Bootloader" target="_blank" rel="noreferrer">PX4 bootloader</a> repository.</p><p>The instructions in the repo README explain how to use it.</p><h2 id="debug-probe-bootloader-update" tabindex="-1">Debug Probe Bootloader Update <a class="header-anchor" href="#debug-probe-bootloader-update" aria-label="Permalink to &quot;Debug Probe Bootloader Update&quot;">​</a></h2><p>The following steps explain how you can &quot;manually&quot; update the bootloader using a <a href="./../debug/swd_debug.html#debug-probes-for-px4-hardware">compatible Debug Probe</a>:</p><ol><li><p>Get a binary containing the bootloader (either from dev team or <a href="#building-the-px4-bootloader">build it yourself</a>).</p></li><li><p>Get a <a href="./../debug/swd_debug.html#debug-probes-for-px4-hardware">Debug Probe</a>. Connect the probe your PC via USB and setup the <code>gdbserver</code>.</p></li><li><p>Go into the directory containing the binary and run the command for your target bootloader in the terminal:</p><ul><li><p>FMUv6X</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6x_bootloader.elf</span></span></code></pre></div></li><li><p>FMUv6X-RT</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6xrt_bootloader.elf</span></span></code></pre></div></li><li><p>FMUv5</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-gdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4fmuv5_bl.elf</span></span></code></pre></div></li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>H7 Bootloaders from <a href="https://github.com/PX4/PX4-Autopilot" target="_blank" rel="noreferrer">PX4/PX4-Autopilot</a> are named with pattern <code>*._bootloader.elf</code>. Bootloaders from <a href="https://github.com/PX4/PX4-Bootloader" target="_blank" rel="noreferrer">PX4/PX4-Bootloader</a> are named with the pattern <code>*_bl.elf</code>.</p></div></li><li><p>The <em>gdb terminal</em> appears and it should display the following output:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (GNU </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Tools</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Arm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Embedded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Processors</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 7-2017-q4-major</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 8.0.50.20171128-git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Copyright</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (C) 2017 Free Software Foundation, Inc.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">License</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GPLv3+:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GNU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GPL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> later</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://gnu.org/licenses/gpl.htm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">This</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> free</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> software:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> free</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> change</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redistribute</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">There</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> WARRANTY,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> permitted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> law.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;show copying&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;show warranty&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> details.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">This</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> was</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;--host=x86_64-linux-gnu --target=arm-none-eabi&quot;.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;show configuration&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> details.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bug</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> instructions,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> please</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> see:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http://www.gnu.org/software/gdb/bugs/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Find</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GDB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> other</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> documentation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resources</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> online</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> at:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http://www.gnu.org/software/gdb/documentation/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">For</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;help&quot;.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;apropos word&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> search</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commands</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> related</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;word&quot;...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Reading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> symbols</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4fmuv5_bl.elf...done.</span></span></code></pre></div></li><li><p>Find your <code>&lt;dronecode-probe-id&gt;</code> by running an <code>ls</code> command in the <strong>/dev/serial/by-id</strong> directory.</p></li><li><p>Now connect to the debug probe with the following command:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ext</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/serial/by-id/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dronecode-probe-i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div></li><li><p>Power on the Pixhawk with another USB cable and connect the probe to the <code>FMU-DEBUG</code> port.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If using a Dronecode probe you may need to remove the case in order to connect to the <code>FMU-DEBUG</code> port (e.g. on Pixhawk 4 you would do this using a T6 Torx screwdriver).</p></div></li><li><p>Use the following command to scan for the Pixhawk\`s SWD and connect to it:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swdp_scan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">attach</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div></li><li><p>Load the binary into the Pixhawk:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gdb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">load</span></span></code></pre></div></li></ol><p>After the bootloader has updated you can <a href="./../config/firmware.html">Load PX4 Firmware</a> using <em>QGroundControl</em>.</p><h2 id="qgc-bootloader-update" tabindex="-1">QGC Bootloader Update <a class="header-anchor" href="#qgc-bootloader-update" aria-label="Permalink to &quot;QGC Bootloader Update&quot;">​</a></h2><p>The easiest approach is to first use <em>QGroundControl</em> to install firmware that contains the desired/latest bootloader. You can then initiate bootloader update on next restart by setting the parameter: <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a>.</p><p>This approach can only be used if <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a> is present in firmware.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Currently only FMUv2 and some custom firmware includes the desired bootloader.</p></div><p>The steps are:</p><ol><li><p>Insert an SD card (enables boot logging to debug any problems).</p></li><li><p><a href="./../config/firmware.html#custom">Update the Firmware</a> with an image containing the new/desired bootloader.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The updated bootloader might be supplied in custom firmware (i.e. from the dev team), or it or may be included in the latest main branch.</p></div></li><li><p>Wait for the vehicle to reboot.</p></li><li><p><a href="./../advanced_config/parameters.html">Find and enable</a> the parameter <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a>.</p></li><li><p>Reboot (disconnect/reconnect the board). The bootloader update will only take a few seconds.</p></li></ol><p>Generally at this point you may then want to <a href="./../config/firmware.html">update the firmware</a> again using the correct/newly installed bootloader.</p><p>An specific example of this process for updating the FMUv2 bootloader is given below.</p><h3 id="fmuv2-bootloader-update" tabindex="-1">FMUv2 Bootloader Update <a class="header-anchor" href="#fmuv2-bootloader-update" aria-label="Permalink to &quot;FMUv2 Bootloader Update&quot;">​</a></h3><p>If <em>QGroundControl</em> installs the FMUv2 target (see console during installation), and you have a newer board, you may need to update the bootloader in order to access all the memory on your flight controller.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Early FMUv2 <a href="./../flight_controller/pixhawk_series.html#fmu_versions">Pixhawk-series</a> flight controllers had a <a href="./../flight_controller/silicon_errata.html#fmuv2-pixhawk-silicon-errata">hardware issue</a> that restricted them to using 1MB of flash memory. The problem is fixed on newer boards, but you may need to update the factory-provided bootloader in order to install FMUv3 Firmware and access all 2MB available memory.</p></div><p>To update the bootloader:</p><ol><li><p>Insert an SD card (enables boot logging to debug any problems).</p></li><li><p><a href="./../config/firmware.html">Update the Firmware</a> to PX4 <em>master</em> version (when updating the firmware, check <strong>Advanced settings</strong> and then select <strong>Developer Build (master)</strong> from the dropdown list). <em>QGroundControl</em> will automatically detect that the hardware supports FMUv2 and install the appropriate Firmware.</p><p><img src="`+i+'" alt="FMUv2 update"></p><p>Wait for the vehicle to reboot.</p></li><li><p><a href="./../advanced_config/parameters.html">Find and enable</a> the parameter <a href="./../advanced_config/parameter_reference.html#SYS_BL_UPDATE">SYS_BL_UPDATE</a>.</p></li><li><p>Reboot (disconnect/reconnect the board). The bootloader update will only take a few seconds.</p></li><li><p>Then <a href="./../config/firmware.html">Update the Firmware</a> again. This time <em>QGroundControl</em> should autodetect the hardware as FMUv3 and update the Firmware appropriately.</p><p><img src="'+s+'" alt="FMUv3 update"></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>If the hardware has the <a href="./../flight_controller/silicon_errata.html#fmuv2-pixhawk-silicon-errata">Silicon Errata</a> it will still be detected as FMUv2 and you will see that FMUv2 was re-installed (in console). In this case you will not be able to install FMUv3 hardware.</p></div></li></ol><h2 id="other-boards-non-pixhawk" tabindex="-1">Other Boards (Non-Pixhawk) <a class="header-anchor" href="#other-boards-non-pixhawk" aria-label="Permalink to &quot;Other Boards (Non-Pixhawk)&quot;">​</a></h2><p>Boards that are not part of the <a href="./../flight_controller/pixhawk_series.html">Pixhawk Series</a> will have their own mechanisms for bootloader update.</p><p>For boards that are preflashed with Betaflight, see <a href="./bootloader_update_from_betaflight.html">Bootloader Flashing onto Betaflight Systems</a>.</p>',37)]))}const m=e(n,[["render",h]]);export{b as __pageData,m as default};
