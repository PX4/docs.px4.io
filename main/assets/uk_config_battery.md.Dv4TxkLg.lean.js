import{_ as t}from"./chunks/qgc_setup_power_px4.DDZ0BUEo.js";import{_ as a,c as i,a8 as o,o as r}from"./chunks/framework.BDnHobkS.js";const b=JSON.parse('{"title":"Налаштування оцінки батареї (Налаштування енергії)","description":"","frontmatter":{},"headers":[],"relativePath":"uk/config/battery.md","filePath":"uk/config/battery.md"}'),l={name:"uk/config/battery.md"};function s(n,e,c,d,h,p){return r(),i("div",null,e[0]||(e[0]=[o('<h1 id="налаштування-оцінки-батареі-налаштування-енергіі" tabindex="-1">Налаштування оцінки батареї (Налаштування енергії) <a class="header-anchor" href="#налаштування-оцінки-батареі-налаштування-енергіі" aria-label="Permalink to &quot;Налаштування оцінки батареї (Налаштування енергії)&quot;">​</a></h1><p>Ця тема пояснює, як налаштувати параметри живлення так, щоб PX4 міг оцінити наявну ємність акумулятора.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>These instructions require that the vehicle has a <a href="./../power_module/">Power Module (PM)</a>, or other hardware that can measure the battery voltage and (optionally) the current.</p><p>This tuning is not needed for <a href="./../smart_batteries/">Smart/MAVLink Batteries</a>.</p></div><h2 id="загальнии-огляд" tabindex="-1">Загальний огляд <a class="header-anchor" href="#загальнии-огляд" aria-label="Permalink to &quot;Загальний огляд&quot;">​</a></h2><p>Налаштування оцінки батареї використовує виміряну напругу та силу струму (якщо доступно) для оцінки залишкової ємності батареї. Це важливо, оскільки це дозволяє PX4 діяти, коли транспортний засіб майже розряджений і збирається врізатися (а також запобігає пошкодженню акумулятора внаслідок глибокого розряду).</p><p>PX4 надає ряд (поступово більш ефективних) методів, які можна використовувати для оцінки місткості:</p><ol><li><a href="#basic_settings">Basic Battery Settings</a> (default): raw measured voltage is compared to the range between &quot;empty&quot; and &quot;full&quot; voltages. Це призводить до грубих оцінок, оскільки виміряна напруга (і відповідна ємність) буде коливатися під навантаженням.</li><li><a href="#load_compensation">Voltage-based Estimation with Load Compensation</a>: Counteracts the effects of loading on the capacity calculation.</li><li><a href="#current_integration">Voltage-based Estimation with Current Integration</a>: Fuses the load-compensated voltage-based estimate for the available capacity with a current-based estimate of the charge that has been consumed. Це призводить до оцінки потужності, яка є порівнянною з потужністю розумної батареї.</li></ol><p>Пізніші методи ґрунтуються на попередніх методах. Підхід, який ви використовуєте, буде залежати від того, чи може блок живлення автомобіля вимірювати струм.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The instructions below refer to battery 1 calibration parameters: <code>BAT1_*</code>. Other batteries use the <code>BATx_*</code> parameters, where <code>x</code> is the battery number. All battery calibration parameters <a href="./../advanced_config/parameter_reference.html#battery-calibration">are listed here</a>.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>In addition to PX4 configuration discussed here, you should ensure that the ESC&#39;s low voltage cutoff is either disabled or set below the expected minimum voltage. Це забезпечує, що поведінка аварійного відключення батареї керується PX4, і регулятори швидкості не відключатимуться, поки батарея все ще має заряд (згідно з налаштуванням &quot;порожньої батареї&quot;, яке ви обрали).</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="#battery-chemistry-comparison">Battery-Type Comparison</a> below explains the difference between the main battery types, and how that impacts the battery settings.</p></div><p><a id="basic_settings"></a></p><h2 id="основні-налаштування-батареі-за-замовчуванням" tabindex="-1">Основні налаштування батареї (за замовчуванням) <a class="header-anchor" href="#основні-налаштування-батареі-за-замовчуванням" aria-label="Permalink to &quot;Основні налаштування батареї (за замовчуванням)&quot;">​</a></h2><p>Основні налаштування батареї налаштовують PX4 на використання типового методу для оцінки ємності. Цей метод порівнює виміряну сирову напругу акумулятора з діапазоном між напругами акумуляторів для &quot;порожніх&quot; та &quot;повних&quot; акумуляторів (масштабований за кількістю акумуляторів).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This approach results in relatively coarse estimations due to fluctuations in the estimated charge as the measured voltage changes under load.</p></div><p>Для налаштування основних параметрів для акумулятора 1:</p><ol><li>Start <em>QGroundControl</em> and connect the vehicle.</li><li>Select <strong>&quot;Q&quot; icon &gt; Vehicle Setup &gt; Power</strong> (sidebar) to open <em>Power Setup</em>.</li></ol><p>Вам пропонується базові налаштування, які характеризують акумулятор. Розділи нижче пояснюють, які значення встановити для кожного поля.</p><p><img src="'+t+'" alt="QGC Power Setup"></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>At time of writing <em>QGroundControl</em> only allows you to set values for battery 1 in this view. For vehicles with multiple batteries you&#39;ll need to directly <a href="./../advanced_config/parameters.html">set the parameters</a> for battery 2 (<code>BAT2_*</code>), as described in the following sections.</p></div><h3 id="кількість-елементів-в-серіі" tabindex="-1">Кількість елементів (в серії) <a class="header-anchor" href="#кількість-елементів-в-серіі" aria-label="Permalink to &quot;Кількість елементів (в серії)&quot;">​</a></h3><p>Це встановлює кількість акумуляторів, які з&#39;єднані послідовно в батареї. Зазвичай це буде записано на батареї у вигляді числа, за яким слідує &quot;S&quot; (наприклад, &quot;3S&quot;, &quot;5S&quot;).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The voltage across a single galvanic battery cell is dependent on the chemical properties of the battery type. Lithium-Polymer (LiPo) batteries and Lithium-Ion batteries both have the same <em>nominal</em> cell voltage of 3.7V. In order to achieve higher voltages (which will more efficiently power a vehicle), multiple cells are connected in <em>series</em>. Напруга батареї на зажимах потім є кратною напрузі акумуляторної клітини.</p></div><p>Якщо кількість акумуляторних елементів не вказана, ви можете розрахувати її, поділивши напругу батареї на номінальну напругу для одного елемента. Таблиця нижче показує відношення напруги до акумуляторів:</p><table tabindex="0"><thead><tr><th>Cells</th><th>LiPo (V)</th><th>LiIon (V)</th></tr></thead><tbody><tr><td>1S</td><td>3.7</td><td>3.7</td></tr><tr><td>2S</td><td>7.4</td><td>7.4</td></tr><tr><td>3S</td><td>11.1</td><td>11.1</td></tr><tr><td>4S</td><td>14.8</td><td>14.8</td></tr><tr><td>5S</td><td>18.5</td><td>18.5</td></tr><tr><td>6S</td><td>22.2</td><td>22.2</td></tr></tbody></table><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This setting corresponds to <a href="./../advanced_config/parameters.html">parameters</a>: <a href="./../advanced_config/parameter_reference.html#BAT1_N_CELLS">BAT1_N_CELLS</a> and <a href="./../advanced_config/parameter_reference.html#BAT2_N_CELLS">BAT2_N_CELLS</a>.</p></div><h3 id="повнии-напруга-на-одну-клітину" tabindex="-1">Повний напруга (на одну клітину) <a class="header-anchor" href="#повнии-напруга-на-одну-клітину" aria-label="Permalink to &quot;Повний напруга (на одну клітину)&quot;">​</a></h3><p>This sets the <em>nominal</em> maximum voltage of each cell (the lowest voltage at which the cell will be considered &quot;full&quot;).</p><p>Значення повинно бути трохи нижче номінальної максимальної напруги акумулятора, але не так низько, щоб оцінювана ємність все ще була 100% після кількох хвилин польоту.</p><p>Відповідні значення для використання:</p><ul><li><strong>LiPo:</strong> 4.05V (default in <em>QGroundControl</em>)</li><li><strong>LiIon:</strong> 4.05V</li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The voltage of a full battery may drop a small amount over time after charging. Встановлення значення трохи нижче максимального компенсує це зниження.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This setting corresponds to <a href="./../advanced_config/parameters.html">parameters</a>: <a href="./../advanced_config/parameter_reference.html#BAT1_V_CHARGED">BAT1_V_CHARGED</a> and <a href="./../advanced_config/parameter_reference.html#BAT2_V_CHARGED">BAT2_V_CHARGED</a>.</p></div><h3 id="порожніи-напруга-на-одну-клітину" tabindex="-1">Порожній напруга (на одну клітину) <a class="header-anchor" href="#порожніи-напруга-на-одну-клітину" aria-label="Permalink to &quot;Порожній напруга (на одну клітину)&quot;">​</a></h3><p>Це встановлює номінальну мінімально безпечну напругу кожної клітини (використання напруги нижче цієї може пошкодити батарею).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>There is no single value at which a battery is said to be empty. Якщо ви виберете занадто низьке значення, акумулятор може бути пошкоджений через глибоке розряджання (і/або транспортний засіб може зазнати аварії). Якщо ви виберете значення, яке є занадто високим, ви можете непотрібно обмежити свій політ.</p></div><p>Правило великого пальця для мінімальних напруг на одну клітину:</p><table tabindex="0"><thead><tr><th>Рівень</th><th>LiPo (V)</th><th>LiIon (V)</th></tr></thead><tbody><tr><td>Консервативний (напруга без навантаження)</td><td>3.7</td><td>3</td></tr><tr><td>&quot;Реальний&quot; мінімум (напруга під навантаженням/під час польоту)</td><td>3.5</td><td>2.7</td></tr><tr><td>Пошкодження акумулятора (напруга під навантаженням)</td><td>3.0</td><td>2.5</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Below the conservative range, the sooner you recharge the battery the better - it will last longer and lose capacity slower.</p></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This setting corresponds to <a href="./../advanced_config/parameters.html">parameter</a>: <a href="./../advanced_config/parameter_reference.html#BAT1_V_EMPTY">BAT1_V_EMPTY</a> and <a href="./../advanced_config/parameter_reference.html#BAT2_V_EMPTY">BAT2_V_EMPTY</a>.</p></div><h3 id="роздільник-напруги" tabindex="-1">Роздільник напруги <a class="header-anchor" href="#роздільник-напруги" aria-label="Permalink to &quot;Роздільник напруги&quot;">​</a></h3><p>Якщо у вас є транспортний засіб, який вимірює напругу через модуль живлення та ADC плати керування польотом, то ви повинні перевірити та калібрувати вимірювання один раз на дошці. Для калібрування вам знадобиться мультиметр.</p><p>The easiest way to calibrate the divider is by using <em>QGroundControl</em> and following the step-by-step guide on <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/setup_view/power.html" target="_blank" rel="noreferrer">Setup &gt; Power Setup</a> (QGroundControl User Guide).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This setting corresponds to parameters: <a href="./../advanced_config/parameter_reference.html#BAT1_V_DIV">BAT1_V_DIV</a> and <a href="./../advanced_config/parameter_reference.html#BAT2_V_DIV">BAT2_V_DIV</a>.</p></div><p><a id="current_divider"></a></p><h3 id="ампери-на-вольт" tabindex="-1">Ампери на вольт <a class="header-anchor" href="#ампери-на-вольт" aria-label="Permalink to &quot;Ампери на вольт&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This setting is not needed if you are using the basic configuration (without load compensation etc.)</p></div><p>If you are using <a href="#load_compensation">Load Compensation</a> or <a href="#current_integration">Current Integration</a> the amps per volt divider must be calibrated.</p><p>The easiest way to calibrate the dividers is by using <em>QGroundControl</em> and following the step-by-step guide on <a href="https://docs.qgroundcontrol.com/master/en/qgc-user-guide/setup_view/power.html" target="_blank" rel="noreferrer">Setup &gt; Power Setup</a> (QGroundControl User Guide).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This setting corresponds to parameter(s): <a href="./../advanced_config/parameter_reference.html#BAT1_A_PER_V">BAT1_A_PER_V</a> and <a href="./../advanced_config/parameter_reference.html#BAT2_A_PER_V">BAT2_A_PER_V</a>.</p></div><p><a id="load_compensation"></a></p><h2 id="оцінка-на-основі-напруги-з-компенсацією-навантаження" tabindex="-1">Оцінка на основі напруги з компенсацією навантаження <a class="header-anchor" href="#оцінка-на-основі-напруги-з-компенсацією-навантаження" aria-label="Permalink to &quot;Оцінка на основі напруги з компенсацією навантаження&quot;">​</a></h2><p>With well configured load compensation, the voltage used for battery capacity estimation is much more stable, varying far less when flying up and down.</p><p>PX4 implements a current-based load compensation that uses a real-time estimate of the internal resistance of the battery. When a current flows through a battery, the internal resistance causes a voltage drop, reducing the output voltage (measured voltage) of the battery compared to its open-circuit voltage (no-load voltage). By estimating the internal resistance, the fluctuation in measured voltage under load that occurs when using the <a href="#basic_settings">basic configuration</a> can be compensated. This leads to a much more accurate estimation of the remaining capacity.</p><p>To use the load compensation you will still need to set the <a href="#basic_settings">basic configuration</a>. The <em>Empty Voltage</em> (<a href="./../advanced_config/parameter_reference.html#BAT1_V_EMPTY">BATn_V_EMPTY</a>, where <code>n</code> is the battery number) should be set higher (than without compensation) because the compensated voltage gets used for the estimation (typically set a bit below the expected rest cell voltage when empty after use). You should also calibrate the <a href="#current_divider">Amps per volt divider</a> in the basic settings screen.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Alternatively, the value for the internal resistance can be <a href="./../advanced_config/parameters.html">set manually</a> using <a href="./../advanced_config/parameter_reference.html#BAT1_R_INTERNAL">BAT1_R_INTERNAL</a> (advanced). A positive value in this parameter will be used for the internal resistance instead of the estimated value. There are LiPo chargers that can measure the internal resistance of your battery. A typical value for LiPo batteries is 5mΩ per cell but this can vary with discharge current rating, age and health of the cells.</p><p>By default <code>BAT1_R_INTERNAL</code> is set to <code>-1</code> which enables the estimation algorithm. Setting it to <code>0</code> disables load compensation.</p></div><p><a id="current_integration"></a></p><h2 id="оцінка-на-основі-напруги-поєднана-з-інтегруванням-струму" tabindex="-1">Оцінка на основі напруги, поєднана з інтегруванням струму <a class="header-anchor" href="#оцінка-на-основі-напруги-поєднана-з-інтегруванням-струму" aria-label="Permalink to &quot;Оцінка на основі напруги, поєднана з інтегруванням струму&quot;">​</a></h2><p>This method is the most accurate way to measure relative battery consumption. Якщо все налаштовано правильно з здоровою та свіжою зарядженою батареєю при кожному запуску, тоді якість оцінки буде порівнянною з тим, що від розумної батареї (і теоретично дозволить точну оцінку залишкового часу польоту).</p><p>The method evaluates the remaining battery capacity by <em>fusing</em> the voltage-based estimate for the available capacity with a current-based estimate of the charge that has been consumed. Для цього потрібне обладнання, яке може точно вимірювати поточний стан.</p><p>Щоб увімкнути цю функцію:</p><ol><li><p>First set up accurate voltage estimation using <a href="#load_compensation">load compensation</a>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Including calibrating the <a href="#current_divider">Amps per volt divider</a> setting.</p></div></li></ol><p>:::</p><ol start="2"><li><p>Set the parameter <a href="./../advanced_config/parameter_reference.html#BAT1_CAPACITY">BAT1_CAPACITY</a> to around 90% of the advertised battery capacity (usually printed on the battery label).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Do not set this value too high as this may result in a poor estimation or sudden drops in estimated capacity.</p></div></li></ol><p>:::</p><hr><p><strong>Additional information</strong></p><p>Оцінка заряду, який був використаний протягом часу, формується математичним інтегруванням виміряного струму (цей підхід забезпечує дуже точні оцінки споживання енергії).</p><p>При запуску системи PX4 спочатку використовує оцінку на основі напруги для визначення початкового заряду батареї. Далі цю оцінку поєднується зі значенням з поточної інтеграції, щоб надати поєднану кращу оцінку. Відносна вартість, яку відводиться кожній оцінці в отриманому об&#39;єднаному результаті, залежить від стану акумулятора. Чим порожніша батарея, тим більше напругової оцінки зливається. Це запобігає глибокому розряду (наприклад, через те, що воно було налаштовано з неправильною ємністю або початкове значення було неправильним).</p><p>Якщо ви завжди починаєте з здоровою повною батареєю, цей підхід схожий на той, який використовується смарт-батареєю.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Current integration cannot be used on its own (without voltage-based estimation) because it has no way to determine the <em>initial</em> capacity. Оцінка напруги дозволяє оцінити початкову ємність і надає постійний зворотний зв&#39;язок щодо можливих помилок (наприклад, якщо акумулятор несправний або якщо є неспівпадіння між ємністю, розрахованою за допомогою різних методів).</p></div><h2 id="порівняння-хіміі-батареі" tabindex="-1">Порівняння хімії батареї <a class="header-anchor" href="#порівняння-хіміі-батареі" aria-label="Permalink to &quot;Порівняння хімії батареї&quot;">​</a></h2><p>Цей розділ надає порівняльний огляд кількох різних типів акумуляторів (зокрема LiPo та Li-Ion).</p><h3 id="загальнии-огляд-1" tabindex="-1">Загальний огляд <a class="header-anchor" href="#загальнии-огляд-1" aria-label="Permalink to &quot;Загальний огляд&quot;">​</a></h3><ul><li>Акумулятори Li-Ion мають вищу щільність енергії, ніж пакети акумуляторів Lipo, але це відбувається за рахунок нижчих швидкостей розряду та збільшення вартості акумулятора.</li><li>Акумулятори LiPo легко доступні і можуть витримати вищі розрядні струми, які є типовими для мультироторних літальних апаратів.</li><li>Вибір потрібно здійснювати на основі транспортного засобу та місії, яку виконують. Якщо абсолютна витривалість є метою, то є більше користі від переходу на літій-іонний акумулятор, але, так само, потрібно бути обережним. Отже, рішення повинно бути прийняте на підставі факторів, що оточують польот.</li></ul><h3 id="переваги" tabindex="-1">Переваги <a class="header-anchor" href="#переваги" aria-label="Permalink to &quot;Переваги&quot;">​</a></h3><p>LiPo</p><ul><li>Дуже поширене</li><li>Широкий асортимент розмірів, ємностей та напруг</li><li>Недорогий</li><li>Високі розрядні ставки відносно ємності (високі рейтинги C)</li><li>Вищі показники заряду</li></ul><p>Li-Ion</p><ul><li>Набагато вища енергетична щільність (до 60% вище)</li></ul><h3 id="недоліки" tabindex="-1">Недоліки: <a class="header-anchor" href="#недоліки" aria-label="Permalink to &quot;Недоліки:&quot;">​</a></h3><p>LiPo</p><ul><li>Низька (відносна) щільність енергії</li><li>Якість може відрізнятися від великої кількості постачальників</li></ul><p>Li-Ion</p><ul><li>Не так часто</li><li>Набагато дорожче</li><li>Не доступно для великих розмірів та конфігурацій</li><li>Усі клітини відносно малі, тому більші пакети складаються з багатьох клітин, зв&#39;язаних послідовно і паралельно, щоб створити необхідне напругу та ємність</li><li>Нижчі рівні розряду відносно розміру батареї (рейтинг C)</li><li>Складніше адаптуватися до транспортних засобів, які потребують великих струмів</li><li>Нижчі тарифи зарядки (відносно потужності)</li><li>Вимагає більш суворого моніторингу температури під час заряджання та розряджання</li><li>Вимагає змін налаштувань на ESC для використання максимальної ємності (&quot;стандартні&quot; налаштування низької напруги ESC занадто високі).</li><li>При майже порожньому акумуляторі напруга така, що можлива різниця близько 3 В між Lipo та Li-ion (при використанні акумулятора 6S). Це може мати наслідки для очікувань з тяги.</li></ul><h3 id="c-реитинги" tabindex="-1">C Рейтинги <a class="header-anchor" href="#c-реитинги" aria-label="Permalink to &quot;C Рейтинги&quot;">​</a></h3><ul><li>Рейтинг C - це просто кратне заявленої ємності будь-якого типу батареї.</li><li>Оцінка C є важливою (і відрізняється) як для швидкості заряду, так і для швидкості розряду. <ul><li>Наприклад, батарея на 2000 мАг (незалежно від напруги) з розрядом 10C може безпечно і безперервно витікати 20 амперів струму (2000/1000=2Аг x 10C = 20 амперів).</li></ul></li><li>C рейтинги завжди надаються виробником (часто на зовнішній частині батарейного блоку). Хоча їх можна фактично обчислити, вам потрібно кілька частин інформації, і виміряти внутрішній опір клітинок.</li><li>Акумулятори LiPo завжди матимуть вищий рейтинг C, ніж акумулятор Li-Ion. Це пов&#39;язано з типом хімії, а також з внутрішнім опором на кожну клітину (що пов&#39;язано з типом хімії), що призводить до вищих рівнів розряду для акумуляторів LiPo.</li><li>Дотримання виробників рекомендацій щодо обох рейтингів C для заряду та розряду є дуже важливим для здоров&#39;я вашого акумулятора та безпечної експлуатації вашого транспортного засобу (тобто запобігання пожеж, &quot;надування&quot; пакетів та інших неоптимальних станів під час зарядки та розрядки).</li></ul><h3 id="енергетична-щільність" tabindex="-1">Енергетична щільність <a class="header-anchor" href="#енергетична-щільність" aria-label="Permalink to &quot;Енергетична щільність&quot;">​</a></h3><ul><li>Енергетична щільність - це скільки енергії може бути збережено відносно ваги батареї. Зазвичай вимірюється і порівнюється у ват-годинах на кілограм (Вт•год/кг). <ul><li>Ват-години просто розраховуються шляхом множення номінальної (тобто не повністю зарядної напруги) на ємність, наприклад, 3,7 В х 5 Аг = 18,5 Вт-г. Якби у вас був акумулятор на 3 клітки, ваш пакет був би 18,5 Вт·год X 3 = 55 Вт збереженої енергії.</li></ul></li><li>Коли ви враховуєте вагу батареї, ви розраховуєте енергетичну щільність, взявши ват-години і поділивши їх на вагу. <ul><li>Наприклад, 55 Вт годин поділено на (вага батареї в грамах поділена на 1000). Припускаючи, що ця батарея важить 300 грам, тоді 55/(300/1000)=185 Вт·г/кг.</li></ul></li><li>Це число 185 Вт/кг було б на дуже високому рівні для акумулятора LiPo. Літій-іонна батарея, з іншого боку, може досягти 260 Вт·год/кг, що означає, що на кожний кілограм батареї на борту ви можете переносити на 75 Вт·год більше. <ul><li>Якщо ви знаєте, скільки ватт потрібно вашому транспортному засобу для польоту (що може показати модуль поточного батареї), ви можете віднести це збільшене зберігання без додаткової ваги до збільшеного часу польоту.</li></ul></li></ul>',89)]))}const f=a(l,[["render",s]]);export{b as __pageData,f as default};
