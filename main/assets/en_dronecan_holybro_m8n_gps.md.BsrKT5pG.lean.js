import{_ as t,a as r,b as a}from"./chunks/hb_dronecan_m8n_gps_dimension.hyuFq86a.js";import{_ as o,c as n,a8 as i,o as d}from"./chunks/framework.BDnHobkS.js";const _=JSON.parse('{"title":"Holybro DroneCAN M8N GPS","description":"","frontmatter":{},"headers":[],"relativePath":"en/dronecan/holybro_m8n_gps.md","filePath":"en/dronecan/holybro_m8n_gps.md"}'),l={name:"en/dronecan/holybro_m8n_gps.md"};function s(c,e,h,m,p,f){return d(),n("div",null,e[0]||(e[0]=[i('<h1 id="holybro-dronecan-m8n-gps" tabindex="-1">Holybro DroneCAN M8N GPS <a class="header-anchor" href="#holybro-dronecan-m8n-gps" aria-label="Permalink to &quot;Holybro DroneCAN M8N GPS&quot;">​</a></h1><p>The Holybro DroneCAN GPS has an UBLOX M8N module, BMM150 compass, tri-colored LED indicator.</p><p>The GPS module uses the <a href="./">DroneCAN</a> protocol for communication. DroneCAN connections are more resistant to electromagnetic interference compared to serial connection, making it more reliable. In addition, using DroneCAN means that the GPS and compass do not occupy any flight controller serial ports (different/additional CAN devices can be connected to the same CAN bus via a CAN splitter board).</p><img src="'+t+'" width="400px" title="Hero diagram for the GPS module"><h2 id="where-to-buy" tabindex="-1">Where to Buy <a class="header-anchor" href="#where-to-buy" aria-label="Permalink to &quot;Where to Buy&quot;">​</a></h2><p>Order this module from:</p><ul><li><a href="https://holybro.com/products/dronecan-m8n-gps" target="_blank" rel="noreferrer">Holybro</a></li></ul><h2 id="hardware-specifications" tabindex="-1">Hardware Specifications <a class="header-anchor" href="#hardware-specifications" aria-label="Permalink to &quot;Hardware Specifications&quot;">​</a></h2><table tabindex="0"><thead><tr><th></th><th>DroneCAN M8N</th></tr></thead><tbody><tr><td>GNSS Receiver</td><td>Ublox NEO M8N</td></tr><tr><td>Number of Concurrent GNSS</td><td>2 (Default GPS + GLONASS)</td></tr><tr><td>Processor</td><td>STM32G4 (170MHz, 512K FLASH)</td></tr><tr><td>Compass</td><td>BMM150</td></tr><tr><td>Frequency Band</td><td><p>GPS: L1C/A<br>GLONASS: L10F<br>Beidou: B1I<br>Galileo: E1B/C</p></td></tr><tr><td>GNSS Augmentation System</td><td>SBAS: WAAS, EGNOS, MSAS, QZSS</td></tr><tr><td>Navigation Update</td><td>5Hz Default(10Hz MAX)</td></tr><tr><td>Navigation sensitivity</td><td>–167 dBm</td></tr><tr><td>Cold starts</td><td>~ 26s</td></tr><tr><td>Accuracy</td><td>2.5m</td></tr><tr><td>Speed Accuracy</td><td>0.05 m/s</td></tr><tr><td>Max # of Satellites</td><td>22+</td></tr><tr><td>Default CAN BUS data rate</td><td>1MHz</td></tr><tr><td>Communication Protocol</td><td>DroneCAN @ 1 Mbit/s</td></tr><tr><td>Supports Autopilot FW</td><td>PX4, Ardupilot</td></tr><tr><td>Port Type</td><td>GHR-04V-S</td></tr><tr><td>Antenna</td><td>25 x 25 x 4 mm ceramic patch antenna</td></tr><tr><td>Voltage</td><td>4.7-5.2V</td></tr><tr><td>Power consumption</td><td>Less than 200mA @ 5V</td></tr><tr><td>Temperature</td><td>-40~80C</td></tr><tr><td>Size</td><td><p>Diameter: 54mm<br>Thickness: 14.5mm</p></td></tr><tr><td>Weight</td><td>36g</td></tr><tr><td>Cable Length</td><td>26cm</td></tr><tr><td>Other</td><td><ul><li>LNA MAX2659ELT+ RF Amplifier</li><li>Rechargeable Farah capacitance</li><li>Low noise 3.3V regulator</li><li>26cm cable included</li></ul></td></tr></tbody></table><h2 id="hardware-setup" tabindex="-1">Hardware Setup <a class="header-anchor" href="#hardware-setup" aria-label="Permalink to &quot;Hardware Setup&quot;">​</a></h2><h3 id="mounting" tabindex="-1">Mounting <a class="header-anchor" href="#mounting" aria-label="Permalink to &quot;Mounting&quot;">​</a></h3><p>The recommended mounting orientation is with the arrow on the GPS pointing towards the <strong>front of vehicle</strong>.</p><p>The sensor can be mounted anywhere on the frame, but you will need to specify its position, relative to vehicle centre of gravity, during <a href="#px4-configuration">PX4 configuration</a>.</p><h3 id="wiring" tabindex="-1">Wiring <a class="header-anchor" href="#wiring" aria-label="Permalink to &quot;Wiring&quot;">​</a></h3><p>The Holybro DroneCAN GPS is connected to the CAN bus using a Pixhawk standard 4 pin JST GH cable. For more information, refer to the <a href="./../can/#wiring">CAN Wiring</a> instructions.</p><h3 id="pinout" tabindex="-1">Pinout <a class="header-anchor" href="#pinout" aria-label="Permalink to &quot;Pinout&quot;">​</a></h3><p><img src="'+r+'" alt="Diagram showing GPS pinouts"></p><h3 id="dimensions" tabindex="-1">Dimensions <a class="header-anchor" href="#dimensions" aria-label="Permalink to &quot;Dimensions&quot;">​</a></h3><p><img src="'+a+'" alt="Diagram showing GPS dimensions"></p><h2 id="px4-configuration" tabindex="-1">PX4 Configuration <a class="header-anchor" href="#px4-configuration" aria-label="Permalink to &quot;PX4 Configuration&quot;">​</a></h2><p>You need to set necessary <a href="./">DroneCAN</a> parameters and define offsets if the sensor is not centred within the vehicle. The required settings are outlined below.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The GPS will not boot if there is no SD card in the flight controller when powered on.</p></div><h3 id="enable-dronecan" tabindex="-1">Enable DroneCAN <a class="header-anchor" href="#enable-dronecan" aria-label="Permalink to &quot;Enable DroneCAN&quot;">​</a></h3><p>In order to use the ARK GPS board, connect it to the Pixhawk CAN bus and enable the DroneCAN driver by setting parameter <a href="./../advanced_config/parameter_reference.html#UAVCAN_ENABLE">UAVCAN_ENABLE</a> to <code>2</code> for dynamic node allocation (or <code>3</code> if using <a href="./../dronecan/escs.html">DroneCAN ESCs</a>).</p><p>The steps are:</p><ul><li>In <em>QGroundControl</em> set the parameter <a href="./../advanced_config/parameter_reference.html#UAVCAN_ENABLE">UAVCAN_ENABLE</a> to <code>2</code> or <code>3</code> and reboot (see <a href="./../advanced_config/parameters.html">Finding/Updating Parameters</a>).</li><li>Connect GPS CAN to the Pixhawk CAN.</li></ul><p>Once enabled, the module will be detected on boot. GPS data should arrive at 5Hz.</p><p>DroneCAN configuration in PX4 is explained in more detail in <a href="./../dronecan/#enabling-dronecan">DroneCAN &gt; Enabling DroneCAN</a>.</p><h3 id="sensor-position-configuration" tabindex="-1">Sensor Position Configuration <a class="header-anchor" href="#sensor-position-configuration" aria-label="Permalink to &quot;Sensor Position Configuration&quot;">​</a></h3><p>If the sensor is not centred within the vehicle you will also need to define sensor offsets:</p><ul><li>Enable GPS yaw fusion by setting bit 3 of <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_CTRL">EKF2_GPS_CTRL</a> to true.</li><li>Enable <a href="./../advanced_config/parameter_reference.html#UAVCAN_SUB_GPS">UAVCAN_SUB_GPS</a>, <a href="./../advanced_config/parameter_reference.html#UAVCAN_SUB_MAG">UAVCAN_SUB_MAG</a>, and <a href="./../advanced_config/parameter_reference.html#UAVCAN_SUB_BARO">UAVCAN_SUB_BARO</a>.</li><li>Set <a href="./../advanced_config/parameter_reference.html#CANNODE_TERM">CANNODE_TERM</a> to <code>1</code> if this is that last node on the CAN bus.</li><li>The parameters <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_POS_X">EKF2_GPS_POS_X</a>, <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_POS_Y">EKF2_GPS_POS_Y</a> and <a href="./../advanced_config/parameter_reference.html#EKF2_GPS_POS_Z">EKF2_GPS_POS_Z</a> can be set to account for the offset of the ARK GPS from the vehicles centre of gravity.</li></ul>',31)]))}const g=o(l,[["render",s]]);export{_ as __pageData,g as default};
