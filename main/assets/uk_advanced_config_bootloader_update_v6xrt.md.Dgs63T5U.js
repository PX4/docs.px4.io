import{_ as t,a as e,b as a,c as i,d as r,e as s,f as p,g as l,h as n,i as h,j as d,k as c,l as g,m as u,n as m}from"./chunks/bootloader_update_v6xrt_step13.Cwf3-dxP.js";import{_,c as b,a8 as x,o as k}from"./chunks/framework.BDnHobkS.js";const R=JSON.parse('{"title":"Оновлення завантажувача Pixhawk V6X-RT через USB","description":"","frontmatter":{},"headers":[],"relativePath":"uk/advanced_config/bootloader_update_v6xrt.md","filePath":"uk/advanced_config/bootloader_update_v6xrt.md"}'),v={name:"uk/advanced_config/bootloader_update_v6xrt.md"};function S(f,o,F,P,X,w){return k(),b("div",null,o[0]||(o[0]=[x('<h1 id="оновлення-завантажувача-pixhawk-v6x-rt-через-usb" tabindex="-1">Оновлення завантажувача Pixhawk V6X-RT через USB <a class="header-anchor" href="#оновлення-завантажувача-pixhawk-v6x-rt-через-usb" aria-label="Permalink to &quot;Оновлення завантажувача Pixhawk V6X-RT через USB&quot;">​</a></h1><p>У цій темі пояснюється флеш-завантажувач <a href="./../flight_controller/pixhawk6x-rt.html">Pixhawk FMUv6X-RT</a> через USB <em>без необхідності перевірки налагодження</em>.</p><h2 id="загальнии-огляд" tabindex="-1">Загальний огляд <a class="header-anchor" href="#загальнии-огляд" aria-label="Permalink to &quot;Загальний огляд&quot;">​</a></h2><p><em>PX4 Bootloader</em> використовується для завантаження прошивки для <a href="./../flight_controller/pixhawk_series.html">Pixhawk boards</a> (PX4FMU, PX4IO).</p><p>Зазвичай контролери Pixhawk поставляються з попередньо встановленою відповідною версією завантажувача. Однак у деяких випадках він може бути відсутнім або може бути присутня старіша версія, яку потрібно оновити. Також можливо, що пристрій заблоковано, тому пристрій потрібно стерти та встановити новий завантажувач.</p><p>Більшість контролерів польоту вимагають використання зонду для відлагодження для оновлення завантажувальної програми, як обговорено в <a href="./../advanced_config/bootloader_update.html#debug-probe-bootloader-update">Оновлення завантажувальної програми &gt; Оновлення завантажувальної програми за допомогою Debug Probe</a>. Ви можете використовувати цей підхід для Pixhawk FMUv6X-RT, але якщо у вас немає зонда для налагодження, ви можете скористатися інструкціями, викладеними в цьому розділі.</p><h2 id="створення-завантажувача-px4-fmuv6x-rt" tabindex="-1">Створення завантажувача PX4 FMUv6X-RT <a class="header-anchor" href="#створення-завантажувача-px4-fmuv6x-rt" aria-label="Permalink to &quot;Створення завантажувача PX4 FMUv6X-RT&quot;">​</a></h2><p>Це можна створити з папки PX4-Autopilot за допомогою команди <code>make</code> і спеціальної цілі плати з суфіксом <code>_bootloader</code>. Для FMUv6X команда наступна:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6xrt_bootloader</span></span></code></pre></div><p>Це створить двійковий файл завантажувача як <code>build/px4_fmu-v6xrt_bootloader/px4_fmu-v6xrt_bootloader.bin</code>, який можна завантажувати через SWD або ISP. Якщо ви збираєте завантажувач, вам вже повинні бути знайомі з одним із цих варіантів.</p><p>Якщо вам потрібний файл у форматі HEX замість ELF файлу, використовуйте objcopy:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arm-none-eabi-objcopy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ihex</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build/px4_fmu-v6xrt_bootloader/px4_fmu-v6xrt_bootloader.elf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> px4_fmu-v6xrt_bootloader.hex</span></span></code></pre></div><h2 id="прошивання-завантажувальноі-програми-через-usb" tabindex="-1">Прошивання завантажувальної програми через USB. <a class="header-anchor" href="#прошивання-завантажувальноі-програми-через-usb" aria-label="Permalink to &quot;Прошивання завантажувальної програми через USB.&quot;">​</a></h2><p>Pixhawk V6X-RT постачається з вбудованим завантажувачем, розміщеним у ПЗУ. Щоб прошити новий завантажувач через USB, потрібно завантажити [NXP MCUXpresso Secure Provisioning](<a href="https://www.nxp.com/design/design-center/software/development-software/mcuxpresso-software-and-" target="_blank" rel="noreferrer">https://www.nxp.com/design/design-center/software/development-software/mcuxpresso-software-and-</a> tools-/mcuxpresso-secure-provisioning-tool:MCUXPRESSO-SECURE-PROVIZIONING). Інструмент доступний для Windows, Linux і macOS.</p><ol><li><p>Встановіть програму <em>MCUXpresso Secure Provisioning</em> і запустіть додаток:</p><p><img src="'+t+'" alt="Flash bootloader through Secure provisioning - Step 1"></p></li><li><p>Спочатку потрібно створити «Новий Workspace». Виберіть <code>i.mX RT11xx</code> і потім оберіть <code>MIMXRT1176</code></p><p><img src="'+e+'" alt="Flash bootloader through Secure provisioning - Step 2"></p></li><li><p>Після створення «Нового робочого простору» натисніть кнопку <strong>FlexSPI NOR - спрощений</strong></p><p><img src="'+a+'" alt="Flash bootloader through Secure provisioning - Step 3"></p></li><li><p>У вікні <em>Конфігурація пам&#39;яті завантажувальної програми</em> змініть &quot;Тип пристрою&quot; на <code>Macronix Octal DDR</code> і натисніть <strong>ОК</strong>.</p></li></ol><p><img src="'+i+'" alt="Flash bootloader through Secure provisioning - Step 4"></p><ol><li><p>На панелі меню виберіть <strong>Інструменти &gt; Програматор Flash</strong>:</p><p><img src="'+r+'" alt="Flash bootloader through Secure provisioning - Step 5"></p></li><li><p>Ви повинні отримати спливаюче вікно, що показує, що Pixhawk V6X-RT не знаходиться в режимі &quot;завантажувальної програми ISP&quot;.</p><p><img src="'+s+'" alt="Flash bootloader through Secure provisioning - Step 6"></p><p>Щоб перевести Pixhawk V6X-RT у режим &quot;завантажувальної програми ISP&quot;, є два варіанти:</p><ol><li><p>Запустіть QGC, підключіть Pixhawk, виберіть <strong>Аналітичні інструменти</strong>, а потім <strong>Консоль MAVLINK</strong>. На тип консолі <code>reboot -i</code>. Це переведе Pixhawk V6X-RT у режим &quot;завантажувальної програми ISP&quot;.</p><p><img src="'+p+'" alt="ISP bootloader mode"></p></li><li><p>Якщо плата &quot;заблокована&quot; (заблокована завантажувальна програма) і підключення до QGC неможливе, відкрийте модуль FMUM і натисніть кнопку BOOT (помічена червоним кружечком на зображенні нижче), утримуючи її натиснутою під час включення живлення до плати.</p><img src="'+l+'" style="zoom:67%;"><p>Натисніть <strong>ТАК</strong> для запуску інструменту <em>Flash програми</em>.</p></li></ol></li><li><p>Коли починається програмування флеш-пам&#39;яті, ви отримаєте спливаюче вікно для налаштування цільової пам&#39;яті. Натисніть <strong>Так</strong>.</p><p><img src="'+n+'" alt="Flash bootloader through Secure provisioning - Step 7"></p></li><li><p>Коли конфігурація цільової пам&#39;яті успішна, ви можете натиснути кнопку <strong>Стерти все</strong></p><p><img src="'+h+'" alt="Flash bootloader through Secure provisioning - Step 8"></p></li><li><p>Після очищення флеш-пам&#39;яті натисніть кнопку <strong>Завантажити ...</strong>, а потім натисніть кнопку <strong>Огляд</strong>.</p><p><img src="'+d+'" alt="Flash bootloader through Secure provisioning - Step 9"></p></li><li><p>Знайдіть файл <code>px4_fmu-v6xrt_bootloader.bin</code> і натисніть <strong>Відкрити</strong>, а потім натисніть <strong>Завантажити</strong>.</p><p><img src="'+c+'" alt="Flash bootloader through Secure provisioning - Step 10"></p></li><li><p>Якщо завантаження пройшло успішно, ви повинні побачити «Успіх: завантажити з файлу» внизу праворуч</p><p><img src="'+g+'" alt="Flash bootloader through Secure provisioning - Step 11"></p></li><li><p>Натисніть кнопку <strong>Запис</strong>, щоб прошити завантажувальну програму PX4.</p></li></ol><p><img src="'+u+'" alt="Flash bootloader through Secure provisioning - Step 12"></p><ol><li><p>У випадку успішного виконання воно повинно відображати &quot;Success: Запис пам&#39;яті 0x30000000 - 0x3XXXXXXX&quot;. Зауваження: значення можуть відрізнятися через зміни завантажувальної програми.</p><p><img src="'+m+'" alt="Flash bootloader through Secure provisioning - Step 13"></p></li></ol><p>Тепер від&#39;єднайте Pixhawk V6X-RT і знову ввімкніть плату. Після оновлення завантажувача ви можете <a href="./../config/firmware.html">завантажити прошивку PX4</a> за допомогою <em>QGroundControl</em>.</p>',20)]))}const B=_(v,[["render",S]]);export{R as __pageData,B as default};
